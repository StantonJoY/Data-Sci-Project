
/* /web/static/lib/luxon/luxon.js defined in bundle 'web.assets_frontend_lazy' */
var luxon=(function(exports){'use strict';function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;subClass.__proto__=superClass;}
function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}
function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}
function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}
function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct;}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}
return _construct.apply(null,arguments);}
function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1;}
function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function");}
if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}
function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}
Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}
function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}
return target;}
function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}
function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2;}
function _createForOfIteratorHelperLoose(o){var i=0;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(o=_unsupportedIterableToArray(o)))return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
i=o[Symbol.iterator]();return i.next.bind(i);}
var LuxonError=function(_Error){_inheritsLoose(LuxonError,_Error);function LuxonError(){return _Error.apply(this,arguments)||this;}
return LuxonError;}(_wrapNativeSuper(Error));var InvalidDateTimeError=function(_LuxonError){_inheritsLoose(InvalidDateTimeError,_LuxonError);function InvalidDateTimeError(reason){return _LuxonError.call(this,"Invalid DateTime: "+reason.toMessage())||this;}
return InvalidDateTimeError;}(LuxonError);var InvalidIntervalError=function(_LuxonError2){_inheritsLoose(InvalidIntervalError,_LuxonError2);function InvalidIntervalError(reason){return _LuxonError2.call(this,"Invalid Interval: "+reason.toMessage())||this;}
return InvalidIntervalError;}(LuxonError);var InvalidDurationError=function(_LuxonError3){_inheritsLoose(InvalidDurationError,_LuxonError3);function InvalidDurationError(reason){return _LuxonError3.call(this,"Invalid Duration: "+reason.toMessage())||this;}
return InvalidDurationError;}(LuxonError);var ConflictingSpecificationError=function(_LuxonError4){_inheritsLoose(ConflictingSpecificationError,_LuxonError4);function ConflictingSpecificationError(){return _LuxonError4.apply(this,arguments)||this;}
return ConflictingSpecificationError;}(LuxonError);var InvalidUnitError=function(_LuxonError5){_inheritsLoose(InvalidUnitError,_LuxonError5);function InvalidUnitError(unit){return _LuxonError5.call(this,"Invalid unit "+unit)||this;}
return InvalidUnitError;}(LuxonError);var InvalidArgumentError=function(_LuxonError6){_inheritsLoose(InvalidArgumentError,_LuxonError6);function InvalidArgumentError(){return _LuxonError6.apply(this,arguments)||this;}
return InvalidArgumentError;}(LuxonError);var ZoneIsAbstractError=function(_LuxonError7){_inheritsLoose(ZoneIsAbstractError,_LuxonError7);function ZoneIsAbstractError(){return _LuxonError7.call(this,"Zone is an abstract class")||this;}
return ZoneIsAbstractError;}(LuxonError);var n="numeric",s="short",l="long";var DATE_SHORT={year:n,month:n,day:n};var DATE_MED={year:n,month:s,day:n};var DATE_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s};var DATE_FULL={year:n,month:l,day:n};var DATE_HUGE={year:n,month:l,day:n,weekday:l};var TIME_SIMPLE={hour:n,minute:n};var TIME_WITH_SECONDS={hour:n,minute:n,second:n};var TIME_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,timeZoneName:s};var TIME_WITH_LONG_OFFSET={hour:n,minute:n,second:n,timeZoneName:l};var TIME_24_SIMPLE={hour:n,minute:n,hour12:false};var TIME_24_WITH_SECONDS={hour:n,minute:n,second:n,hour12:false};var TIME_24_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,hour12:false,timeZoneName:s};var TIME_24_WITH_LONG_OFFSET={hour:n,minute:n,second:n,hour12:false,timeZoneName:l};var DATETIME_SHORT={year:n,month:n,day:n,hour:n,minute:n};var DATETIME_SHORT_WITH_SECONDS={year:n,month:n,day:n,hour:n,minute:n,second:n};var DATETIME_MED={year:n,month:s,day:n,hour:n,minute:n};var DATETIME_MED_WITH_SECONDS={year:n,month:s,day:n,hour:n,minute:n,second:n};var DATETIME_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s,hour:n,minute:n};var DATETIME_FULL={year:n,month:l,day:n,hour:n,minute:n,timeZoneName:s};var DATETIME_FULL_WITH_SECONDS={year:n,month:l,day:n,hour:n,minute:n,second:n,timeZoneName:s};var DATETIME_HUGE={year:n,month:l,day:n,weekday:l,hour:n,minute:n,timeZoneName:l};var DATETIME_HUGE_WITH_SECONDS={year:n,month:l,day:n,weekday:l,hour:n,minute:n,second:n,timeZoneName:l};function isUndefined(o){return typeof o==="undefined";}
function isNumber(o){return typeof o==="number";}
function isInteger(o){return typeof o==="number"&&o%1===0;}
function isString(o){return typeof o==="string";}
function isDate(o){return Object.prototype.toString.call(o)==="[object Date]";}
function hasIntl(){try{return typeof Intl!=="undefined"&&Intl.DateTimeFormat;}catch(e){return false;}}
function hasFormatToParts(){return!isUndefined(Intl.DateTimeFormat.prototype.formatToParts);}
function hasRelative(){try{return typeof Intl!=="undefined"&&!!Intl.RelativeTimeFormat;}catch(e){return false;}}
function maybeArray(thing){return Array.isArray(thing)?thing:[thing];}
function bestBy(arr,by,compare){if(arr.length===0){return undefined;}
return arr.reduce(function(best,next){var pair=[by(next),next];if(!best){return pair;}else if(compare(best[0],pair[0])===best[0]){return best;}else{return pair;}},null)[1];}
function pick(obj,keys){return keys.reduce(function(a,k){a[k]=obj[k];return a;},{});}
function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}
function integerBetween(thing,bottom,top){return isInteger(thing)&&thing>=bottom&&thing<=top;}
function floorMod(x,n){return x-n*Math.floor(x/n);}
function padStart(input,n){if(n===void 0){n=2;}
if(input.toString().length<n){return("0".repeat(n)+input).slice(-n);}else{return input.toString();}}
function parseInteger(string){if(isUndefined(string)||string===null||string===""){return undefined;}else{return parseInt(string,10);}}
function parseMillis(fraction){if(isUndefined(fraction)||fraction===null||fraction===""){return undefined;}else{var f=parseFloat("0."+fraction)*1000;return Math.floor(f);}}
function roundTo(number,digits,towardZero){if(towardZero===void 0){towardZero=false;}
var factor=Math.pow(10,digits),rounder=towardZero?Math.trunc:Math.round;return rounder(number*factor)/factor;}
function isLeapYear(year){return year%4===0&&(year%100!==0||year%400===0);}
function daysInYear(year){return isLeapYear(year)?366:365;}
function daysInMonth(year,month){var modMonth=floorMod(month-1,12)+1,modYear=year+(month-modMonth)/12;if(modMonth===2){return isLeapYear(modYear)?29:28;}else{return[31,null,31,30,31,30,31,31,30,31,30,31][modMonth-1];}}
function objToLocalTS(obj){var d=Date.UTC(obj.year,obj.month-1,obj.day,obj.hour,obj.minute,obj.second,obj.millisecond);if(obj.year<100&&obj.year>=0){d=new Date(d);d.setUTCFullYear(d.getUTCFullYear()-1900);}
return+d;}
function weeksInWeekYear(weekYear){var p1=(weekYear+Math.floor(weekYear/4)-Math.floor(weekYear/100)+Math.floor(weekYear/400))%7,last=weekYear-1,p2=(last+Math.floor(last/4)-Math.floor(last/100)+Math.floor(last/400))%7;return p1===4||p2===3?53:52;}
function untruncateYear(year){if(year>99){return year;}else return year>60?1900+year:2000+year;}
function parseZoneInfo(ts,offsetFormat,locale,timeZone){if(timeZone===void 0){timeZone=null;}
var date=new Date(ts),intlOpts={hour12:false,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};if(timeZone){intlOpts.timeZone=timeZone;}
var modified=Object.assign({timeZoneName:offsetFormat},intlOpts),intl=hasIntl();if(intl&&hasFormatToParts()){var parsed=new Intl.DateTimeFormat(locale,modified).formatToParts(date).find(function(m){return m.type.toLowerCase()==="timezonename";});return parsed?parsed.value:null;}else if(intl){var without=new Intl.DateTimeFormat(locale,intlOpts).format(date),included=new Intl.DateTimeFormat(locale,modified).format(date),diffed=included.substring(without.length),trimmed=diffed.replace(/^[, \u200e]+/,"");return trimmed;}else{return null;}}
function signedOffset(offHourStr,offMinuteStr){var offHour=parseInt(offHourStr,10);if(Number.isNaN(offHour)){offHour=0;}
var offMin=parseInt(offMinuteStr,10)||0,offMinSigned=offHour<0||Object.is(offHour,-0)?-offMin:offMin;return offHour*60+offMinSigned;}
function asNumber(value){var numericValue=Number(value);if(typeof value==="boolean"||value===""||Number.isNaN(numericValue))throw new InvalidArgumentError("Invalid unit value "+value);return numericValue;}
function normalizeObject(obj,normalizer,nonUnitKeys){var normalized={};for(var u in obj){if(hasOwnProperty(obj,u)){if(nonUnitKeys.indexOf(u)>=0)continue;var v=obj[u];if(v===undefined||v===null)continue;normalized[normalizer(u)]=asNumber(v);}}
return normalized;}
function formatOffset(offset,format){var hours=Math.trunc(Math.abs(offset/60)),minutes=Math.trunc(Math.abs(offset%60)),sign=offset>=0?"+":"-";switch(format){case"short":return""+sign+padStart(hours,2)+":"+padStart(minutes,2);case"narrow":return""+sign+hours+(minutes>0?":"+minutes:"");case"techie":return""+sign+padStart(hours,2)+padStart(minutes,2);default:throw new RangeError("Value format "+format+" is out of range for property format");}}
function timeObject(obj){return pick(obj,["hour","minute","second","millisecond"]);}
var ianaRegex=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function stringify(obj){return JSON.stringify(obj,Object.keys(obj).sort());}
var monthsLong=["January","February","March","April","May","June","July","August","September","October","November","December"];var monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var monthsNarrow=["J","F","M","A","M","J","J","A","S","O","N","D"];function months(length){switch(length){case"narrow":return monthsNarrow;case"short":return monthsShort;case"long":return monthsLong;case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null;}}
var weekdaysLong=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];var weekdaysShort=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];var weekdaysNarrow=["M","T","W","T","F","S","S"];function weekdays(length){switch(length){case"narrow":return weekdaysNarrow;case"short":return weekdaysShort;case"long":return weekdaysLong;case"numeric":return["1","2","3","4","5","6","7"];default:return null;}}
var meridiems=["AM","PM"];var erasLong=["Before Christ","Anno Domini"];var erasShort=["BC","AD"];var erasNarrow=["B","A"];function eras(length){switch(length){case"narrow":return erasNarrow;case"short":return erasShort;case"long":return erasLong;default:return null;}}
function meridiemForDateTime(dt){return meridiems[dt.hour<12?0:1];}
function weekdayForDateTime(dt,length){return weekdays(length)[dt.weekday-1];}
function monthForDateTime(dt,length){return months(length)[dt.month-1];}
function eraForDateTime(dt,length){return eras(length)[dt.year<0?0:1];}
function formatRelativeTime(unit,count,numeric,narrow){if(numeric===void 0){numeric="always";}
if(narrow===void 0){narrow=false;}
var units={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var lastable=["hours","minutes","seconds"].indexOf(unit)===-1;if(numeric==="auto"&&lastable){var isDay=unit==="days";switch(count){case 1:return isDay?"tomorrow":"next "+units[unit][0];case-1:return isDay?"yesterday":"last "+units[unit][0];case 0:return isDay?"today":"this "+units[unit][0];}}
var isInPast=Object.is(count,-0)||count<0,fmtValue=Math.abs(count),singular=fmtValue===1,lilUnits=units[unit],fmtUnit=narrow?singular?lilUnits[1]:lilUnits[2]||lilUnits[1]:singular?units[unit][0]:unit;return isInPast?fmtValue+" "+fmtUnit+" ago":"in "+fmtValue+" "+fmtUnit;}
function formatString(knownFormat){var filtered=pick(knownFormat,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]),key=stringify(filtered),dateTimeHuge="EEEE, LLLL d, yyyy, h:mm a";switch(key){case stringify(DATE_SHORT):return"M/d/yyyy";case stringify(DATE_MED):return"LLL d, yyyy";case stringify(DATE_MED_WITH_WEEKDAY):return"EEE, LLL d, yyyy";case stringify(DATE_FULL):return"LLLL d, yyyy";case stringify(DATE_HUGE):return"EEEE, LLLL d, yyyy";case stringify(TIME_SIMPLE):return"h:mm a";case stringify(TIME_WITH_SECONDS):return"h:mm:ss a";case stringify(TIME_WITH_SHORT_OFFSET):return"h:mm a";case stringify(TIME_WITH_LONG_OFFSET):return"h:mm a";case stringify(TIME_24_SIMPLE):return"HH:mm";case stringify(TIME_24_WITH_SECONDS):return"HH:mm:ss";case stringify(TIME_24_WITH_SHORT_OFFSET):return"HH:mm";case stringify(TIME_24_WITH_LONG_OFFSET):return"HH:mm";case stringify(DATETIME_SHORT):return"M/d/yyyy, h:mm a";case stringify(DATETIME_MED):return"LLL d, yyyy, h:mm a";case stringify(DATETIME_FULL):return"LLLL d, yyyy, h:mm a";case stringify(DATETIME_HUGE):return dateTimeHuge;case stringify(DATETIME_SHORT_WITH_SECONDS):return"M/d/yyyy, h:mm:ss a";case stringify(DATETIME_MED_WITH_SECONDS):return"LLL d, yyyy, h:mm:ss a";case stringify(DATETIME_MED_WITH_WEEKDAY):return"EEE, d LLL yyyy, h:mm a";case stringify(DATETIME_FULL_WITH_SECONDS):return"LLLL d, yyyy, h:mm:ss a";case stringify(DATETIME_HUGE_WITH_SECONDS):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return dateTimeHuge;}}
function stringifyTokens(splits,tokenToString){var s="";for(var _iterator=_createForOfIteratorHelperLoose(splits),_step;!(_step=_iterator()).done;){var token=_step.value;if(token.literal){s+=token.val;}else{s+=tokenToString(token.val);}}
return s;}
var _macroTokenToFormatOpts={D:DATE_SHORT,DD:DATE_MED,DDD:DATE_FULL,DDDD:DATE_HUGE,t:TIME_SIMPLE,tt:TIME_WITH_SECONDS,ttt:TIME_WITH_SHORT_OFFSET,tttt:TIME_WITH_LONG_OFFSET,T:TIME_24_SIMPLE,TT:TIME_24_WITH_SECONDS,TTT:TIME_24_WITH_SHORT_OFFSET,TTTT:TIME_24_WITH_LONG_OFFSET,f:DATETIME_SHORT,ff:DATETIME_MED,fff:DATETIME_FULL,ffff:DATETIME_HUGE,F:DATETIME_SHORT_WITH_SECONDS,FF:DATETIME_MED_WITH_SECONDS,FFF:DATETIME_FULL_WITH_SECONDS,FFFF:DATETIME_HUGE_WITH_SECONDS};var Formatter=function(){Formatter.create=function create(locale,opts){if(opts===void 0){opts={};}
return new Formatter(locale,opts);};Formatter.parseFormat=function parseFormat(fmt){var current=null,currentFull="",bracketed=false;var splits=[];for(var i=0;i<fmt.length;i++){var c=fmt.charAt(i);if(c==="'"){if(currentFull.length>0){splits.push({literal:bracketed,val:currentFull});}
current=null;currentFull="";bracketed=!bracketed;}else if(bracketed){currentFull+=c;}else if(c===current){currentFull+=c;}else{if(currentFull.length>0){splits.push({literal:false,val:currentFull});}
currentFull=c;current=c;}}
if(currentFull.length>0){splits.push({literal:bracketed,val:currentFull});}
return splits;};Formatter.macroTokenToFormatOpts=function macroTokenToFormatOpts(token){return _macroTokenToFormatOpts[token];};function Formatter(locale,formatOpts){this.opts=formatOpts;this.loc=locale;this.systemLoc=null;}
var _proto=Formatter.prototype;_proto.formatWithSystemDefault=function formatWithSystemDefault(dt,opts){if(this.systemLoc===null){this.systemLoc=this.loc.redefaultToSystem();}
var df=this.systemLoc.dtFormatter(dt,Object.assign({},this.opts,opts));return df.format();};_proto.formatDateTime=function formatDateTime(dt,opts){if(opts===void 0){opts={};}
var df=this.loc.dtFormatter(dt,Object.assign({},this.opts,opts));return df.format();};_proto.formatDateTimeParts=function formatDateTimeParts(dt,opts){if(opts===void 0){opts={};}
var df=this.loc.dtFormatter(dt,Object.assign({},this.opts,opts));return df.formatToParts();};_proto.resolvedOptions=function resolvedOptions(dt,opts){if(opts===void 0){opts={};}
var df=this.loc.dtFormatter(dt,Object.assign({},this.opts,opts));return df.resolvedOptions();};_proto.num=function num(n,p){if(p===void 0){p=0;}
if(this.opts.forceSimple){return padStart(n,p);}
var opts=Object.assign({},this.opts);if(p>0){opts.padTo=p;}
return this.loc.numberFormatter(opts).format(n);};_proto.formatDateTimeFromString=function formatDateTimeFromString(dt,fmt){var _this=this;var knownEnglish=this.loc.listingMode()==="en",useDateTimeFormatter=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory"&&hasFormatToParts(),string=function string(opts,extract){return _this.loc.extract(dt,opts,extract);},formatOffset=function formatOffset(opts){if(dt.isOffsetFixed&&dt.offset===0&&opts.allowZ){return"Z";}
return dt.isValid?dt.zone.formatOffset(dt.ts,opts.format):"";},meridiem=function meridiem(){return knownEnglish?meridiemForDateTime(dt):string({hour:"numeric",hour12:true},"dayperiod");},month=function month(length,standalone){return knownEnglish?monthForDateTime(dt,length):string(standalone?{month:length}:{month:length,day:"numeric"},"month");},weekday=function weekday(length,standalone){return knownEnglish?weekdayForDateTime(dt,length):string(standalone?{weekday:length}:{weekday:length,month:"long",day:"numeric"},"weekday");},maybeMacro=function maybeMacro(token){var formatOpts=Formatter.macroTokenToFormatOpts(token);if(formatOpts){return _this.formatWithSystemDefault(dt,formatOpts);}else{return token;}},era=function era(length){return knownEnglish?eraForDateTime(dt,length):string({era:length},"era");},tokenToString=function tokenToString(token){switch(token){case"S":return _this.num(dt.millisecond);case"u":case"SSS":return _this.num(dt.millisecond,3);case"s":return _this.num(dt.second);case"ss":return _this.num(dt.second,2);case"m":return _this.num(dt.minute);case"mm":return _this.num(dt.minute,2);case"h":return _this.num(dt.hour%12===0?12:dt.hour%12);case"hh":return _this.num(dt.hour%12===0?12:dt.hour%12,2);case"H":return _this.num(dt.hour);case"HH":return _this.num(dt.hour,2);case"Z":return formatOffset({format:"narrow",allowZ:_this.opts.allowZ});case"ZZ":return formatOffset({format:"short",allowZ:_this.opts.allowZ});case"ZZZ":return formatOffset({format:"techie",allowZ:_this.opts.allowZ});case"ZZZZ":return dt.zone.offsetName(dt.ts,{format:"short",locale:_this.loc.locale});case"ZZZZZ":return dt.zone.offsetName(dt.ts,{format:"long",locale:_this.loc.locale});case"z":return dt.zoneName;case"a":return meridiem();case"d":return useDateTimeFormatter?string({day:"numeric"},"day"):_this.num(dt.day);case"dd":return useDateTimeFormatter?string({day:"2-digit"},"day"):_this.num(dt.day,2);case"c":return _this.num(dt.weekday);case"ccc":return weekday("short",true);case"cccc":return weekday("long",true);case"ccccc":return weekday("narrow",true);case"E":return _this.num(dt.weekday);case"EEE":return weekday("short",false);case"EEEE":return weekday("long",false);case"EEEEE":return weekday("narrow",false);case"L":return useDateTimeFormatter?string({month:"numeric",day:"numeric"},"month"):_this.num(dt.month);case"LL":return useDateTimeFormatter?string({month:"2-digit",day:"numeric"},"month"):_this.num(dt.month,2);case"LLL":return month("short",true);case"LLLL":return month("long",true);case"LLLLL":return month("narrow",true);case"M":return useDateTimeFormatter?string({month:"numeric"},"month"):_this.num(dt.month);case"MM":return useDateTimeFormatter?string({month:"2-digit"},"month"):_this.num(dt.month,2);case"MMM":return month("short",false);case"MMMM":return month("long",false);case"MMMMM":return month("narrow",false);case"y":return useDateTimeFormatter?string({year:"numeric"},"year"):_this.num(dt.year);case"yy":return useDateTimeFormatter?string({year:"2-digit"},"year"):_this.num(dt.year.toString().slice(-2),2);case"yyyy":return useDateTimeFormatter?string({year:"numeric"},"year"):_this.num(dt.year,4);case"yyyyyy":return useDateTimeFormatter?string({year:"numeric"},"year"):_this.num(dt.year,6);case"G":return era("short");case"GG":return era("long");case"GGGGG":return era("narrow");case"kk":return _this.num(dt.weekYear.toString().slice(-2),2);case"kkkk":return _this.num(dt.weekYear,4);case"W":return _this.num(dt.weekNumber);case"WW":return _this.num(dt.weekNumber,2);case"o":return _this.num(dt.ordinal);case"ooo":return _this.num(dt.ordinal,3);case"q":return _this.num(dt.quarter);case"qq":return _this.num(dt.quarter,2);case"X":return _this.num(Math.floor(dt.ts/1000));case"x":return _this.num(dt.ts);default:return maybeMacro(token);}};return stringifyTokens(Formatter.parseFormat(fmt),tokenToString);};_proto.formatDurationFromString=function formatDurationFromString(dur,fmt){var _this2=this;var tokenToField=function tokenToField(token){switch(token[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null;}},tokenToString=function tokenToString(lildur){return function(token){var mapped=tokenToField(token);if(mapped){return _this2.num(lildur.get(mapped),token.length);}else{return token;}};},tokens=Formatter.parseFormat(fmt),realTokens=tokens.reduce(function(found,_ref){var literal=_ref.literal,val=_ref.val;return literal?found:found.concat(val);},[]),collapsed=dur.shiftTo.apply(dur,realTokens.map(tokenToField).filter(function(t){return t;}));return stringifyTokens(tokens,tokenToString(collapsed));};return Formatter;}();var Invalid=function(){function Invalid(reason,explanation){this.reason=reason;this.explanation=explanation;}
var _proto=Invalid.prototype;_proto.toMessage=function toMessage(){if(this.explanation){return this.reason+": "+this.explanation;}else{return this.reason;}};return Invalid;}();var Zone=function(){function Zone(){}
var _proto=Zone.prototype;_proto.offsetName=function offsetName(ts,opts){throw new ZoneIsAbstractError();};_proto.formatOffset=function formatOffset(ts,format){throw new ZoneIsAbstractError();};_proto.offset=function offset(ts){throw new ZoneIsAbstractError();};_proto.equals=function equals(otherZone){throw new ZoneIsAbstractError();};_createClass(Zone,[{key:"type",get:function get(){throw new ZoneIsAbstractError();}},{key:"name",get:function get(){throw new ZoneIsAbstractError();}},{key:"universal",get:function get(){throw new ZoneIsAbstractError();}},{key:"isValid",get:function get(){throw new ZoneIsAbstractError();}}]);return Zone;}();var singleton=null;var LocalZone=function(_Zone){_inheritsLoose(LocalZone,_Zone);function LocalZone(){return _Zone.apply(this,arguments)||this;}
var _proto=LocalZone.prototype;_proto.offsetName=function offsetName(ts,_ref){var format=_ref.format,locale=_ref.locale;return parseZoneInfo(ts,format,locale);};_proto.formatOffset=function formatOffset$1(ts,format){return formatOffset(this.offset(ts),format);};_proto.offset=function offset(ts){return-new Date(ts).getTimezoneOffset();};_proto.equals=function equals(otherZone){return otherZone.type==="local";};_createClass(LocalZone,[{key:"type",get:function get(){return"local";}},{key:"name",get:function get(){if(hasIntl()){return new Intl.DateTimeFormat().resolvedOptions().timeZone;}else return"local";}},{key:"universal",get:function get(){return false;}},{key:"isValid",get:function get(){return true;}}],[{key:"instance",get:function get(){if(singleton===null){singleton=new LocalZone();}
return singleton;}}]);return LocalZone;}(Zone);var matchingRegex=RegExp("^"+ianaRegex.source+"$");var dtfCache={};function makeDTF(zone){if(!dtfCache[zone]){dtfCache[zone]=new Intl.DateTimeFormat("en-US",{hour12:false,timeZone:zone,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});}
return dtfCache[zone];}
var typeToPos={year:0,month:1,day:2,hour:3,minute:4,second:5};function hackyOffset(dtf,date){var formatted=dtf.format(date).replace(/\u200E/g,""),parsed=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(formatted),fMonth=parsed[1],fDay=parsed[2],fYear=parsed[3],fHour=parsed[4],fMinute=parsed[5],fSecond=parsed[6];return[fYear,fMonth,fDay,fHour,fMinute,fSecond];}
function partsOffset(dtf,date){var formatted=dtf.formatToParts(date),filled=[];for(var i=0;i<formatted.length;i++){var _formatted$i=formatted[i],type=_formatted$i.type,value=_formatted$i.value,pos=typeToPos[type];if(!isUndefined(pos)){filled[pos]=parseInt(value,10);}}
return filled;}
var ianaZoneCache={};var IANAZone=function(_Zone){_inheritsLoose(IANAZone,_Zone);IANAZone.create=function create(name){if(!ianaZoneCache[name]){ianaZoneCache[name]=new IANAZone(name);}
return ianaZoneCache[name];};IANAZone.resetCache=function resetCache(){ianaZoneCache={};dtfCache={};};IANAZone.isValidSpecifier=function isValidSpecifier(s){return!!(s&&s.match(matchingRegex));};IANAZone.isValidZone=function isValidZone(zone){try{new Intl.DateTimeFormat("en-US",{timeZone:zone}).format();return true;}catch(e){return false;}};IANAZone.parseGMTOffset=function parseGMTOffset(specifier){if(specifier){var match=specifier.match(/^Etc\/GMT([+-]\d{1,2})$/i);if(match){return-60*parseInt(match[1]);}}
return null;};function IANAZone(name){var _this;_this=_Zone.call(this)||this;_this.zoneName=name;_this.valid=IANAZone.isValidZone(name);return _this;}
var _proto=IANAZone.prototype;_proto.offsetName=function offsetName(ts,_ref){var format=_ref.format,locale=_ref.locale;return parseZoneInfo(ts,format,locale,this.name);};_proto.formatOffset=function formatOffset$1(ts,format){return formatOffset(this.offset(ts),format);};_proto.offset=function offset(ts){var date=new Date(ts),dtf=makeDTF(this.name),_ref2=dtf.formatToParts?partsOffset(dtf,date):hackyOffset(dtf,date),year=_ref2[0],month=_ref2[1],day=_ref2[2],hour=_ref2[3],minute=_ref2[4],second=_ref2[5],adjustedHour=hour===24?0:hour;var asUTC=objToLocalTS({year:year,month:month,day:day,hour:adjustedHour,minute:minute,second:second,millisecond:0});var asTS=+date;var over=asTS%1000;asTS-=over>=0?over:1000+over;return(asUTC-asTS)/(60*1000);};_proto.equals=function equals(otherZone){return otherZone.type==="iana"&&otherZone.name===this.name;};_createClass(IANAZone,[{key:"type",get:function get(){return"iana";}},{key:"name",get:function get(){return this.zoneName;}},{key:"universal",get:function get(){return false;}},{key:"isValid",get:function get(){return this.valid;}}]);return IANAZone;}(Zone);var singleton$1=null;var FixedOffsetZone=function(_Zone){_inheritsLoose(FixedOffsetZone,_Zone);FixedOffsetZone.instance=function instance(offset){return offset===0?FixedOffsetZone.utcInstance:new FixedOffsetZone(offset);};FixedOffsetZone.parseSpecifier=function parseSpecifier(s){if(s){var r=s.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r){return new FixedOffsetZone(signedOffset(r[1],r[2]));}}
return null;};_createClass(FixedOffsetZone,null,[{key:"utcInstance",get:function get(){if(singleton$1===null){singleton$1=new FixedOffsetZone(0);}
return singleton$1;}}]);function FixedOffsetZone(offset){var _this;_this=_Zone.call(this)||this;_this.fixed=offset;return _this;}
var _proto=FixedOffsetZone.prototype;_proto.offsetName=function offsetName(){return this.name;};_proto.formatOffset=function formatOffset$1(ts,format){return formatOffset(this.fixed,format);};_proto.offset=function offset(){return this.fixed;};_proto.equals=function equals(otherZone){return otherZone.type==="fixed"&&otherZone.fixed===this.fixed;};_createClass(FixedOffsetZone,[{key:"type",get:function get(){return"fixed";}},{key:"name",get:function get(){return this.fixed===0?"UTC":"UTC"+formatOffset(this.fixed,"narrow");}},{key:"universal",get:function get(){return true;}},{key:"isValid",get:function get(){return true;}}]);return FixedOffsetZone;}(Zone);var InvalidZone=function(_Zone){_inheritsLoose(InvalidZone,_Zone);function InvalidZone(zoneName){var _this;_this=_Zone.call(this)||this;_this.zoneName=zoneName;return _this;}
var _proto=InvalidZone.prototype;_proto.offsetName=function offsetName(){return null;};_proto.formatOffset=function formatOffset(){return"";};_proto.offset=function offset(){return NaN;};_proto.equals=function equals(){return false;};_createClass(InvalidZone,[{key:"type",get:function get(){return"invalid";}},{key:"name",get:function get(){return this.zoneName;}},{key:"universal",get:function get(){return false;}},{key:"isValid",get:function get(){return false;}}]);return InvalidZone;}(Zone);function normalizeZone(input,defaultZone){var offset;if(isUndefined(input)||input===null){return defaultZone;}else if(input instanceof Zone){return input;}else if(isString(input)){var lowered=input.toLowerCase();if(lowered==="local")return defaultZone;else if(lowered==="utc"||lowered==="gmt")return FixedOffsetZone.utcInstance;else if((offset=IANAZone.parseGMTOffset(input))!=null){return FixedOffsetZone.instance(offset);}else if(IANAZone.isValidSpecifier(lowered))return IANAZone.create(input);else return FixedOffsetZone.parseSpecifier(lowered)||new InvalidZone(input);}else if(isNumber(input)){return FixedOffsetZone.instance(input);}else if(typeof input==="object"&&input.offset&&typeof input.offset==="number"){return input;}else{return new InvalidZone(input);}}
var now=function now(){return Date.now();},defaultZone=null,defaultLocale=null,defaultNumberingSystem=null,defaultOutputCalendar=null,throwOnInvalid=false;var Settings=function(){function Settings(){}
Settings.resetCaches=function resetCaches(){Locale.resetCache();IANAZone.resetCache();};_createClass(Settings,null,[{key:"now",get:function get(){return now;},set:function set(n){now=n;}},{key:"defaultZoneName",get:function get(){return Settings.defaultZone.name;},set:function set(z){if(!z){defaultZone=null;}else{defaultZone=normalizeZone(z);}}},{key:"defaultZone",get:function get(){return defaultZone||LocalZone.instance;}},{key:"defaultLocale",get:function get(){return defaultLocale;},set:function set(locale){defaultLocale=locale;}},{key:"defaultNumberingSystem",get:function get(){return defaultNumberingSystem;},set:function set(numberingSystem){defaultNumberingSystem=numberingSystem;}},{key:"defaultOutputCalendar",get:function get(){return defaultOutputCalendar;},set:function set(outputCalendar){defaultOutputCalendar=outputCalendar;}},{key:"throwOnInvalid",get:function get(){return throwOnInvalid;},set:function set(t){throwOnInvalid=t;}}]);return Settings;}();var intlDTCache={};function getCachedDTF(locString,opts){if(opts===void 0){opts={};}
var key=JSON.stringify([locString,opts]);var dtf=intlDTCache[key];if(!dtf){dtf=new Intl.DateTimeFormat(locString,opts);intlDTCache[key]=dtf;}
return dtf;}
var intlNumCache={};function getCachedINF(locString,opts){if(opts===void 0){opts={};}
var key=JSON.stringify([locString,opts]);var inf=intlNumCache[key];if(!inf){inf=new Intl.NumberFormat(locString,opts);intlNumCache[key]=inf;}
return inf;}
var intlRelCache={};function getCachedRTF(locString,opts){if(opts===void 0){opts={};}
var _opts=opts,base=_opts.base,cacheKeyOpts=_objectWithoutPropertiesLoose(_opts,["base"]);var key=JSON.stringify([locString,cacheKeyOpts]);var inf=intlRelCache[key];if(!inf){inf=new Intl.RelativeTimeFormat(locString,opts);intlRelCache[key]=inf;}
return inf;}
var sysLocaleCache=null;function systemLocale(){if(sysLocaleCache){return sysLocaleCache;}else if(hasIntl()){var computedSys=new Intl.DateTimeFormat().resolvedOptions().locale;sysLocaleCache=!computedSys||computedSys==="und"?"en-US":computedSys;return sysLocaleCache;}else{sysLocaleCache="en-US";return sysLocaleCache;}}
function parseLocaleString(localeStr){var uIndex=localeStr.indexOf("-u-");if(uIndex===-1){return[localeStr];}else{var options;var smaller=localeStr.substring(0,uIndex);try{options=getCachedDTF(localeStr).resolvedOptions();}catch(e){options=getCachedDTF(smaller).resolvedOptions();}
var _options=options,numberingSystem=_options.numberingSystem,calendar=_options.calendar;return[smaller,numberingSystem,calendar];}}
function intlConfigString(localeStr,numberingSystem,outputCalendar){if(hasIntl()){if(outputCalendar||numberingSystem){localeStr+="-u";if(outputCalendar){localeStr+="-ca-"+outputCalendar;}
if(numberingSystem){localeStr+="-nu-"+numberingSystem;}
return localeStr;}else{return localeStr;}}else{return[];}}
function mapMonths(f){var ms=[];for(var i=1;i<=12;i++){var dt=DateTime.utc(2016,i,1);ms.push(f(dt));}
return ms;}
function mapWeekdays(f){var ms=[];for(var i=1;i<=7;i++){var dt=DateTime.utc(2016,11,13+i);ms.push(f(dt));}
return ms;}
function listStuff(loc,length,defaultOK,englishFn,intlFn){var mode=loc.listingMode(defaultOK);if(mode==="error"){return null;}else if(mode==="en"){return englishFn(length);}else{return intlFn(length);}}
function supportsFastNumbers(loc){if(loc.numberingSystem&&loc.numberingSystem!=="latn"){return false;}else{return loc.numberingSystem==="latn"||!loc.locale||loc.locale.startsWith("en")||hasIntl()&&new Intl.DateTimeFormat(loc.intl).resolvedOptions().numberingSystem==="latn";}}
var PolyNumberFormatter=function(){function PolyNumberFormatter(intl,forceSimple,opts){this.padTo=opts.padTo||0;this.floor=opts.floor||false;if(!forceSimple&&hasIntl()){var intlOpts={useGrouping:false};if(opts.padTo>0)intlOpts.minimumIntegerDigits=opts.padTo;this.inf=getCachedINF(intl,intlOpts);}}
var _proto=PolyNumberFormatter.prototype;_proto.format=function format(i){if(this.inf){var fixed=this.floor?Math.floor(i):i;return this.inf.format(fixed);}else{var _fixed=this.floor?Math.floor(i):roundTo(i,3);return padStart(_fixed,this.padTo);}};return PolyNumberFormatter;}();var PolyDateFormatter=function(){function PolyDateFormatter(dt,intl,opts){this.opts=opts;this.hasIntl=hasIntl();var z;if(dt.zone.universal&&this.hasIntl){z="UTC";if(opts.timeZoneName){this.dt=dt;}else{this.dt=dt.offset===0?dt:DateTime.fromMillis(dt.ts+dt.offset*60*1000);}}else if(dt.zone.type==="local"){this.dt=dt;}else{this.dt=dt;z=dt.zone.name;}
if(this.hasIntl){var intlOpts=Object.assign({},this.opts);if(z){intlOpts.timeZone=z;}
this.dtf=getCachedDTF(intl,intlOpts);}}
var _proto2=PolyDateFormatter.prototype;_proto2.format=function format(){if(this.hasIntl){return this.dtf.format(this.dt.toJSDate());}else{var tokenFormat=formatString(this.opts),loc=Locale.create("en-US");return Formatter.create(loc).formatDateTimeFromString(this.dt,tokenFormat);}};_proto2.formatToParts=function formatToParts(){if(this.hasIntl&&hasFormatToParts()){return this.dtf.formatToParts(this.dt.toJSDate());}else{return[];}};_proto2.resolvedOptions=function resolvedOptions(){if(this.hasIntl){return this.dtf.resolvedOptions();}else{return{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"};}};return PolyDateFormatter;}();var PolyRelFormatter=function(){function PolyRelFormatter(intl,isEnglish,opts){this.opts=Object.assign({style:"long"},opts);if(!isEnglish&&hasRelative()){this.rtf=getCachedRTF(intl,opts);}}
var _proto3=PolyRelFormatter.prototype;_proto3.format=function format(count,unit){if(this.rtf){return this.rtf.format(count,unit);}else{return formatRelativeTime(unit,count,this.opts.numeric,this.opts.style!=="long");}};_proto3.formatToParts=function formatToParts(count,unit){if(this.rtf){return this.rtf.formatToParts(count,unit);}else{return[];}};return PolyRelFormatter;}();var Locale=function(){Locale.fromOpts=function fromOpts(opts){return Locale.create(opts.locale,opts.numberingSystem,opts.outputCalendar,opts.defaultToEN);};Locale.create=function create(locale,numberingSystem,outputCalendar,defaultToEN){if(defaultToEN===void 0){defaultToEN=false;}
var specifiedLocale=locale||Settings.defaultLocale,localeR=specifiedLocale||(defaultToEN?"en-US":systemLocale()),numberingSystemR=numberingSystem||Settings.defaultNumberingSystem,outputCalendarR=outputCalendar||Settings.defaultOutputCalendar;return new Locale(localeR,numberingSystemR,outputCalendarR,specifiedLocale);};Locale.resetCache=function resetCache(){sysLocaleCache=null;intlDTCache={};intlNumCache={};intlRelCache={};};Locale.fromObject=function fromObject(_temp){var _ref=_temp===void 0?{}:_temp,locale=_ref.locale,numberingSystem=_ref.numberingSystem,outputCalendar=_ref.outputCalendar;return Locale.create(locale,numberingSystem,outputCalendar);};function Locale(locale,numbering,outputCalendar,specifiedLocale){var _parseLocaleString=parseLocaleString(locale),parsedLocale=_parseLocaleString[0],parsedNumberingSystem=_parseLocaleString[1],parsedOutputCalendar=_parseLocaleString[2];this.locale=parsedLocale;this.numberingSystem=numbering||parsedNumberingSystem||null;this.outputCalendar=outputCalendar||parsedOutputCalendar||null;this.intl=intlConfigString(this.locale,this.numberingSystem,this.outputCalendar);this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=specifiedLocale;this.fastNumbersCached=null;}
var _proto4=Locale.prototype;_proto4.listingMode=function listingMode(defaultOK){if(defaultOK===void 0){defaultOK=true;}
var intl=hasIntl(),hasFTP=intl&&hasFormatToParts(),isActuallyEn=this.isEnglish(),hasNoWeirdness=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");if(!hasFTP&&!(isActuallyEn&&hasNoWeirdness)&&!defaultOK){return"error";}else if(!hasFTP||isActuallyEn&&hasNoWeirdness){return"en";}else{return"intl";}};_proto4.clone=function clone(alts){if(!alts||Object.getOwnPropertyNames(alts).length===0){return this;}else{return Locale.create(alts.locale||this.specifiedLocale,alts.numberingSystem||this.numberingSystem,alts.outputCalendar||this.outputCalendar,alts.defaultToEN||false);}};_proto4.redefaultToEN=function redefaultToEN(alts){if(alts===void 0){alts={};}
return this.clone(Object.assign({},alts,{defaultToEN:true}));};_proto4.redefaultToSystem=function redefaultToSystem(alts){if(alts===void 0){alts={};}
return this.clone(Object.assign({},alts,{defaultToEN:false}));};_proto4.months=function months$1(length,format,defaultOK){var _this=this;if(format===void 0){format=false;}
if(defaultOK===void 0){defaultOK=true;}
return listStuff(this,length,defaultOK,months,function(){var intl=format?{month:length,day:"numeric"}:{month:length},formatStr=format?"format":"standalone";if(!_this.monthsCache[formatStr][length]){_this.monthsCache[formatStr][length]=mapMonths(function(dt){return _this.extract(dt,intl,"month");});}
return _this.monthsCache[formatStr][length];});};_proto4.weekdays=function weekdays$1(length,format,defaultOK){var _this2=this;if(format===void 0){format=false;}
if(defaultOK===void 0){defaultOK=true;}
return listStuff(this,length,defaultOK,weekdays,function(){var intl=format?{weekday:length,year:"numeric",month:"long",day:"numeric"}:{weekday:length},formatStr=format?"format":"standalone";if(!_this2.weekdaysCache[formatStr][length]){_this2.weekdaysCache[formatStr][length]=mapWeekdays(function(dt){return _this2.extract(dt,intl,"weekday");});}
return _this2.weekdaysCache[formatStr][length];});};_proto4.meridiems=function meridiems$1(defaultOK){var _this3=this;if(defaultOK===void 0){defaultOK=true;}
return listStuff(this,undefined,defaultOK,function(){return meridiems;},function(){if(!_this3.meridiemCache){var intl={hour:"numeric",hour12:true};_this3.meridiemCache=[DateTime.utc(2016,11,13,9),DateTime.utc(2016,11,13,19)].map(function(dt){return _this3.extract(dt,intl,"dayperiod");});}
return _this3.meridiemCache;});};_proto4.eras=function eras$1(length,defaultOK){var _this4=this;if(defaultOK===void 0){defaultOK=true;}
return listStuff(this,length,defaultOK,eras,function(){var intl={era:length};if(!_this4.eraCache[length]){_this4.eraCache[length]=[DateTime.utc(-40,1,1),DateTime.utc(2017,1,1)].map(function(dt){return _this4.extract(dt,intl,"era");});}
return _this4.eraCache[length];});};_proto4.extract=function extract(dt,intlOpts,field){var df=this.dtFormatter(dt,intlOpts),results=df.formatToParts(),matching=results.find(function(m){return m.type.toLowerCase()===field;});return matching?matching.value:null;};_proto4.numberFormatter=function numberFormatter(opts){if(opts===void 0){opts={};}
return new PolyNumberFormatter(this.intl,opts.forceSimple||this.fastNumbers,opts);};_proto4.dtFormatter=function dtFormatter(dt,intlOpts){if(intlOpts===void 0){intlOpts={};}
return new PolyDateFormatter(dt,this.intl,intlOpts);};_proto4.relFormatter=function relFormatter(opts){if(opts===void 0){opts={};}
return new PolyRelFormatter(this.intl,this.isEnglish(),opts);};_proto4.isEnglish=function isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||hasIntl()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us");};_proto4.equals=function equals(other){return this.locale===other.locale&&this.numberingSystem===other.numberingSystem&&this.outputCalendar===other.outputCalendar;};_createClass(Locale,[{key:"fastNumbers",get:function get(){if(this.fastNumbersCached==null){this.fastNumbersCached=supportsFastNumbers(this);}
return this.fastNumbersCached;}}]);return Locale;}();function combineRegexes(){for(var _len=arguments.length,regexes=new Array(_len),_key=0;_key<_len;_key++){regexes[_key]=arguments[_key];}
var full=regexes.reduce(function(f,r){return f+r.source;},"");return RegExp("^"+full+"$");}
function combineExtractors(){for(var _len2=arguments.length,extractors=new Array(_len2),_key2=0;_key2<_len2;_key2++){extractors[_key2]=arguments[_key2];}
return function(m){return extractors.reduce(function(_ref,ex){var mergedVals=_ref[0],mergedZone=_ref[1],cursor=_ref[2];var _ex=ex(m,cursor),val=_ex[0],zone=_ex[1],next=_ex[2];return[Object.assign(mergedVals,val),mergedZone||zone,next];},[{},null,1]).slice(0,2);};}
function parse(s){if(s==null){return[null,null];}
for(var _len3=arguments.length,patterns=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){patterns[_key3-1]=arguments[_key3];}
for(var _i=0,_patterns=patterns;_i<_patterns.length;_i++){var _patterns$_i=_patterns[_i],regex=_patterns$_i[0],extractor=_patterns$_i[1];var m=regex.exec(s);if(m){return extractor(m);}}
return[null,null];}
function simpleParse(){for(var _len4=arguments.length,keys=new Array(_len4),_key4=0;_key4<_len4;_key4++){keys[_key4]=arguments[_key4];}
return function(match,cursor){var ret={};var i;for(i=0;i<keys.length;i++){ret[keys[i]]=parseInteger(match[cursor+i]);}
return[ret,null,cursor+i];};}
var offsetRegex=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,isoTimeBaseRegex=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,isoTimeRegex=RegExp(""+isoTimeBaseRegex.source+offsetRegex.source+"?"),isoTimeExtensionRegex=RegExp("(?:T"+isoTimeRegex.source+")?"),isoYmdRegex=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,isoWeekRegex=/(\d{4})-?W(\d\d)(?:-?(\d))?/,isoOrdinalRegex=/(\d{4})-?(\d{3})/,extractISOWeekData=simpleParse("weekYear","weekNumber","weekDay"),extractISOOrdinalData=simpleParse("year","ordinal"),sqlYmdRegex=/(\d{4})-(\d\d)-(\d\d)/,sqlTimeRegex=RegExp(isoTimeBaseRegex.source+" ?(?:"+offsetRegex.source+"|("+ianaRegex.source+"))?"),sqlTimeExtensionRegex=RegExp("(?: "+sqlTimeRegex.source+")?");function int(match,pos,fallback){var m=match[pos];return isUndefined(m)?fallback:parseInteger(m);}
function extractISOYmd(match,cursor){var item={year:int(match,cursor),month:int(match,cursor+1,1),day:int(match,cursor+2,1)};return[item,null,cursor+3];}
function extractISOTime(match,cursor){var item={hour:int(match,cursor,0),minute:int(match,cursor+1,0),second:int(match,cursor+2,0),millisecond:parseMillis(match[cursor+3])};return[item,null,cursor+4];}
function extractISOOffset(match,cursor){var local=!match[cursor]&&!match[cursor+1],fullOffset=signedOffset(match[cursor+1],match[cursor+2]),zone=local?null:FixedOffsetZone.instance(fullOffset);return[{},zone,cursor+3];}
function extractIANAZone(match,cursor){var zone=match[cursor]?IANAZone.create(match[cursor]):null;return[{},zone,cursor+1];}
var isoDuration=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function extractISODuration(match){var s=match[0],yearStr=match[1],monthStr=match[2],weekStr=match[3],dayStr=match[4],hourStr=match[5],minuteStr=match[6],secondStr=match[7],millisecondsStr=match[8];var hasNegativePrefix=s[0]==="-";var maybeNegate=function maybeNegate(num){return num&&hasNegativePrefix?-num:num;};return[{years:maybeNegate(parseInteger(yearStr)),months:maybeNegate(parseInteger(monthStr)),weeks:maybeNegate(parseInteger(weekStr)),days:maybeNegate(parseInteger(dayStr)),hours:maybeNegate(parseInteger(hourStr)),minutes:maybeNegate(parseInteger(minuteStr)),seconds:maybeNegate(parseInteger(secondStr)),milliseconds:maybeNegate(parseMillis(millisecondsStr))}];}
var obsOffsets={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fromStrings(weekdayStr,yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr){var result={year:yearStr.length===2?untruncateYear(parseInteger(yearStr)):parseInteger(yearStr),month:monthsShort.indexOf(monthStr)+1,day:parseInteger(dayStr),hour:parseInteger(hourStr),minute:parseInteger(minuteStr)};if(secondStr)result.second=parseInteger(secondStr);if(weekdayStr){result.weekday=weekdayStr.length>3?weekdaysLong.indexOf(weekdayStr)+1:weekdaysShort.indexOf(weekdayStr)+1;}
return result;}
var rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function extractRFC2822(match){var weekdayStr=match[1],dayStr=match[2],monthStr=match[3],yearStr=match[4],hourStr=match[5],minuteStr=match[6],secondStr=match[7],obsOffset=match[8],milOffset=match[9],offHourStr=match[10],offMinuteStr=match[11],result=fromStrings(weekdayStr,yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr);var offset;if(obsOffset){offset=obsOffsets[obsOffset];}else if(milOffset){offset=0;}else{offset=signedOffset(offHourStr,offMinuteStr);}
return[result,new FixedOffsetZone(offset)];}
function preprocessRFC2822(s){return s.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim();}
var rfc1123=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,rfc850=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ascii=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function extractRFC1123Or850(match){var weekdayStr=match[1],dayStr=match[2],monthStr=match[3],yearStr=match[4],hourStr=match[5],minuteStr=match[6],secondStr=match[7],result=fromStrings(weekdayStr,yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr);return[result,FixedOffsetZone.utcInstance];}
function extractASCII(match){var weekdayStr=match[1],monthStr=match[2],dayStr=match[3],hourStr=match[4],minuteStr=match[5],secondStr=match[6],yearStr=match[7],result=fromStrings(weekdayStr,yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr);return[result,FixedOffsetZone.utcInstance];}
var isoYmdWithTimeExtensionRegex=combineRegexes(isoYmdRegex,isoTimeExtensionRegex);var isoWeekWithTimeExtensionRegex=combineRegexes(isoWeekRegex,isoTimeExtensionRegex);var isoOrdinalWithTimeExtensionRegex=combineRegexes(isoOrdinalRegex,isoTimeExtensionRegex);var isoTimeCombinedRegex=combineRegexes(isoTimeRegex);var extractISOYmdTimeAndOffset=combineExtractors(extractISOYmd,extractISOTime,extractISOOffset);var extractISOWeekTimeAndOffset=combineExtractors(extractISOWeekData,extractISOTime,extractISOOffset);var extractISOOrdinalDataAndTime=combineExtractors(extractISOOrdinalData,extractISOTime);var extractISOTimeAndOffset=combineExtractors(extractISOTime,extractISOOffset);function parseISODate(s){return parse(s,[isoYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[isoWeekWithTimeExtensionRegex,extractISOWeekTimeAndOffset],[isoOrdinalWithTimeExtensionRegex,extractISOOrdinalDataAndTime],[isoTimeCombinedRegex,extractISOTimeAndOffset]);}
function parseRFC2822Date(s){return parse(preprocessRFC2822(s),[rfc2822,extractRFC2822]);}
function parseHTTPDate(s){return parse(s,[rfc1123,extractRFC1123Or850],[rfc850,extractRFC1123Or850],[ascii,extractASCII]);}
function parseISODuration(s){return parse(s,[isoDuration,extractISODuration]);}
var sqlYmdWithTimeExtensionRegex=combineRegexes(sqlYmdRegex,sqlTimeExtensionRegex);var sqlTimeCombinedRegex=combineRegexes(sqlTimeRegex);var extractISOYmdTimeOffsetAndIANAZone=combineExtractors(extractISOYmd,extractISOTime,extractISOOffset,extractIANAZone);var extractISOTimeOffsetAndIANAZone=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);function parseSQL(s){return parse(s,[sqlYmdWithTimeExtensionRegex,extractISOYmdTimeOffsetAndIANAZone],[sqlTimeCombinedRegex,extractISOTimeOffsetAndIANAZone]);}
var INVALID="Invalid Duration";var lowOrderMatrix={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1000},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1000},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1000},minutes:{seconds:60,milliseconds:60*1000},seconds:{milliseconds:1000}},casualMatrix=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1000},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1000},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1000}},lowOrderMatrix),daysInYearAccurate=146097.0/400,daysInMonthAccurate=146097.0/4800,accurateMatrix=Object.assign({years:{quarters:4,months:12,weeks:daysInYearAccurate/7,days:daysInYearAccurate,hours:daysInYearAccurate*24,minutes:daysInYearAccurate*24*60,seconds:daysInYearAccurate*24*60*60,milliseconds:daysInYearAccurate*24*60*60*1000},quarters:{months:3,weeks:daysInYearAccurate/28,days:daysInYearAccurate/4,hours:daysInYearAccurate*24/4,minutes:daysInYearAccurate*24*60/4,seconds:daysInYearAccurate*24*60*60/4,milliseconds:daysInYearAccurate*24*60*60*1000/4},months:{weeks:daysInMonthAccurate/7,days:daysInMonthAccurate,hours:daysInMonthAccurate*24,minutes:daysInMonthAccurate*24*60,seconds:daysInMonthAccurate*24*60*60,milliseconds:daysInMonthAccurate*24*60*60*1000}},lowOrderMatrix);var orderedUnits=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"];var reverseUnits=orderedUnits.slice(0).reverse();function clone(dur,alts,clear){if(clear===void 0){clear=false;}
var conf={values:clear?alts.values:Object.assign({},dur.values,alts.values||{}),loc:dur.loc.clone(alts.loc),conversionAccuracy:alts.conversionAccuracy||dur.conversionAccuracy};return new Duration(conf);}
function antiTrunc(n){return n<0?Math.floor(n):Math.ceil(n);}
function convert(matrix,fromMap,fromUnit,toMap,toUnit){var conv=matrix[toUnit][fromUnit],raw=fromMap[fromUnit]/conv,sameSign=Math.sign(raw)===Math.sign(toMap[toUnit]),added=!sameSign&&toMap[toUnit]!==0&&Math.abs(raw)<=1?antiTrunc(raw):Math.trunc(raw);toMap[toUnit]+=added;fromMap[fromUnit]-=added*conv;}
function normalizeValues(matrix,vals){reverseUnits.reduce(function(previous,current){if(!isUndefined(vals[current])){if(previous){convert(matrix,vals,previous,vals,current);}
return current;}else{return previous;}},null);}
var Duration=function(){function Duration(config){var accurate=config.conversionAccuracy==="longterm"||false;this.values=config.values;this.loc=config.loc||Locale.create();this.conversionAccuracy=accurate?"longterm":"casual";this.invalid=config.invalid||null;this.matrix=accurate?accurateMatrix:casualMatrix;this.isLuxonDuration=true;}
Duration.fromMillis=function fromMillis(count,opts){return Duration.fromObject(Object.assign({milliseconds:count},opts));};Duration.fromObject=function fromObject(obj){if(obj==null||typeof obj!=="object"){throw new InvalidArgumentError("Duration.fromObject: argument expected to be an object, got "+(obj===null?"null":typeof obj));}
return new Duration({values:normalizeObject(obj,Duration.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:Locale.fromObject(obj),conversionAccuracy:obj.conversionAccuracy});};Duration.fromISO=function fromISO(text,opts){var _parseISODuration=parseISODuration(text),parsed=_parseISODuration[0];if(parsed){var obj=Object.assign(parsed,opts);return Duration.fromObject(obj);}else{return Duration.invalid("unparsable","the input \""+text+"\" can't be parsed as ISO 8601");}};Duration.invalid=function invalid(reason,explanation){if(explanation===void 0){explanation=null;}
if(!reason){throw new InvalidArgumentError("need to specify a reason the Duration is invalid");}
var invalid=reason instanceof Invalid?reason:new Invalid(reason,explanation);if(Settings.throwOnInvalid){throw new InvalidDurationError(invalid);}else{return new Duration({invalid:invalid});}};Duration.normalizeUnit=function normalizeUnit(unit){var normalized={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[unit?unit.toLowerCase():unit];if(!normalized)throw new InvalidUnitError(unit);return normalized;};Duration.isDuration=function isDuration(o){return o&&o.isLuxonDuration||false;};var _proto=Duration.prototype;_proto.toFormat=function toFormat(fmt,opts){if(opts===void 0){opts={};}
var fmtOpts=Object.assign({},opts,{floor:opts.round!==false&&opts.floor!==false});return this.isValid?Formatter.create(this.loc,fmtOpts).formatDurationFromString(this,fmt):INVALID;};_proto.toObject=function toObject(opts){if(opts===void 0){opts={};}
if(!this.isValid)return{};var base=Object.assign({},this.values);if(opts.includeConfig){base.conversionAccuracy=this.conversionAccuracy;base.numberingSystem=this.loc.numberingSystem;base.locale=this.loc.locale;}
return base;};_proto.toISO=function toISO(){if(!this.isValid)return null;var s="P";if(this.years!==0)s+=this.years+"Y";if(this.months!==0||this.quarters!==0)s+=this.months+this.quarters*3+"M";if(this.weeks!==0)s+=this.weeks+"W";if(this.days!==0)s+=this.days+"D";if(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)s+="T";if(this.hours!==0)s+=this.hours+"H";if(this.minutes!==0)s+=this.minutes+"M";if(this.seconds!==0||this.milliseconds!==0)
s+=roundTo(this.seconds+this.milliseconds/1000,3)+"S";if(s==="P")s+="T0S";return s;};_proto.toJSON=function toJSON(){return this.toISO();};_proto.toString=function toString(){return this.toISO();};_proto.valueOf=function valueOf(){return this.as("milliseconds");};_proto.plus=function plus(duration){if(!this.isValid)return this;var dur=friendlyDuration(duration),result={};for(var _iterator=_createForOfIteratorHelperLoose(orderedUnits),_step;!(_step=_iterator()).done;){var k=_step.value;if(hasOwnProperty(dur.values,k)||hasOwnProperty(this.values,k)){result[k]=dur.get(k)+this.get(k);}}
return clone(this,{values:result},true);};_proto.minus=function minus(duration){if(!this.isValid)return this;var dur=friendlyDuration(duration);return this.plus(dur.negate());};_proto.mapUnits=function mapUnits(fn){if(!this.isValid)return this;var result={};for(var _i=0,_Object$keys=Object.keys(this.values);_i<_Object$keys.length;_i++){var k=_Object$keys[_i];result[k]=asNumber(fn(this.values[k],k));}
return clone(this,{values:result},true);};_proto.get=function get(unit){return this[Duration.normalizeUnit(unit)];};_proto.set=function set(values){if(!this.isValid)return this;var mixed=Object.assign(this.values,normalizeObject(values,Duration.normalizeUnit,[]));return clone(this,{values:mixed});};_proto.reconfigure=function reconfigure(_temp){var _ref=_temp===void 0?{}:_temp,locale=_ref.locale,numberingSystem=_ref.numberingSystem,conversionAccuracy=_ref.conversionAccuracy;var loc=this.loc.clone({locale:locale,numberingSystem:numberingSystem}),opts={loc:loc};if(conversionAccuracy){opts.conversionAccuracy=conversionAccuracy;}
return clone(this,opts);};_proto.as=function as(unit){return this.isValid?this.shiftTo(unit).get(unit):NaN;};_proto.normalize=function normalize(){if(!this.isValid)return this;var vals=this.toObject();normalizeValues(this.matrix,vals);return clone(this,{values:vals},true);};_proto.shiftTo=function shiftTo(){for(var _len=arguments.length,units=new Array(_len),_key=0;_key<_len;_key++){units[_key]=arguments[_key];}
if(!this.isValid)return this;if(units.length===0){return this;}
units=units.map(function(u){return Duration.normalizeUnit(u);});var built={},accumulated={},vals=this.toObject();var lastUnit;for(var _iterator2=_createForOfIteratorHelperLoose(orderedUnits),_step2;!(_step2=_iterator2()).done;){var k=_step2.value;if(units.indexOf(k)>=0){lastUnit=k;var own=0;for(var ak in accumulated){own+=this.matrix[ak][k]*accumulated[ak];accumulated[ak]=0;}
if(isNumber(vals[k])){own+=vals[k];}
var i=Math.trunc(own);built[k]=i;accumulated[k]=own-i;for(var down in vals){if(orderedUnits.indexOf(down)>orderedUnits.indexOf(k)){convert(this.matrix,vals,down,built,k);}}}else if(isNumber(vals[k])){accumulated[k]=vals[k];}}
for(var key in accumulated){if(accumulated[key]!==0){built[lastUnit]+=key===lastUnit?accumulated[key]:accumulated[key]/this.matrix[lastUnit][key];}}
return clone(this,{values:built},true).normalize();};_proto.negate=function negate(){if(!this.isValid)return this;var negated={};for(var _i2=0,_Object$keys2=Object.keys(this.values);_i2<_Object$keys2.length;_i2++){var k=_Object$keys2[_i2];negated[k]=-this.values[k];}
return clone(this,{values:negated},true);};_proto.equals=function equals(other){if(!this.isValid||!other.isValid){return false;}
if(!this.loc.equals(other.loc)){return false;}
for(var _iterator3=_createForOfIteratorHelperLoose(orderedUnits),_step3;!(_step3=_iterator3()).done;){var u=_step3.value;if(this.values[u]!==other.values[u]){return false;}}
return true;};_createClass(Duration,[{key:"locale",get:function get(){return this.isValid?this.loc.locale:null;}},{key:"numberingSystem",get:function get(){return this.isValid?this.loc.numberingSystem:null;}},{key:"years",get:function get(){return this.isValid?this.values.years||0:NaN;}},{key:"quarters",get:function get(){return this.isValid?this.values.quarters||0:NaN;}},{key:"months",get:function get(){return this.isValid?this.values.months||0:NaN;}},{key:"weeks",get:function get(){return this.isValid?this.values.weeks||0:NaN;}},{key:"days",get:function get(){return this.isValid?this.values.days||0:NaN;}},{key:"hours",get:function get(){return this.isValid?this.values.hours||0:NaN;}},{key:"minutes",get:function get(){return this.isValid?this.values.minutes||0:NaN;}},{key:"seconds",get:function get(){return this.isValid?this.values.seconds||0:NaN;}},{key:"milliseconds",get:function get(){return this.isValid?this.values.milliseconds||0:NaN;}},{key:"isValid",get:function get(){return this.invalid===null;}},{key:"invalidReason",get:function get(){return this.invalid?this.invalid.reason:null;}},{key:"invalidExplanation",get:function get(){return this.invalid?this.invalid.explanation:null;}}]);return Duration;}();function friendlyDuration(durationish){if(isNumber(durationish)){return Duration.fromMillis(durationish);}else if(Duration.isDuration(durationish)){return durationish;}else if(typeof durationish==="object"){return Duration.fromObject(durationish);}else{throw new InvalidArgumentError("Unknown duration argument "+durationish+" of type "+typeof durationish);}}
var INVALID$1="Invalid Interval";function validateStartEnd(start,end){if(!start||!start.isValid){return Interval.invalid("missing or invalid start");}else if(!end||!end.isValid){return Interval.invalid("missing or invalid end");}else if(end<start){return Interval.invalid("end before start","The end of an interval must be after its start, but you had start="+start.toISO()+" and end="+end.toISO());}else{return null;}}
var Interval=function(){function Interval(config){this.s=config.start;this.e=config.end;this.invalid=config.invalid||null;this.isLuxonInterval=true;}
Interval.invalid=function invalid(reason,explanation){if(explanation===void 0){explanation=null;}
if(!reason){throw new InvalidArgumentError("need to specify a reason the Interval is invalid");}
var invalid=reason instanceof Invalid?reason:new Invalid(reason,explanation);if(Settings.throwOnInvalid){throw new InvalidIntervalError(invalid);}else{return new Interval({invalid:invalid});}};Interval.fromDateTimes=function fromDateTimes(start,end){var builtStart=friendlyDateTime(start),builtEnd=friendlyDateTime(end);var validateError=validateStartEnd(builtStart,builtEnd);if(validateError==null){return new Interval({start:builtStart,end:builtEnd});}else{return validateError;}};Interval.after=function after(start,duration){var dur=friendlyDuration(duration),dt=friendlyDateTime(start);return Interval.fromDateTimes(dt,dt.plus(dur));};Interval.before=function before(end,duration){var dur=friendlyDuration(duration),dt=friendlyDateTime(end);return Interval.fromDateTimes(dt.minus(dur),dt);};Interval.fromISO=function fromISO(text,opts){var _split=(text||"").split("/",2),s=_split[0],e=_split[1];if(s&&e){var start,startIsValid;try{start=DateTime.fromISO(s,opts);startIsValid=start.isValid;}catch(e){startIsValid=false;}
var end,endIsValid;try{end=DateTime.fromISO(e,opts);endIsValid=end.isValid;}catch(e){endIsValid=false;}
if(startIsValid&&endIsValid){return Interval.fromDateTimes(start,end);}
if(startIsValid){var dur=Duration.fromISO(e,opts);if(dur.isValid){return Interval.after(start,dur);}}else if(endIsValid){var _dur=Duration.fromISO(s,opts);if(_dur.isValid){return Interval.before(end,_dur);}}}
return Interval.invalid("unparsable","the input \""+text+"\" can't be parsed as ISO 8601");};Interval.isInterval=function isInterval(o){return o&&o.isLuxonInterval||false;};var _proto=Interval.prototype;_proto.length=function length(unit){if(unit===void 0){unit="milliseconds";}
return this.isValid?this.toDuration.apply(this,[unit]).get(unit):NaN;};_proto.count=function count(unit){if(unit===void 0){unit="milliseconds";}
if(!this.isValid)return NaN;var start=this.start.startOf(unit),end=this.end.startOf(unit);return Math.floor(end.diff(start,unit).get(unit))+1;};_proto.hasSame=function hasSame(unit){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,unit):false;};_proto.isEmpty=function isEmpty(){return this.s.valueOf()===this.e.valueOf();};_proto.isAfter=function isAfter(dateTime){if(!this.isValid)return false;return this.s>dateTime;};_proto.isBefore=function isBefore(dateTime){if(!this.isValid)return false;return this.e<=dateTime;};_proto.contains=function contains(dateTime){if(!this.isValid)return false;return this.s<=dateTime&&this.e>dateTime;};_proto.set=function set(_temp){var _ref=_temp===void 0?{}:_temp,start=_ref.start,end=_ref.end;if(!this.isValid)return this;return Interval.fromDateTimes(start||this.s,end||this.e);};_proto.splitAt=function splitAt(){var _this=this;if(!this.isValid)return[];for(var _len=arguments.length,dateTimes=new Array(_len),_key=0;_key<_len;_key++){dateTimes[_key]=arguments[_key];}
var sorted=dateTimes.map(friendlyDateTime).filter(function(d){return _this.contains(d);}).sort(),results=[];var s=this.s,i=0;while(s<this.e){var added=sorted[i]||this.e,next=+added>+this.e?this.e:added;results.push(Interval.fromDateTimes(s,next));s=next;i+=1;}
return results;};_proto.splitBy=function splitBy(duration){var dur=friendlyDuration(duration);if(!this.isValid||!dur.isValid||dur.as("milliseconds")===0){return[];}
var s=this.s,added,next;var results=[];while(s<this.e){added=s.plus(dur);next=+added>+this.e?this.e:added;results.push(Interval.fromDateTimes(s,next));s=next;}
return results;};_proto.divideEqually=function divideEqually(numberOfParts){if(!this.isValid)return[];return this.splitBy(this.length()/numberOfParts).slice(0,numberOfParts);};_proto.overlaps=function overlaps(other){return this.e>other.s&&this.s<other.e;};_proto.abutsStart=function abutsStart(other){if(!this.isValid)return false;return+this.e===+other.s;};_proto.abutsEnd=function abutsEnd(other){if(!this.isValid)return false;return+other.e===+this.s;};_proto.engulfs=function engulfs(other){if(!this.isValid)return false;return this.s<=other.s&&this.e>=other.e;};_proto.equals=function equals(other){if(!this.isValid||!other.isValid){return false;}
return this.s.equals(other.s)&&this.e.equals(other.e);};_proto.intersection=function intersection(other){if(!this.isValid)return this;var s=this.s>other.s?this.s:other.s,e=this.e<other.e?this.e:other.e;if(s>e){return null;}else{return Interval.fromDateTimes(s,e);}};_proto.union=function union(other){if(!this.isValid)return this;var s=this.s<other.s?this.s:other.s,e=this.e>other.e?this.e:other.e;return Interval.fromDateTimes(s,e);};Interval.merge=function merge(intervals){var _intervals$sort$reduc=intervals.sort(function(a,b){return a.s-b.s;}).reduce(function(_ref2,item){var sofar=_ref2[0],current=_ref2[1];if(!current){return[sofar,item];}else if(current.overlaps(item)||current.abutsStart(item)){return[sofar,current.union(item)];}else{return[sofar.concat([current]),item];}},[[],null]),found=_intervals$sort$reduc[0],final=_intervals$sort$reduc[1];if(final){found.push(final);}
return found;};Interval.xor=function xor(intervals){var _Array$prototype;var start=null,currentCount=0;var results=[],ends=intervals.map(function(i){return[{time:i.s,type:"s"},{time:i.e,type:"e"}];}),flattened=(_Array$prototype=Array.prototype).concat.apply(_Array$prototype,ends),arr=flattened.sort(function(a,b){return a.time-b.time;});for(var _iterator=_createForOfIteratorHelperLoose(arr),_step;!(_step=_iterator()).done;){var i=_step.value;currentCount+=i.type==="s"?1:-1;if(currentCount===1){start=i.time;}else{if(start&&+start!==+i.time){results.push(Interval.fromDateTimes(start,i.time));}
start=null;}}
return Interval.merge(results);};_proto.difference=function difference(){var _this2=this;for(var _len2=arguments.length,intervals=new Array(_len2),_key2=0;_key2<_len2;_key2++){intervals[_key2]=arguments[_key2];}
return Interval.xor([this].concat(intervals)).map(function(i){return _this2.intersection(i);}).filter(function(i){return i&&!i.isEmpty();});};_proto.toString=function toString(){if(!this.isValid)return INVALID$1;return"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")";};_proto.toISO=function toISO(opts){if(!this.isValid)return INVALID$1;return this.s.toISO(opts)+"/"+this.e.toISO(opts);};_proto.toISODate=function toISODate(){if(!this.isValid)return INVALID$1;return this.s.toISODate()+"/"+this.e.toISODate();};_proto.toISOTime=function toISOTime(opts){if(!this.isValid)return INVALID$1;return this.s.toISOTime(opts)+"/"+this.e.toISOTime(opts);};_proto.toFormat=function toFormat(dateFormat,_temp2){var _ref3=_temp2===void 0?{}:_temp2,_ref3$separator=_ref3.separator,separator=_ref3$separator===void 0?"  ":_ref3$separator;if(!this.isValid)return INVALID$1;return""+this.s.toFormat(dateFormat)+separator+this.e.toFormat(dateFormat);};_proto.toDuration=function toDuration(unit,opts){if(!this.isValid){return Duration.invalid(this.invalidReason);}
return this.e.diff(this.s,unit,opts);};_proto.mapEndpoints=function mapEndpoints(mapFn){return Interval.fromDateTimes(mapFn(this.s),mapFn(this.e));};_createClass(Interval,[{key:"start",get:function get(){return this.isValid?this.s:null;}},{key:"end",get:function get(){return this.isValid?this.e:null;}},{key:"isValid",get:function get(){return this.invalidReason===null;}},{key:"invalidReason",get:function get(){return this.invalid?this.invalid.reason:null;}},{key:"invalidExplanation",get:function get(){return this.invalid?this.invalid.explanation:null;}}]);return Interval;}();var Info=function(){function Info(){}
Info.hasDST=function hasDST(zone){if(zone===void 0){zone=Settings.defaultZone;}
var proto=DateTime.local().setZone(zone).set({month:12});return!zone.universal&&proto.offset!==proto.set({month:6}).offset;};Info.isValidIANAZone=function isValidIANAZone(zone){return IANAZone.isValidSpecifier(zone)&&IANAZone.isValidZone(zone);};Info.normalizeZone=function normalizeZone$1(input){return normalizeZone(input,Settings.defaultZone);};Info.months=function months(length,_temp){if(length===void 0){length="long";}
var _ref=_temp===void 0?{}:_temp,_ref$locale=_ref.locale,locale=_ref$locale===void 0?null:_ref$locale,_ref$numberingSystem=_ref.numberingSystem,numberingSystem=_ref$numberingSystem===void 0?null:_ref$numberingSystem,_ref$outputCalendar=_ref.outputCalendar,outputCalendar=_ref$outputCalendar===void 0?"gregory":_ref$outputCalendar;return Locale.create(locale,numberingSystem,outputCalendar).months(length);};Info.monthsFormat=function monthsFormat(length,_temp2){if(length===void 0){length="long";}
var _ref2=_temp2===void 0?{}:_temp2,_ref2$locale=_ref2.locale,locale=_ref2$locale===void 0?null:_ref2$locale,_ref2$numberingSystem=_ref2.numberingSystem,numberingSystem=_ref2$numberingSystem===void 0?null:_ref2$numberingSystem,_ref2$outputCalendar=_ref2.outputCalendar,outputCalendar=_ref2$outputCalendar===void 0?"gregory":_ref2$outputCalendar;return Locale.create(locale,numberingSystem,outputCalendar).months(length,true);};Info.weekdays=function weekdays(length,_temp3){if(length===void 0){length="long";}
var _ref3=_temp3===void 0?{}:_temp3,_ref3$locale=_ref3.locale,locale=_ref3$locale===void 0?null:_ref3$locale,_ref3$numberingSystem=_ref3.numberingSystem,numberingSystem=_ref3$numberingSystem===void 0?null:_ref3$numberingSystem;return Locale.create(locale,numberingSystem,null).weekdays(length);};Info.weekdaysFormat=function weekdaysFormat(length,_temp4){if(length===void 0){length="long";}
var _ref4=_temp4===void 0?{}:_temp4,_ref4$locale=_ref4.locale,locale=_ref4$locale===void 0?null:_ref4$locale,_ref4$numberingSystem=_ref4.numberingSystem,numberingSystem=_ref4$numberingSystem===void 0?null:_ref4$numberingSystem;return Locale.create(locale,numberingSystem,null).weekdays(length,true);};Info.meridiems=function meridiems(_temp5){var _ref5=_temp5===void 0?{}:_temp5,_ref5$locale=_ref5.locale,locale=_ref5$locale===void 0?null:_ref5$locale;return Locale.create(locale).meridiems();};Info.eras=function eras(length,_temp6){if(length===void 0){length="short";}
var _ref6=_temp6===void 0?{}:_temp6,_ref6$locale=_ref6.locale,locale=_ref6$locale===void 0?null:_ref6$locale;return Locale.create(locale,null,"gregory").eras(length);};Info.features=function features(){var intl=false,intlTokens=false,zones=false,relative=false;if(hasIntl()){intl=true;intlTokens=hasFormatToParts();relative=hasRelative();try{zones=new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone==="America/New_York";}catch(e){zones=false;}}
return{intl:intl,intlTokens:intlTokens,zones:zones,relative:relative};};return Info;}();function dayDiff(earlier,later){var utcDayStart=function utcDayStart(dt){return dt.toUTC(0,{keepLocalTime:true}).startOf("day").valueOf();},ms=utcDayStart(later)-utcDayStart(earlier);return Math.floor(Duration.fromMillis(ms).as("days"));}
function highOrderDiffs(cursor,later,units){var differs=[["years",function(a,b){return b.year-a.year;}],["months",function(a,b){return b.month-a.month+(b.year-a.year)*12;}],["weeks",function(a,b){var days=dayDiff(a,b);return(days-days%7)/7;}],["days",dayDiff]];var results={};var lowestOrder,highWater;for(var _i=0,_differs=differs;_i<_differs.length;_i++){var _differs$_i=_differs[_i],unit=_differs$_i[0],differ=_differs$_i[1];if(units.indexOf(unit)>=0){var _cursor$plus;lowestOrder=unit;var delta=differ(cursor,later);highWater=cursor.plus((_cursor$plus={},_cursor$plus[unit]=delta,_cursor$plus));if(highWater>later){var _cursor$plus2;cursor=cursor.plus((_cursor$plus2={},_cursor$plus2[unit]=delta-1,_cursor$plus2));delta-=1;}else{cursor=highWater;}
results[unit]=delta;}}
return[cursor,results,highWater,lowestOrder];}
function _diff(earlier,later,units,opts){var _highOrderDiffs=highOrderDiffs(earlier,later,units),cursor=_highOrderDiffs[0],results=_highOrderDiffs[1],highWater=_highOrderDiffs[2],lowestOrder=_highOrderDiffs[3];var remainingMillis=later-cursor;var lowerOrderUnits=units.filter(function(u){return["hours","minutes","seconds","milliseconds"].indexOf(u)>=0;});if(lowerOrderUnits.length===0){if(highWater<later){var _cursor$plus3;highWater=cursor.plus((_cursor$plus3={},_cursor$plus3[lowestOrder]=1,_cursor$plus3));}
if(highWater!==cursor){results[lowestOrder]=(results[lowestOrder]||0)+remainingMillis/(highWater-cursor);}}
var duration=Duration.fromObject(Object.assign(results,opts));if(lowerOrderUnits.length>0){var _Duration$fromMillis;return(_Duration$fromMillis=Duration.fromMillis(remainingMillis,opts)).shiftTo.apply(_Duration$fromMillis,lowerOrderUnits).plus(duration);}else{return duration;}}
var numberingSystems={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[|||||||||]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"};var numberingSystemsUTF16={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]};var hanidecChars=numberingSystems.hanidec.replace(/[\[|\]]/g,"").split("");function parseDigits(str){var value=parseInt(str,10);if(isNaN(value)){value="";for(var i=0;i<str.length;i++){var code=str.charCodeAt(i);if(str[i].search(numberingSystems.hanidec)!==-1){value+=hanidecChars.indexOf(str[i]);}else{for(var key in numberingSystemsUTF16){var _numberingSystemsUTF=numberingSystemsUTF16[key],min=_numberingSystemsUTF[0],max=_numberingSystemsUTF[1];if(code>=min&&code<=max){value+=code-min;}}}}
return parseInt(value,10);}else{return value;}}
function digitRegex(_ref,append){var numberingSystem=_ref.numberingSystem;if(append===void 0){append="";}
return new RegExp(""+numberingSystems[numberingSystem||"latn"]+append);}
var MISSING_FTP="missing Intl.DateTimeFormat.formatToParts support";function intUnit(regex,post){if(post===void 0){post=function post(i){return i;};}
return{regex:regex,deser:function deser(_ref){var s=_ref[0];return post(parseDigits(s));}};}
var NBSP=String.fromCharCode(160);var spaceOrNBSP="( |"+NBSP+")";var spaceOrNBSPRegExp=new RegExp(spaceOrNBSP,"g");function fixListRegex(s){return s.replace(/\./g,"\\.?").replace(spaceOrNBSPRegExp,spaceOrNBSP);}
function stripInsensitivities(s){return s.replace(/\./g,"").replace(spaceOrNBSPRegExp," ").toLowerCase();}
function oneOf(strings,startIndex){if(strings===null){return null;}else{return{regex:RegExp(strings.map(fixListRegex).join("|")),deser:function deser(_ref2){var s=_ref2[0];return strings.findIndex(function(i){return stripInsensitivities(s)===stripInsensitivities(i);})+startIndex;}};}}
function offset(regex,groups){return{regex:regex,deser:function deser(_ref3){var h=_ref3[1],m=_ref3[2];return signedOffset(h,m);},groups:groups};}
function simple(regex){return{regex:regex,deser:function deser(_ref4){var s=_ref4[0];return s;}};}
function escapeToken(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");}
function unitForToken(token,loc){var one=digitRegex(loc),two=digitRegex(loc,"{2}"),three=digitRegex(loc,"{3}"),four=digitRegex(loc,"{4}"),six=digitRegex(loc,"{6}"),oneOrTwo=digitRegex(loc,"{1,2}"),oneToThree=digitRegex(loc,"{1,3}"),oneToSix=digitRegex(loc,"{1,6}"),oneToNine=digitRegex(loc,"{1,9}"),twoToFour=digitRegex(loc,"{2,4}"),fourToSix=digitRegex(loc,"{4,6}"),literal=function literal(t){return{regex:RegExp(escapeToken(t.val)),deser:function deser(_ref5){var s=_ref5[0];return s;},literal:true};},unitate=function unitate(t){if(token.literal){return literal(t);}
switch(t.val){case"G":return oneOf(loc.eras("short",false),0);case"GG":return oneOf(loc.eras("long",false),0);case"y":return intUnit(oneToSix);case"yy":return intUnit(twoToFour,untruncateYear);case"yyyy":return intUnit(four);case"yyyyy":return intUnit(fourToSix);case"yyyyyy":return intUnit(six);case"M":return intUnit(oneOrTwo);case"MM":return intUnit(two);case"MMM":return oneOf(loc.months("short",true,false),1);case"MMMM":return oneOf(loc.months("long",true,false),1);case"L":return intUnit(oneOrTwo);case"LL":return intUnit(two);case"LLL":return oneOf(loc.months("short",false,false),1);case"LLLL":return oneOf(loc.months("long",false,false),1);case"d":return intUnit(oneOrTwo);case"dd":return intUnit(two);case"o":return intUnit(oneToThree);case"ooo":return intUnit(three);case"HH":return intUnit(two);case"H":return intUnit(oneOrTwo);case"hh":return intUnit(two);case"h":return intUnit(oneOrTwo);case"mm":return intUnit(two);case"m":return intUnit(oneOrTwo);case"q":return intUnit(oneOrTwo);case"qq":return intUnit(two);case"s":return intUnit(oneOrTwo);case"ss":return intUnit(two);case"S":return intUnit(oneToThree);case"SSS":return intUnit(three);case"u":return simple(oneToNine);case"a":return oneOf(loc.meridiems(),0);case"kkkk":return intUnit(four);case"kk":return intUnit(twoToFour,untruncateYear);case"W":return intUnit(oneOrTwo);case"WW":return intUnit(two);case"E":case"c":return intUnit(one);case"EEE":return oneOf(loc.weekdays("short",false,false),1);case"EEEE":return oneOf(loc.weekdays("long",false,false),1);case"ccc":return oneOf(loc.weekdays("short",true,false),1);case"cccc":return oneOf(loc.weekdays("long",true,false),1);case"Z":case"ZZ":return offset(new RegExp("([+-]"+oneOrTwo.source+")(?::("+two.source+"))?"),2);case"ZZZ":return offset(new RegExp("([+-]"+oneOrTwo.source+")("+two.source+")?"),2);case"z":return simple(/[a-z_+-/]{1,256}?/i);default:return literal(t);}};var unit=unitate(token)||{invalidReason:MISSING_FTP};unit.token=token;return unit;}
var partTypeStyleToTokenVal={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function tokenForPart(part,locale,formatOpts){var type=part.type,value=part.value;if(type==="literal"){return{literal:true,val:value};}
var style=formatOpts[type];var val=partTypeStyleToTokenVal[type];if(typeof val==="object"){val=val[style];}
if(val){return{literal:false,val:val};}
return undefined;}
function buildRegex(units){var re=units.map(function(u){return u.regex;}).reduce(function(f,r){return f+"("+r.source+")";},"");return["^"+re+"$",units];}
function match(input,regex,handlers){var matches=input.match(regex);if(matches){var all={};var matchIndex=1;for(var i in handlers){if(hasOwnProperty(handlers,i)){var h=handlers[i],groups=h.groups?h.groups+1:1;if(!h.literal&&h.token){all[h.token.val[0]]=h.deser(matches.slice(matchIndex,matchIndex+groups));}
matchIndex+=groups;}}
return[matches,all];}else{return[matches,{}];}}
function dateTimeFromMatches(matches){var toField=function toField(token){switch(token){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null;}};var zone;if(!isUndefined(matches.Z)){zone=new FixedOffsetZone(matches.Z);}else if(!isUndefined(matches.z)){zone=IANAZone.create(matches.z);}else{zone=null;}
if(!isUndefined(matches.q)){matches.M=(matches.q-1)*3+1;}
if(!isUndefined(matches.h)){if(matches.h<12&&matches.a===1){matches.h+=12;}else if(matches.h===12&&matches.a===0){matches.h=0;}}
if(matches.G===0&&matches.y){matches.y=-matches.y;}
if(!isUndefined(matches.u)){matches.S=parseMillis(matches.u);}
var vals=Object.keys(matches).reduce(function(r,k){var f=toField(k);if(f){r[f]=matches[k];}
return r;},{});return[vals,zone];}
var dummyDateTimeCache=null;function getDummyDateTime(){if(!dummyDateTimeCache){dummyDateTimeCache=DateTime.fromMillis(1555555555555);}
return dummyDateTimeCache;}
function maybeExpandMacroToken(token,locale){if(token.literal){return token;}
var formatOpts=Formatter.macroTokenToFormatOpts(token.val);if(!formatOpts){return token;}
var formatter=Formatter.create(locale,formatOpts);var parts=formatter.formatDateTimeParts(getDummyDateTime());var tokens=parts.map(function(p){return tokenForPart(p,locale,formatOpts);});if(tokens.includes(undefined)){return token;}
return tokens;}
function expandMacroTokens(tokens,locale){var _Array$prototype;return(_Array$prototype=Array.prototype).concat.apply(_Array$prototype,tokens.map(function(t){return maybeExpandMacroToken(t,locale);}));}
function explainFromTokens(locale,input,format){var tokens=expandMacroTokens(Formatter.parseFormat(format),locale),units=tokens.map(function(t){return unitForToken(t,locale);}),disqualifyingUnit=units.find(function(t){return t.invalidReason;});if(disqualifyingUnit){return{input:input,tokens:tokens,invalidReason:disqualifyingUnit.invalidReason};}else{var _buildRegex=buildRegex(units),regexString=_buildRegex[0],handlers=_buildRegex[1],regex=RegExp(regexString,"i"),_match=match(input,regex,handlers),rawMatches=_match[0],matches=_match[1],_ref6=matches?dateTimeFromMatches(matches):[null,null],result=_ref6[0],zone=_ref6[1];if(hasOwnProperty(matches,"a")&&hasOwnProperty(matches,"H")){throw new ConflictingSpecificationError("Can't include meridiem when specifying 24-hour format");}
return{input:input,tokens:tokens,regex:regex,rawMatches:rawMatches,matches:matches,result:result,zone:zone};}}
function parseFromTokens(locale,input,format){var _explainFromTokens=explainFromTokens(locale,input,format),result=_explainFromTokens.result,zone=_explainFromTokens.zone,invalidReason=_explainFromTokens.invalidReason;return[result,zone,invalidReason];}
var nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335];function unitOutOfRange(unit,value){return new Invalid("unit out of range","you specified "+value+" (of type "+typeof value+") as a "+unit+", which is invalid");}
function dayOfWeek(year,month,day){var js=new Date(Date.UTC(year,month-1,day)).getUTCDay();return js===0?7:js;}
function computeOrdinal(year,month,day){return day+(isLeapYear(year)?leapLadder:nonLeapLadder)[month-1];}
function uncomputeOrdinal(year,ordinal){var table=isLeapYear(year)?leapLadder:nonLeapLadder,month0=table.findIndex(function(i){return i<ordinal;}),day=ordinal-table[month0];return{month:month0+1,day:day};}
function gregorianToWeek(gregObj){var year=gregObj.year,month=gregObj.month,day=gregObj.day,ordinal=computeOrdinal(year,month,day),weekday=dayOfWeek(year,month,day);var weekNumber=Math.floor((ordinal-weekday+10)/7),weekYear;if(weekNumber<1){weekYear=year-1;weekNumber=weeksInWeekYear(weekYear);}else if(weekNumber>weeksInWeekYear(year)){weekYear=year+1;weekNumber=1;}else{weekYear=year;}
return Object.assign({weekYear:weekYear,weekNumber:weekNumber,weekday:weekday},timeObject(gregObj));}
function weekToGregorian(weekData){var weekYear=weekData.weekYear,weekNumber=weekData.weekNumber,weekday=weekData.weekday,weekdayOfJan4=dayOfWeek(weekYear,1,4),yearInDays=daysInYear(weekYear);var ordinal=weekNumber*7+weekday-weekdayOfJan4-3,year;if(ordinal<1){year=weekYear-1;ordinal+=daysInYear(year);}else if(ordinal>yearInDays){year=weekYear+1;ordinal-=daysInYear(weekYear);}else{year=weekYear;}
var _uncomputeOrdinal=uncomputeOrdinal(year,ordinal),month=_uncomputeOrdinal.month,day=_uncomputeOrdinal.day;return Object.assign({year:year,month:month,day:day},timeObject(weekData));}
function gregorianToOrdinal(gregData){var year=gregData.year,month=gregData.month,day=gregData.day,ordinal=computeOrdinal(year,month,day);return Object.assign({year:year,ordinal:ordinal},timeObject(gregData));}
function ordinalToGregorian(ordinalData){var year=ordinalData.year,ordinal=ordinalData.ordinal,_uncomputeOrdinal2=uncomputeOrdinal(year,ordinal),month=_uncomputeOrdinal2.month,day=_uncomputeOrdinal2.day;return Object.assign({year:year,month:month,day:day},timeObject(ordinalData));}
function hasInvalidWeekData(obj){var validYear=isInteger(obj.weekYear),validWeek=integerBetween(obj.weekNumber,1,weeksInWeekYear(obj.weekYear)),validWeekday=integerBetween(obj.weekday,1,7);if(!validYear){return unitOutOfRange("weekYear",obj.weekYear);}else if(!validWeek){return unitOutOfRange("week",obj.week);}else if(!validWeekday){return unitOutOfRange("weekday",obj.weekday);}else return false;}
function hasInvalidOrdinalData(obj){var validYear=isInteger(obj.year),validOrdinal=integerBetween(obj.ordinal,1,daysInYear(obj.year));if(!validYear){return unitOutOfRange("year",obj.year);}else if(!validOrdinal){return unitOutOfRange("ordinal",obj.ordinal);}else return false;}
function hasInvalidGregorianData(obj){var validYear=isInteger(obj.year),validMonth=integerBetween(obj.month,1,12),validDay=integerBetween(obj.day,1,daysInMonth(obj.year,obj.month));if(!validYear){return unitOutOfRange("year",obj.year);}else if(!validMonth){return unitOutOfRange("month",obj.month);}else if(!validDay){return unitOutOfRange("day",obj.day);}else return false;}
function hasInvalidTimeData(obj){var hour=obj.hour,minute=obj.minute,second=obj.second,millisecond=obj.millisecond;var validHour=integerBetween(hour,0,23)||hour===24&&minute===0&&second===0&&millisecond===0,validMinute=integerBetween(minute,0,59),validSecond=integerBetween(second,0,59),validMillisecond=integerBetween(millisecond,0,999);if(!validHour){return unitOutOfRange("hour",hour);}else if(!validMinute){return unitOutOfRange("minute",minute);}else if(!validSecond){return unitOutOfRange("second",second);}else if(!validMillisecond){return unitOutOfRange("millisecond",millisecond);}else return false;}
var INVALID$2="Invalid DateTime";var MAX_DATE=8.64e15;function unsupportedZone(zone){return new Invalid("unsupported zone","the zone \""+zone.name+"\" is not supported");}
function possiblyCachedWeekData(dt){if(dt.weekData===null){dt.weekData=gregorianToWeek(dt.c);}
return dt.weekData;}
function clone$1(inst,alts){var current={ts:inst.ts,zone:inst.zone,c:inst.c,o:inst.o,loc:inst.loc,invalid:inst.invalid};return new DateTime(Object.assign({},current,alts,{old:current}));}
function fixOffset(localTS,o,tz){var utcGuess=localTS-o*60*1000;var o2=tz.offset(utcGuess);if(o===o2){return[utcGuess,o];}
utcGuess-=(o2-o)*60*1000;var o3=tz.offset(utcGuess);if(o2===o3){return[utcGuess,o2];}
return[localTS-Math.min(o2,o3)*60*1000,Math.max(o2,o3)];}
function tsToObj(ts,offset){ts+=offset*60*1000;var d=new Date(ts);return{year:d.getUTCFullYear(),month:d.getUTCMonth()+1,day:d.getUTCDate(),hour:d.getUTCHours(),minute:d.getUTCMinutes(),second:d.getUTCSeconds(),millisecond:d.getUTCMilliseconds()};}
function objToTS(obj,offset,zone){return fixOffset(objToLocalTS(obj),offset,zone);}
function adjustTime(inst,dur){var oPre=inst.o,year=inst.c.year+Math.trunc(dur.years),month=inst.c.month+Math.trunc(dur.months)+Math.trunc(dur.quarters)*3,c=Object.assign({},inst.c,{year:year,month:month,day:Math.min(inst.c.day,daysInMonth(year,month))+Math.trunc(dur.days)+Math.trunc(dur.weeks)*7}),millisToAdd=Duration.fromObject({years:dur.years-Math.trunc(dur.years),quarters:dur.quarters-Math.trunc(dur.quarters),months:dur.months-Math.trunc(dur.months),weeks:dur.weeks-Math.trunc(dur.weeks),days:dur.days-Math.trunc(dur.days),hours:dur.hours,minutes:dur.minutes,seconds:dur.seconds,milliseconds:dur.milliseconds}).as("milliseconds"),localTS=objToLocalTS(c);var _fixOffset=fixOffset(localTS,oPre,inst.zone),ts=_fixOffset[0],o=_fixOffset[1];if(millisToAdd!==0){ts+=millisToAdd;o=inst.zone.offset(ts);}
return{ts:ts,o:o};}
function parseDataToDateTime(parsed,parsedZone,opts,format,text){var setZone=opts.setZone,zone=opts.zone;if(parsed&&Object.keys(parsed).length!==0){var interpretationZone=parsedZone||zone,inst=DateTime.fromObject(Object.assign(parsed,opts,{zone:interpretationZone,setZone:undefined}));return setZone?inst:inst.setZone(zone);}else{return DateTime.invalid(new Invalid("unparsable","the input \""+text+"\" can't be parsed as "+format));}}
function toTechFormat(dt,format,allowZ){if(allowZ===void 0){allowZ=true;}
return dt.isValid?Formatter.create(Locale.create("en-US"),{allowZ:allowZ,forceSimple:true}).formatDateTimeFromString(dt,format):null;}
function toTechTimeFormat(dt,_ref){var _ref$suppressSeconds=_ref.suppressSeconds,suppressSeconds=_ref$suppressSeconds===void 0?false:_ref$suppressSeconds,_ref$suppressMillisec=_ref.suppressMilliseconds,suppressMilliseconds=_ref$suppressMillisec===void 0?false:_ref$suppressMillisec,includeOffset=_ref.includeOffset,_ref$includeZone=_ref.includeZone,includeZone=_ref$includeZone===void 0?false:_ref$includeZone,_ref$spaceZone=_ref.spaceZone,spaceZone=_ref$spaceZone===void 0?false:_ref$spaceZone,_ref$format=_ref.format,format=_ref$format===void 0?"extended":_ref$format;var fmt=format==="basic"?"HHmm":"HH:mm";if(!suppressSeconds||dt.second!==0||dt.millisecond!==0){fmt+=format==="basic"?"ss":":ss";if(!suppressMilliseconds||dt.millisecond!==0){fmt+=".SSS";}}
if((includeZone||includeOffset)&&spaceZone){fmt+=" ";}
if(includeZone){fmt+="z";}else if(includeOffset){fmt+=format==="basic"?"ZZZ":"ZZ";}
return toTechFormat(dt,fmt);}
var defaultUnitValues={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},defaultWeekUnitValues={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},defaultOrdinalUnitValues={ordinal:1,hour:0,minute:0,second:0,millisecond:0};var orderedUnits$1=["year","month","day","hour","minute","second","millisecond"],orderedWeekUnits=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],orderedOrdinalUnits=["year","ordinal","hour","minute","second","millisecond"];function normalizeUnit(unit){var normalized={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[unit.toLowerCase()];if(!normalized)throw new InvalidUnitError(unit);return normalized;}
function quickDT(obj,zone){for(var _iterator=_createForOfIteratorHelperLoose(orderedUnits$1),_step;!(_step=_iterator()).done;){var u=_step.value;if(isUndefined(obj[u])){obj[u]=defaultUnitValues[u];}}
var invalid=hasInvalidGregorianData(obj)||hasInvalidTimeData(obj);if(invalid){return DateTime.invalid(invalid);}
var tsNow=Settings.now(),offsetProvis=zone.offset(tsNow),_objToTS=objToTS(obj,offsetProvis,zone),ts=_objToTS[0],o=_objToTS[1];return new DateTime({ts:ts,zone:zone,o:o});}
function diffRelative(start,end,opts){var round=isUndefined(opts.round)?true:opts.round,format=function format(c,unit){c=roundTo(c,round||opts.calendary?0:2,true);var formatter=end.loc.clone(opts).relFormatter(opts);return formatter.format(c,unit);},differ=function differ(unit){if(opts.calendary){if(!end.hasSame(start,unit)){return end.startOf(unit).diff(start.startOf(unit),unit).get(unit);}else return 0;}else{return end.diff(start,unit).get(unit);}};if(opts.unit){return format(differ(opts.unit),opts.unit);}
for(var _iterator2=_createForOfIteratorHelperLoose(opts.units),_step2;!(_step2=_iterator2()).done;){var unit=_step2.value;var count=differ(unit);if(Math.abs(count)>=1){return format(count,unit);}}
return format(0,opts.units[opts.units.length-1]);}
var DateTime=function(){function DateTime(config){var zone=config.zone||Settings.defaultZone;var invalid=config.invalid||(Number.isNaN(config.ts)?new Invalid("invalid input"):null)||(!zone.isValid?unsupportedZone(zone):null);this.ts=isUndefined(config.ts)?Settings.now():config.ts;var c=null,o=null;if(!invalid){var unchanged=config.old&&config.old.ts===this.ts&&config.old.zone.equals(zone);if(unchanged){var _ref2=[config.old.c,config.old.o];c=_ref2[0];o=_ref2[1];}else{var ot=zone.offset(this.ts);c=tsToObj(this.ts,ot);invalid=Number.isNaN(c.year)?new Invalid("invalid input"):null;c=invalid?null:c;o=invalid?null:ot;}}
this._zone=zone;this.loc=config.loc||Locale.create();this.invalid=invalid;this.weekData=null;this.c=c;this.o=o;this.isLuxonDateTime=true;}
DateTime.local=function local(year,month,day,hour,minute,second,millisecond){if(isUndefined(year)){return new DateTime({ts:Settings.now()});}else{return quickDT({year:year,month:month,day:day,hour:hour,minute:minute,second:second,millisecond:millisecond},Settings.defaultZone);}};DateTime.utc=function utc(year,month,day,hour,minute,second,millisecond){if(isUndefined(year)){return new DateTime({ts:Settings.now(),zone:FixedOffsetZone.utcInstance});}else{return quickDT({year:year,month:month,day:day,hour:hour,minute:minute,second:second,millisecond:millisecond},FixedOffsetZone.utcInstance);}};DateTime.fromJSDate=function fromJSDate(date,options){if(options===void 0){options={};}
var ts=isDate(date)?date.valueOf():NaN;if(Number.isNaN(ts)){return DateTime.invalid("invalid input");}
var zoneToUse=normalizeZone(options.zone,Settings.defaultZone);if(!zoneToUse.isValid){return DateTime.invalid(unsupportedZone(zoneToUse));}
return new DateTime({ts:ts,zone:zoneToUse,loc:Locale.fromObject(options)});};DateTime.fromMillis=function fromMillis(milliseconds,options){if(options===void 0){options={};}
if(!isNumber(milliseconds)){throw new InvalidArgumentError("fromMillis requires a numerical input, but received a "+typeof milliseconds+" with value "+milliseconds);}else if(milliseconds<-MAX_DATE||milliseconds>MAX_DATE){return DateTime.invalid("Timestamp out of range");}else{return new DateTime({ts:milliseconds,zone:normalizeZone(options.zone,Settings.defaultZone),loc:Locale.fromObject(options)});}};DateTime.fromSeconds=function fromSeconds(seconds,options){if(options===void 0){options={};}
if(!isNumber(seconds)){throw new InvalidArgumentError("fromSeconds requires a numerical input");}else{return new DateTime({ts:seconds*1000,zone:normalizeZone(options.zone,Settings.defaultZone),loc:Locale.fromObject(options)});}};DateTime.fromObject=function fromObject(obj){var zoneToUse=normalizeZone(obj.zone,Settings.defaultZone);if(!zoneToUse.isValid){return DateTime.invalid(unsupportedZone(zoneToUse));}
var tsNow=Settings.now(),offsetProvis=zoneToUse.offset(tsNow),normalized=normalizeObject(obj,normalizeUnit,["zone","locale","outputCalendar","numberingSystem"]),containsOrdinal=!isUndefined(normalized.ordinal),containsGregorYear=!isUndefined(normalized.year),containsGregorMD=!isUndefined(normalized.month)||!isUndefined(normalized.day),containsGregor=containsGregorYear||containsGregorMD,definiteWeekDef=normalized.weekYear||normalized.weekNumber,loc=Locale.fromObject(obj);if((containsGregor||containsOrdinal)&&definiteWeekDef){throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");}
if(containsGregorMD&&containsOrdinal){throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");}
var useWeekData=definiteWeekDef||normalized.weekday&&!containsGregor;var units,defaultValues,objNow=tsToObj(tsNow,offsetProvis);if(useWeekData){units=orderedWeekUnits;defaultValues=defaultWeekUnitValues;objNow=gregorianToWeek(objNow);}else if(containsOrdinal){units=orderedOrdinalUnits;defaultValues=defaultOrdinalUnitValues;objNow=gregorianToOrdinal(objNow);}else{units=orderedUnits$1;defaultValues=defaultUnitValues;}
var foundFirst=false;for(var _iterator3=_createForOfIteratorHelperLoose(units),_step3;!(_step3=_iterator3()).done;){var u=_step3.value;var v=normalized[u];if(!isUndefined(v)){foundFirst=true;}else if(foundFirst){normalized[u]=defaultValues[u];}else{normalized[u]=objNow[u];}}
var higherOrderInvalid=useWeekData?hasInvalidWeekData(normalized):containsOrdinal?hasInvalidOrdinalData(normalized):hasInvalidGregorianData(normalized),invalid=higherOrderInvalid||hasInvalidTimeData(normalized);if(invalid){return DateTime.invalid(invalid);}
var gregorian=useWeekData?weekToGregorian(normalized):containsOrdinal?ordinalToGregorian(normalized):normalized,_objToTS2=objToTS(gregorian,offsetProvis,zoneToUse),tsFinal=_objToTS2[0],offsetFinal=_objToTS2[1],inst=new DateTime({ts:tsFinal,zone:zoneToUse,o:offsetFinal,loc:loc});if(normalized.weekday&&containsGregor&&obj.weekday!==inst.weekday){return DateTime.invalid("mismatched weekday","you can't specify both a weekday of "+normalized.weekday+" and a date of "+inst.toISO());}
return inst;};DateTime.fromISO=function fromISO(text,opts){if(opts===void 0){opts={};}
var _parseISODate=parseISODate(text),vals=_parseISODate[0],parsedZone=_parseISODate[1];return parseDataToDateTime(vals,parsedZone,opts,"ISO 8601",text);};DateTime.fromRFC2822=function fromRFC2822(text,opts){if(opts===void 0){opts={};}
var _parseRFC2822Date=parseRFC2822Date(text),vals=_parseRFC2822Date[0],parsedZone=_parseRFC2822Date[1];return parseDataToDateTime(vals,parsedZone,opts,"RFC 2822",text);};DateTime.fromHTTP=function fromHTTP(text,opts){if(opts===void 0){opts={};}
var _parseHTTPDate=parseHTTPDate(text),vals=_parseHTTPDate[0],parsedZone=_parseHTTPDate[1];return parseDataToDateTime(vals,parsedZone,opts,"HTTP",opts);};DateTime.fromFormat=function fromFormat(text,fmt,opts){if(opts===void 0){opts={};}
if(isUndefined(text)||isUndefined(fmt)){throw new InvalidArgumentError("fromFormat requires an input string and a format");}
var _opts=opts,_opts$locale=_opts.locale,locale=_opts$locale===void 0?null:_opts$locale,_opts$numberingSystem=_opts.numberingSystem,numberingSystem=_opts$numberingSystem===void 0?null:_opts$numberingSystem,localeToUse=Locale.fromOpts({locale:locale,numberingSystem:numberingSystem,defaultToEN:true}),_parseFromTokens=parseFromTokens(localeToUse,text,fmt),vals=_parseFromTokens[0],parsedZone=_parseFromTokens[1],invalid=_parseFromTokens[2];if(invalid){return DateTime.invalid(invalid);}else{return parseDataToDateTime(vals,parsedZone,opts,"format "+fmt,text);}};DateTime.fromString=function fromString(text,fmt,opts){if(opts===void 0){opts={};}
return DateTime.fromFormat(text,fmt,opts);};DateTime.fromSQL=function fromSQL(text,opts){if(opts===void 0){opts={};}
var _parseSQL=parseSQL(text),vals=_parseSQL[0],parsedZone=_parseSQL[1];return parseDataToDateTime(vals,parsedZone,opts,"SQL",text);};DateTime.invalid=function invalid(reason,explanation){if(explanation===void 0){explanation=null;}
if(!reason){throw new InvalidArgumentError("need to specify a reason the DateTime is invalid");}
var invalid=reason instanceof Invalid?reason:new Invalid(reason,explanation);if(Settings.throwOnInvalid){throw new InvalidDateTimeError(invalid);}else{return new DateTime({invalid:invalid});}};DateTime.isDateTime=function isDateTime(o){return o&&o.isLuxonDateTime||false;};var _proto=DateTime.prototype;_proto.get=function get(unit){return this[unit];};_proto.resolvedLocaleOpts=function resolvedLocaleOpts(opts){if(opts===void 0){opts={};}
var _Formatter$create$res=Formatter.create(this.loc.clone(opts),opts).resolvedOptions(this),locale=_Formatter$create$res.locale,numberingSystem=_Formatter$create$res.numberingSystem,calendar=_Formatter$create$res.calendar;return{locale:locale,numberingSystem:numberingSystem,outputCalendar:calendar};};_proto.toUTC=function toUTC(offset,opts){if(offset===void 0){offset=0;}
if(opts===void 0){opts={};}
return this.setZone(FixedOffsetZone.instance(offset),opts);};_proto.toLocal=function toLocal(){return this.setZone(Settings.defaultZone);};_proto.setZone=function setZone(zone,_temp){var _ref3=_temp===void 0?{}:_temp,_ref3$keepLocalTime=_ref3.keepLocalTime,keepLocalTime=_ref3$keepLocalTime===void 0?false:_ref3$keepLocalTime,_ref3$keepCalendarTim=_ref3.keepCalendarTime,keepCalendarTime=_ref3$keepCalendarTim===void 0?false:_ref3$keepCalendarTim;zone=normalizeZone(zone,Settings.defaultZone);if(zone.equals(this.zone)){return this;}else if(!zone.isValid){return DateTime.invalid(unsupportedZone(zone));}else{var newTS=this.ts;if(keepLocalTime||keepCalendarTime){var offsetGuess=zone.offset(this.ts);var asObj=this.toObject();var _objToTS3=objToTS(asObj,offsetGuess,zone);newTS=_objToTS3[0];}
return clone$1(this,{ts:newTS,zone:zone});}};_proto.reconfigure=function reconfigure(_temp2){var _ref4=_temp2===void 0?{}:_temp2,locale=_ref4.locale,numberingSystem=_ref4.numberingSystem,outputCalendar=_ref4.outputCalendar;var loc=this.loc.clone({locale:locale,numberingSystem:numberingSystem,outputCalendar:outputCalendar});return clone$1(this,{loc:loc});};_proto.setLocale=function setLocale(locale){return this.reconfigure({locale:locale});};_proto.set=function set(values){if(!this.isValid)return this;var normalized=normalizeObject(values,normalizeUnit,[]),settingWeekStuff=!isUndefined(normalized.weekYear)||!isUndefined(normalized.weekNumber)||!isUndefined(normalized.weekday);var mixed;if(settingWeekStuff){mixed=weekToGregorian(Object.assign(gregorianToWeek(this.c),normalized));}else if(!isUndefined(normalized.ordinal)){mixed=ordinalToGregorian(Object.assign(gregorianToOrdinal(this.c),normalized));}else{mixed=Object.assign(this.toObject(),normalized);if(isUndefined(normalized.day)){mixed.day=Math.min(daysInMonth(mixed.year,mixed.month),mixed.day);}}
var _objToTS4=objToTS(mixed,this.o,this.zone),ts=_objToTS4[0],o=_objToTS4[1];return clone$1(this,{ts:ts,o:o});};_proto.plus=function plus(duration){if(!this.isValid)return this;var dur=friendlyDuration(duration);return clone$1(this,adjustTime(this,dur));};_proto.minus=function minus(duration){if(!this.isValid)return this;var dur=friendlyDuration(duration).negate();return clone$1(this,adjustTime(this,dur));};_proto.startOf=function startOf(unit){if(!this.isValid)return this;var o={},normalizedUnit=Duration.normalizeUnit(unit);switch(normalizedUnit){case"years":o.month=1;case"quarters":case"months":o.day=1;case"weeks":case"days":o.hour=0;case"hours":o.minute=0;case"minutes":o.second=0;case"seconds":o.millisecond=0;break;}
if(normalizedUnit==="weeks"){o.weekday=1;}
if(normalizedUnit==="quarters"){var q=Math.ceil(this.month/3);o.month=(q-1)*3+1;}
return this.set(o);};_proto.endOf=function endOf(unit){var _this$plus;return this.isValid?this.plus((_this$plus={},_this$plus[unit]=1,_this$plus)).startOf(unit).minus(1):this;};_proto.toFormat=function toFormat(fmt,opts){if(opts===void 0){opts={};}
return this.isValid?Formatter.create(this.loc.redefaultToEN(opts)).formatDateTimeFromString(this,fmt):INVALID$2;};_proto.toLocaleString=function toLocaleString(opts){if(opts===void 0){opts=DATE_SHORT;}
return this.isValid?Formatter.create(this.loc.clone(opts),opts).formatDateTime(this):INVALID$2;};_proto.toLocaleParts=function toLocaleParts(opts){if(opts===void 0){opts={};}
return this.isValid?Formatter.create(this.loc.clone(opts),opts).formatDateTimeParts(this):[];};_proto.toISO=function toISO(opts){if(opts===void 0){opts={};}
if(!this.isValid){return null;}
return this.toISODate(opts)+"T"+this.toISOTime(opts);};_proto.toISODate=function toISODate(_temp3){var _ref5=_temp3===void 0?{}:_temp3,_ref5$format=_ref5.format,format=_ref5$format===void 0?"extended":_ref5$format;var fmt=format==="basic"?"yyyyMMdd":"yyyy-MM-dd";if(this.year>9999){fmt="+"+fmt;}
return toTechFormat(this,fmt);};_proto.toISOWeekDate=function toISOWeekDate(){return toTechFormat(this,"kkkk-'W'WW-c");};_proto.toISOTime=function toISOTime(_temp4){var _ref6=_temp4===void 0?{}:_temp4,_ref6$suppressMillise=_ref6.suppressMilliseconds,suppressMilliseconds=_ref6$suppressMillise===void 0?false:_ref6$suppressMillise,_ref6$suppressSeconds=_ref6.suppressSeconds,suppressSeconds=_ref6$suppressSeconds===void 0?false:_ref6$suppressSeconds,_ref6$includeOffset=_ref6.includeOffset,includeOffset=_ref6$includeOffset===void 0?true:_ref6$includeOffset,_ref6$format=_ref6.format,format=_ref6$format===void 0?"extended":_ref6$format;return toTechTimeFormat(this,{suppressSeconds:suppressSeconds,suppressMilliseconds:suppressMilliseconds,includeOffset:includeOffset,format:format});};_proto.toRFC2822=function toRFC2822(){return toTechFormat(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",false);};_proto.toHTTP=function toHTTP(){return toTechFormat(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'");};_proto.toSQLDate=function toSQLDate(){return toTechFormat(this,"yyyy-MM-dd");};_proto.toSQLTime=function toSQLTime(_temp5){var _ref7=_temp5===void 0?{}:_temp5,_ref7$includeOffset=_ref7.includeOffset,includeOffset=_ref7$includeOffset===void 0?true:_ref7$includeOffset,_ref7$includeZone=_ref7.includeZone,includeZone=_ref7$includeZone===void 0?false:_ref7$includeZone;return toTechTimeFormat(this,{includeOffset:includeOffset,includeZone:includeZone,spaceZone:true});};_proto.toSQL=function toSQL(opts){if(opts===void 0){opts={};}
if(!this.isValid){return null;}
return this.toSQLDate()+" "+this.toSQLTime(opts);};_proto.toString=function toString(){return this.isValid?this.toISO():INVALID$2;};_proto.valueOf=function valueOf(){return this.toMillis();};_proto.toMillis=function toMillis(){return this.isValid?this.ts:NaN;};_proto.toSeconds=function toSeconds(){return this.isValid?this.ts/1000:NaN;};_proto.toJSON=function toJSON(){return this.toISO();};_proto.toBSON=function toBSON(){return this.toJSDate();};_proto.toObject=function toObject(opts){if(opts===void 0){opts={};}
if(!this.isValid)return{};var base=Object.assign({},this.c);if(opts.includeConfig){base.outputCalendar=this.outputCalendar;base.numberingSystem=this.loc.numberingSystem;base.locale=this.loc.locale;}
return base;};_proto.toJSDate=function toJSDate(){return new Date(this.isValid?this.ts:NaN);};_proto.diff=function diff(otherDateTime,unit,opts){if(unit===void 0){unit="milliseconds";}
if(opts===void 0){opts={};}
if(!this.isValid||!otherDateTime.isValid){return Duration.invalid(this.invalid||otherDateTime.invalid,"created by diffing an invalid DateTime");}
var durOpts=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},opts);var units=maybeArray(unit).map(Duration.normalizeUnit),otherIsLater=otherDateTime.valueOf()>this.valueOf(),earlier=otherIsLater?this:otherDateTime,later=otherIsLater?otherDateTime:this,diffed=_diff(earlier,later,units,durOpts);return otherIsLater?diffed.negate():diffed;};_proto.diffNow=function diffNow(unit,opts){if(unit===void 0){unit="milliseconds";}
if(opts===void 0){opts={};}
return this.diff(DateTime.local(),unit,opts);};_proto.until=function until(otherDateTime){return this.isValid?Interval.fromDateTimes(this,otherDateTime):this;};_proto.hasSame=function hasSame(otherDateTime,unit){if(!this.isValid)return false;if(unit==="millisecond"){return this.valueOf()===otherDateTime.valueOf();}else{var inputMs=otherDateTime.valueOf();return this.startOf(unit)<=inputMs&&inputMs<=this.endOf(unit);}};_proto.equals=function equals(other){return this.isValid&&other.isValid&&this.valueOf()===other.valueOf()&&this.zone.equals(other.zone)&&this.loc.equals(other.loc);};_proto.toRelative=function toRelative(options){if(options===void 0){options={};}
if(!this.isValid)return null;var base=options.base||DateTime.fromObject({zone:this.zone}),padding=options.padding?this<base?-options.padding:options.padding:0;return diffRelative(base,this.plus(padding),Object.assign(options,{numeric:"always",units:["years","months","days","hours","minutes","seconds"]}));};_proto.toRelativeCalendar=function toRelativeCalendar(options){if(options===void 0){options={};}
if(!this.isValid)return null;return diffRelative(options.base||DateTime.fromObject({zone:this.zone}),this,Object.assign(options,{numeric:"auto",units:["years","months","days"],calendary:true}));};DateTime.min=function min(){for(var _len=arguments.length,dateTimes=new Array(_len),_key=0;_key<_len;_key++){dateTimes[_key]=arguments[_key];}
if(!dateTimes.every(DateTime.isDateTime)){throw new InvalidArgumentError("min requires all arguments be DateTimes");}
return bestBy(dateTimes,function(i){return i.valueOf();},Math.min);};DateTime.max=function max(){for(var _len2=arguments.length,dateTimes=new Array(_len2),_key2=0;_key2<_len2;_key2++){dateTimes[_key2]=arguments[_key2];}
if(!dateTimes.every(DateTime.isDateTime)){throw new InvalidArgumentError("max requires all arguments be DateTimes");}
return bestBy(dateTimes,function(i){return i.valueOf();},Math.max);};DateTime.fromFormatExplain=function fromFormatExplain(text,fmt,options){if(options===void 0){options={};}
var _options=options,_options$locale=_options.locale,locale=_options$locale===void 0?null:_options$locale,_options$numberingSys=_options.numberingSystem,numberingSystem=_options$numberingSys===void 0?null:_options$numberingSys,localeToUse=Locale.fromOpts({locale:locale,numberingSystem:numberingSystem,defaultToEN:true});return explainFromTokens(localeToUse,text,fmt);};DateTime.fromStringExplain=function fromStringExplain(text,fmt,options){if(options===void 0){options={};}
return DateTime.fromFormatExplain(text,fmt,options);};_createClass(DateTime,[{key:"isValid",get:function get(){return this.invalid===null;}},{key:"invalidReason",get:function get(){return this.invalid?this.invalid.reason:null;}},{key:"invalidExplanation",get:function get(){return this.invalid?this.invalid.explanation:null;}},{key:"locale",get:function get(){return this.isValid?this.loc.locale:null;}},{key:"numberingSystem",get:function get(){return this.isValid?this.loc.numberingSystem:null;}},{key:"outputCalendar",get:function get(){return this.isValid?this.loc.outputCalendar:null;}},{key:"zone",get:function get(){return this._zone;}},{key:"zoneName",get:function get(){return this.isValid?this.zone.name:null;}},{key:"year",get:function get(){return this.isValid?this.c.year:NaN;}},{key:"quarter",get:function get(){return this.isValid?Math.ceil(this.c.month/3):NaN;}},{key:"month",get:function get(){return this.isValid?this.c.month:NaN;}},{key:"day",get:function get(){return this.isValid?this.c.day:NaN;}},{key:"hour",get:function get(){return this.isValid?this.c.hour:NaN;}},{key:"minute",get:function get(){return this.isValid?this.c.minute:NaN;}},{key:"second",get:function get(){return this.isValid?this.c.second:NaN;}},{key:"millisecond",get:function get(){return this.isValid?this.c.millisecond:NaN;}},{key:"weekYear",get:function get(){return this.isValid?possiblyCachedWeekData(this).weekYear:NaN;}},{key:"weekNumber",get:function get(){return this.isValid?possiblyCachedWeekData(this).weekNumber:NaN;}},{key:"weekday",get:function get(){return this.isValid?possiblyCachedWeekData(this).weekday:NaN;}},{key:"ordinal",get:function get(){return this.isValid?gregorianToOrdinal(this.c).ordinal:NaN;}},{key:"monthShort",get:function get(){return this.isValid?Info.months("short",{locale:this.locale})[this.month-1]:null;}},{key:"monthLong",get:function get(){return this.isValid?Info.months("long",{locale:this.locale})[this.month-1]:null;}},{key:"weekdayShort",get:function get(){return this.isValid?Info.weekdays("short",{locale:this.locale})[this.weekday-1]:null;}},{key:"weekdayLong",get:function get(){return this.isValid?Info.weekdays("long",{locale:this.locale})[this.weekday-1]:null;}},{key:"offset",get:function get(){return this.isValid?+this.o:NaN;}},{key:"offsetNameShort",get:function get(){if(this.isValid){return this.zone.offsetName(this.ts,{format:"short",locale:this.locale});}else{return null;}}},{key:"offsetNameLong",get:function get(){if(this.isValid){return this.zone.offsetName(this.ts,{format:"long",locale:this.locale});}else{return null;}}},{key:"isOffsetFixed",get:function get(){return this.isValid?this.zone.universal:null;}},{key:"isInDST",get:function get(){if(this.isOffsetFixed){return false;}else{return this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset;}}},{key:"isInLeapYear",get:function get(){return isLeapYear(this.year);}},{key:"daysInMonth",get:function get(){return daysInMonth(this.year,this.month);}},{key:"daysInYear",get:function get(){return this.isValid?daysInYear(this.year):NaN;}},{key:"weeksInWeekYear",get:function get(){return this.isValid?weeksInWeekYear(this.weekYear):NaN;}}],[{key:"DATE_SHORT",get:function get(){return DATE_SHORT;}},{key:"DATE_MED",get:function get(){return DATE_MED;}},{key:"DATE_MED_WITH_WEEKDAY",get:function get(){return DATE_MED_WITH_WEEKDAY;}},{key:"DATE_FULL",get:function get(){return DATE_FULL;}},{key:"DATE_HUGE",get:function get(){return DATE_HUGE;}},{key:"TIME_SIMPLE",get:function get(){return TIME_SIMPLE;}},{key:"TIME_WITH_SECONDS",get:function get(){return TIME_WITH_SECONDS;}},{key:"TIME_WITH_SHORT_OFFSET",get:function get(){return TIME_WITH_SHORT_OFFSET;}},{key:"TIME_WITH_LONG_OFFSET",get:function get(){return TIME_WITH_LONG_OFFSET;}},{key:"TIME_24_SIMPLE",get:function get(){return TIME_24_SIMPLE;}},{key:"TIME_24_WITH_SECONDS",get:function get(){return TIME_24_WITH_SECONDS;}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function get(){return TIME_24_WITH_SHORT_OFFSET;}},{key:"TIME_24_WITH_LONG_OFFSET",get:function get(){return TIME_24_WITH_LONG_OFFSET;}},{key:"DATETIME_SHORT",get:function get(){return DATETIME_SHORT;}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function get(){return DATETIME_SHORT_WITH_SECONDS;}},{key:"DATETIME_MED",get:function get(){return DATETIME_MED;}},{key:"DATETIME_MED_WITH_SECONDS",get:function get(){return DATETIME_MED_WITH_SECONDS;}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function get(){return DATETIME_MED_WITH_WEEKDAY;}},{key:"DATETIME_FULL",get:function get(){return DATETIME_FULL;}},{key:"DATETIME_FULL_WITH_SECONDS",get:function get(){return DATETIME_FULL_WITH_SECONDS;}},{key:"DATETIME_HUGE",get:function get(){return DATETIME_HUGE;}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function get(){return DATETIME_HUGE_WITH_SECONDS;}}]);return DateTime;}();function friendlyDateTime(dateTimeish){if(DateTime.isDateTime(dateTimeish)){return dateTimeish;}else if(dateTimeish&&dateTimeish.valueOf&&isNumber(dateTimeish.valueOf())){return DateTime.fromJSDate(dateTimeish);}else if(dateTimeish&&typeof dateTimeish==="object"){return DateTime.fromObject(dateTimeish);}else{throw new InvalidArgumentError("Unknown datetime argument: "+dateTimeish+", of type "+typeof dateTimeish);}}
exports.DateTime=DateTime;exports.Duration=Duration;exports.FixedOffsetZone=FixedOffsetZone;exports.IANAZone=IANAZone;exports.Info=Info;exports.Interval=Interval;exports.InvalidZone=InvalidZone;exports.LocalZone=LocalZone;exports.Settings=Settings;exports.Zone=Zone;return exports;}({}));;

/* /web/static/src/env.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/env',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");__exports.makeEnv=makeEnv;function makeEnv(){return{qweb:new owl.QWeb(),bus:new owl.core.EventBus(),services:{},debug:odoo.debug,_t:()=>{throw new Error("Translations are not ready yet. Maybe use _lt instead?");},get isSmall(){throw new Error("UI service not initialized!");},};}
const serviceRegistry=registry.category("services");const SERVICES_METADATA=__exports.SERVICES_METADATA={};__exports.startServices=startServices;async function startServices(env){const toStart=new Set();serviceRegistry.on("UPDATE",null,async(payload)=>{await Promise.resolve();const{operation,key:name,value:service}=payload;if(operation==="delete"){return;}
if(toStart.size){const namedService=Object.assign(Object.create(service),{name});toStart.add(namedService);}else{await _startServices(env,toStart);}});await Promise.resolve();await _startServices(env,toStart);}
async function _startServices(env,toStart){const services=env.services;for(const[name,service]of serviceRegistry.getEntries()){if(!(name in services)){const namedService=Object.assign(Object.create(service),{name});toStart.add(namedService);}}
async function start(){let service=null;const proms=[];while((service=findNext())){let name=service.name;toStart.delete(service);const entries=(service.dependencies||[]).map((dep)=>[dep,services[dep]]);const dependencies=Object.fromEntries(entries);let value;try{value=service.start(env,dependencies);}catch(e){value=e;console.error(e);}
if("async"in service){SERVICES_METADATA[name]=service.async;}
if(value instanceof Promise){proms.push(new Promise(async(resolve)=>{value.then((val)=>{services[name]=val||null;}).catch((error)=>{services[name]=error;console.error(error);}).finally(resolve);}));}else{services[service.name]=value||null;}}
await Promise.all(proms);if(proms.length){return start();}}
await start();if(toStart.size){const names=[...toStart].map((s)=>s.name);const missingDeps=new Set();[...toStart].forEach((s)=>s.dependencies.forEach((dep)=>{if(!(dep in services)&&!names.includes(dep)){missingDeps.add(dep);}}));const depNames=[...missingDeps].join(", ");throw new Error(`Some services could not be started: ${names}. Missing dependencies: ${depNames}`);}
function findNext(){for(let s of toStart){if(s.dependencies){if(s.dependencies.every((d)=>d in services)){return s;}}else{return s;}}
return null;}}
return __exports;});;

/* /web/static/src/core/assets.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/assets',async function(require){'use strict';let __exports={};const{useEnv,onWillStart}=owl.hooks;const{memoize}=require("@web/core/utils/functions");const{browser}=require("@web/core/browser/browser");class AssetsLoadingError extends Error{}
const loadJS=memoize(function loadJS(url){if(document.querySelector(`script[src="${url}"]`)){return Promise.resolve();}
const scriptEl=document.createElement("script");scriptEl.type="text/javascript";scriptEl.src=url;document.head.appendChild(scriptEl);return new Promise((resolve,reject)=>{scriptEl.addEventListener("load",resolve);scriptEl.addEventListener("error",()=>{reject(new AssetsLoadingError(`The loading of ${url} failed`));});});});const loadCSS=memoize(function loadCSS(url){if(document.querySelector(`link[href="${url}"]`)){return Promise.resolve();}
const linkEl=document.createElement("link");linkEl.type="text/css";linkEl.rel="stylesheet";linkEl.href=url;document.head.appendChild(linkEl);return new Promise(function(resolve,reject){linkEl.addEventListener("load",resolve);linkEl.addEventListener("error",()=>{reject(new AssetsLoadingError(`The loading of ${url} failed`));});});});const loadBundleTemplates=__exports.loadBundleTemplates=memoize(async function loadBundleTemplates(name){const bundleURL=new URL(`/web/webclient/qweb/${Date.now()}`,window.location.origin);bundleURL.searchParams.set("bundle",name);const templates=await(await browser.fetch(bundleURL.href)).text();return processTemplates(templates);});const bundlesCache={};async function loadBundle(name,options){const{templates}=options;if(!bundlesCache[name]){bundlesCache[name]={name};}
if(templates&&!bundlesCache[name].templates){bundlesCache[name].templates=loadBundleTemplates(name);}
const entries=await Promise.all(Object.keys(options).map(async(key)=>[key,await bundlesCache[name][key]]));return Object.fromEntries(entries);}
__exports.processTemplates=processTemplates;function processTemplates(templates){const doc=new DOMParser().parseFromString(templates,"text/xml");for(const template of[...doc.querySelector("templates").children]){if(template.hasAttribute("owl")){template.removeAttribute("owl");}else{template.remove();}}
return doc;}
const loadPublicAsset=__exports.loadPublicAsset=memoize(async function loadPublicAsset(xmlid,orm){const xml=await orm.call("ir.ui.view","render_public_asset",[xmlid]);const doc=new DOMParser().parseFromString(`<xml>${xml}</xml>`,"text/xml");return loadAssets({cssLibs:[...doc.querySelectorAll("link[href]")].map((node)=>node.getAttribute("href")),jsLibs:[...doc.querySelectorAll("script[src]")].map((node)=>node.getAttribute("src")),});});__exports.loadAssets=loadAssets;async function loadAssets(assets){const proms=[];const loadedAssets={};if("bundles"in assets){const bundles=Object.entries(assets.bundles);const bundlesProm=Promise.all(bundles.map(async([name,options])=>[name,await loadBundle(name,options)])).then((loadedBundles)=>{loadedAssets.bundles=Object.fromEntries(loadedBundles);});proms.push(bundlesProm);}
if("jsLibs"in assets){proms.push(Promise.all(assets.jsLibs.map(loadJS)));}
if("cssLibs"in assets){proms.push(Promise.all(assets.cssLibs.map(loadCSS)));}
await Promise.all(proms);return loadedAssets;}
__exports.useAssets=useAssets;function useAssets(assets){const env=useEnv();onWillStart(async()=>{const loadedAssets=await loadAssets(assets);const{bundles}=loadedAssets;if(bundles){const templateDocs=Object.values(bundles).map(({templates})=>templates);for(const xmlDoc of templateDocs){for(const template of[...xmlDoc.querySelector("templates").children]){if(template.getAttribute("t-name")in env.qweb.templates){template.remove();}}
env.qweb.addTemplates(xmlDoc);}}});}
return __exports;});;

/* /web/static/src/core/browser/browser.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/browser/browser',async function(require){'use strict';let __exports={};let sessionStorage=window.sessionStorage;let localStorage=owl.browser.localStorage;try{localStorage.setItem("__localStorage__","true");localStorage.removeItem("__localStorage__");}catch(e){localStorage=makeRAMLocalStorage();sessionStorage=makeRAMLocalStorage();}
const browser=__exports.browser=Object.assign({},owl.browser,{addEventListener:window.addEventListener.bind(window),removeEventListener:window.removeEventListener.bind(window),requestAnimationFrame:window.requestAnimationFrame.bind(window),cancelAnimationFrame:window.cancelAnimationFrame.bind(window),console:window.console,history:window.history,navigator:navigator,open:window.open.bind(window),XMLHttpRequest:window.XMLHttpRequest,localStorage,sessionStorage,});Object.defineProperty(browser,"location",{set(val){window.location=val;},get(){return window.location;},configurable:true,});__exports.makeRAMLocalStorage=makeRAMLocalStorage;function makeRAMLocalStorage(){let store={};return{setItem(key,value){store[key]=value;},getItem(key){return store[key];},clear(){store={};},removeItem(key){delete store[key];},get length(){return Object.keys(store).length;},key(){return"";},};}
return __exports;});;

/* /web/static/src/core/browser/cookie_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/browser/cookie_service',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const COOKIE_TTL=24*60*60*365;function parseCookieString(str){const cookie={};const parts=str.split("; ");for(let part of parts){const[key,value]=part.split("=");cookie[key]=value||"";}
return cookie;}
function cookieToString(key,value,ttl=COOKIE_TTL){let fullCookie=[];if(value!==undefined){fullCookie.push(`${key}=${value}`);}
fullCookie=fullCookie.concat(["path=/",`max-age=${ttl}`]);return fullCookie.join(";");}
function makeCookieService(){function getCurrent(){return parseCookieString(document.cookie);}
let cookie=getCurrent();function setCookie(key,value,ttl){document.cookie=cookieToString(key,value,ttl);cookie=getCurrent();}
return{get current(){return cookie;},setCookie,deleteCookie(key){setCookie(key,"kill",0);},};}
const cookieService=__exports.cookieService={start(){return makeCookieService();},};registry.category("services").add("cookie",cookieService);return __exports;});;

/* /web/static/src/core/browser/feature_detection.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/browser/feature_detection',async function(require){'use strict';let __exports={};const{browser}=require("@web/core/browser/browser");__exports.isBrowserChrome=isBrowserChrome;function isBrowserChrome(){return browser.navigator.userAgent.includes("Chrome");}
__exports.isAndroid=isAndroid;function isAndroid(){return/Android/i.test(browser.navigator.userAgent);}
__exports.isIOS=isIOS;function isIOS(){return/(iPad|iPhone|iPod)/i.test(browser.navigator.userAgent)||(browser.navigator.platform==='MacIntel'&&maxTouchPoints()>1);}
__exports.isOtherMobileOS=isOtherMobileOS;function isOtherMobileOS(){return/(webOS|BlackBerry|Windows Phone)/i.test(browser.navigator.userAgent);}
__exports.isMacOS=isMacOS;function isMacOS(){return Boolean(browser.navigator.userAgent.match(/Mac/i));}
__exports.isMobileOS=isMobileOS;function isMobileOS(){return isAndroid()||isIOS()||isOtherMobileOS();}
__exports.isIosApp=isIosApp;function isIosApp(){return/OdooMobile \(iOS\)/i.test(browser.navigator.userAgent);}
__exports.hasTouch=hasTouch;function hasTouch(){return"ontouchstart"in window||"onmsgesturechange"in window;}
__exports.maxTouchPoints=maxTouchPoints;function maxTouchPoints(){return browser.navigator.maxTouchPoints||1;}
return __exports;});;

/* /web/static/src/core/browser/router_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/browser/router_service',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{shallowEqual}=require("@web/core/utils/objects");const{objectToUrlEncodedString}=require("@web/core/utils/urls");const{browser}=require("@web/core/browser/browser");function cast(value){return!value||isNaN(value)?value:Number(value);}
function parseString(str){const parts=str.split("&");const result={};for(let part of parts){const[key,value]=part.split("=");const decoded=decodeURIComponent(value||"");result[key]=cast(decoded);}
return result;}
function applyLocking(lockedKeys,hash,currentHash,options={}){const newHash={};for(const key in hash){if("lock"in options){options.lock?lockedKeys.add(key):lockedKeys.delete(key);}else if(lockedKeys.has(key)){continue;}
newHash[key]=hash[key];}
for(const key in currentHash){if(lockedKeys.has(key)&&!(key in newHash)){newHash[key]=currentHash[key];}}
return newHash;}
function computeNewRoute(hash,replace,currentRoute){if(!replace){hash=Object.assign({},currentRoute.hash,hash);}
hash=sanitizeHash(hash);if(!shallowEqual(currentRoute.hash,hash)){return Object.assign({},currentRoute,{hash});}
return false;}
function sanitizeHash(hash){return Object.fromEntries(Object.entries(hash).filter(([,v])=>v!==undefined).map(([k,v])=>[k,cast(v)]));}
__exports.parseHash=parseHash;function parseHash(hash){return hash&&hash!=="#"?parseString(hash.slice(1)):{};}
__exports.parseSearchQuery=parseSearchQuery;function parseSearchQuery(search){return search?parseString(search.slice(1)):{};}
__exports.routeToUrl=routeToUrl;function routeToUrl(route){const search=objectToUrlEncodedString(route.search);const hash=objectToUrlEncodedString(route.hash);return route.pathname+(search?"?"+search:"")+(hash?"#"+hash:"");}
async function redirect(env,url,wait=false){if(wait){await new Promise((resolve)=>{const waitForServer=(delay)=>{browser.setTimeout(async()=>{env.services.rpc("/web/webclient/version_info",{}).then(resolve).catch(()=>waitForServer(250));},delay);};waitForServer(1000);});}
browser.location.assign(url);}
function getRoute(urlObj){const{pathname,search,hash}=urlObj;const searchQuery=parseSearchQuery(search);const hashQuery=parseHash(hash);return{pathname,search:searchQuery,hash:hashQuery};}
function makeRouter(env){const bus=env.bus;const lockedKeys=new Set();let current=getRoute(browser.location);let pushTimeout;browser.addEventListener("hashchange",(ev)=>{browser.clearTimeout(pushTimeout);const loc=new URL(ev.newURL);current=getRoute(loc);bus.trigger("ROUTE_CHANGE");});function makeDebouncedPush(mode){let allPushArgs=[];function doPush(){const replace=allPushArgs.some(([,options])=>options&&options.replace);const newHash=allPushArgs.reduce((finalHash,[hash,options])=>{hash=applyLocking(lockedKeys,hash,current.hash,options);if(finalHash){hash=applyLocking(lockedKeys,hash,finalHash,options);}
return Object.assign(finalHash||{},hash);},null);const newRoute=computeNewRoute(newHash,replace,current);if(!newRoute){return;}
const url=browser.location.origin+routeToUrl(newRoute);if(mode==="push"){browser.history.pushState({},"",url);}else{browser.history.replaceState({},"",url);}
current=getRoute(browser.location);}
return function pushOrReplaceState(hash,options){allPushArgs.push([hash,options]);browser.clearTimeout(pushTimeout);pushTimeout=browser.setTimeout(()=>{doPush();pushTimeout=null;allPushArgs=[];});};}
return{get current(){return current;},pushState:makeDebouncedPush("push"),replaceState:makeDebouncedPush("replace"),redirect:(url,wait)=>redirect(env,url,wait),cancelPushes:()=>browser.clearTimeout(pushTimeout),};}
const routerService=__exports.routerService={start(env){return makeRouter(env);},};__exports.objectToQuery=objectToQuery;function objectToQuery(obj){const query={};Object.entries(obj).forEach(([k,v])=>{query[k]=v?String(v):v;});return query;}
registry.category("services").add("router",routerService);return __exports;});;

/* /web/static/src/core/browser/title_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/browser/title_service',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const titleService=__exports.titleService={start(){const titleParts={};function getParts(){return Object.assign({},titleParts);}
function setParts(parts){for(const key in parts){const val=parts[key];if(!val){delete titleParts[key];}else{titleParts[key]=val;}}
document.title=Object.values(titleParts).join(" - ");}
return{get current(){return document.title;},getParts,setParts,};},};registry.category("services").add("title",titleService);return __exports;});;

/* /web/static/src/core/checkbox/checkbox.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/checkbox/checkbox',async function(require){'use strict';let __exports={};const{Component,QWeb}=owl;const CheckBox=__exports.CheckBox=class CheckBox extends Component{setup(){this.id=`checkbox-comp-${CheckBox.nextId++}`;}}
CheckBox.template="web.CheckBox";CheckBox.nextId=1;QWeb.registerComponent("CheckBox",CheckBox);return __exports;});;

/* /web/static/src/core/confirmation_dialog/confirmation_dialog.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/confirmation_dialog/confirmation_dialog',async function(require){'use strict';let __exports={};const{Dialog}=require("@web/core/dialog/dialog");const{_lt}=require("@web/core/l10n/translation");const ConfirmationDialog=__exports.ConfirmationDialog=class ConfirmationDialog extends Dialog{setup(){super.setup();this.title=this.props.title;}
_cancel(){if(this.props.cancel){this.props.cancel();}
this.close();}
_confirm(){if(this.props.confirm){this.props.confirm();}
this.close();}}
ConfirmationDialog.props={title:{validate:(m)=>{return(typeof m==="string"||(typeof m==="object"&&typeof m.toString==="function"));},},body:String,confirm:{type:Function,optional:true},cancel:{type:Function,optional:true},close:Function,};ConfirmationDialog.defaultProps={title:_lt("Confirmation"),};ConfirmationDialog.bodyTemplate="web.ConfirmationDialogBody";ConfirmationDialog.footerTemplate="web.ConfirmationDialogFooter";ConfirmationDialog.size="modal-md";const AlertDialog=__exports.AlertDialog=class AlertDialog extends ConfirmationDialog{setup(){super.setup();if("contentClass"in this.props){this.contentClass=this.props.contentClass;}}}
AlertDialog.size="modal-sm";AlertDialog.props=Object.assign(Object.create(ConfirmationDialog.props),{contentClass:{type:String,optional:true},});AlertDialog.defaultProps={title:_lt("Alert"),};return __exports;});;

/* /web/static/src/core/context.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/context',async function(require){'use strict';let __exports={};const{evaluateExpr}=require("@web/core/py_js/py");__exports.makeContext=makeContext;function makeContext(contexts,initialEvaluationContext){const evaluationContext=Object.assign({},initialEvaluationContext);const context={};for(let ctx of contexts){if(ctx!==""){ctx=typeof ctx==="string"?evaluateExpr(ctx,evaluationContext):ctx;Object.assign(context,ctx);Object.assign(evaluationContext,context);}}
return context;}
return __exports;});;

/* /web/static/src/core/datepicker/datepicker.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/datepicker/datepicker',async function(require){'use strict';let __exports={};const{localization}=require("@web/core/l10n/localization");const{registry}=require("@web/core/registry");const{useAutofocus}=require("@web/core/utils/hooks");const{Component,hooks}=owl;const{DateTime}=luxon;const{useExternalListener,useRef,useState}=hooks;const formatters=registry.category("formatters");const parsers=registry.category("parsers");let datePickerId=0;const luxonDateToMomentDate=(date)=>{return window.moment(String(date));};const luxonFormatToMomentFormat=(format)=>{return format.replace(/[dy]/g,(x)=>x.toUpperCase());};const DatePicker=__exports.DatePicker=class DatePicker extends Component{setup(){this.inputRef=useRef("input");this.state=useState({warning:false});this.datePickerId=`o_datepicker_${datePickerId++}`;this.initFormat();this.setDate(this.props);useAutofocus();useExternalListener(window,"scroll",this.onWindowScroll);}
mounted(){window.$(this.el).on("show.datetimepicker",()=>this.inputRef.el.select());window.$(this.el).on("hide.datetimepicker",()=>this.onDateChange());window.$(this.el).on("error.datetimepicker",()=>false);this.bootstrapDateTimePicker(this.props);this.updateInput();}
willUpdateProps(nextProps){const pickerParams={};for(const prop in nextProps){if(this.props[prop]!==nextProps[prop]){pickerParams[prop]=nextProps[prop];if(prop==="date"){this.setDate(nextProps);this.updateInput();}}}
this.bootstrapDateTimePicker(pickerParams);}
willUnmount(){window.$(this.el).off();this.bootstrapDateTimePicker("destroy");}
get options(){return{format:this.props.format,locale:this.props.locale||this.date.locale,timezone:this.isLocal,};}
initFormat(){this.defaultFormat=localization.dateFormat;this.format=formatters.get("date");this.parse=parsers.get("date");this.isLocal=false;}
setDate({date,locale}){this.date=locale?date.setLocale(locale):date;}
updateInput(){try{this.inputRef.el.value=this.format(this.date,this.options);}catch(err){}}
bootstrapDateTimePicker(commandOrParams){if(typeof commandOrParams==="object"){const format=luxonFormatToMomentFormat(this.props.format||this.defaultFormat);const params={...commandOrParams,format};if(!params.locale&&commandOrParams.date){params.locale=commandOrParams.date.locale;}
for(const prop in params){if(params[prop]instanceof DateTime){const luxonDate=params[prop];const momentDate=luxonDateToMomentDate(luxonDate);params[prop]=momentDate;}}
commandOrParams=params;}
window.$(this.el).datetimepicker(commandOrParams);}
onInputClick(){this.bootstrapDateTimePicker("toggle");}
onDateChange(){try{const date=this.parse(this.inputRef.el.value,this.options);if(!date.equals(this.props.date)){this.state.warning=date>DateTime.local();this.trigger("datetime-changed",{date});}}catch(err){this.updateInput();}}
onWindowScroll(ev){if(ev.target!==this.inputRef.el){this.bootstrapDateTimePicker("hide");}}}
DatePicker.defaultProps={calendarWeeks:true,icons:{clear:"fa fa-delete",close:"fa fa-check primary",date:"fa fa-calendar",down:"fa fa-chevron-down",next:"fa fa-chevron-right",previous:"fa fa-chevron-left",time:"fa fa-clock-o",today:"fa fa-calendar-check-o",up:"fa fa-chevron-up",},maxDate:DateTime.fromObject({year:9999,month:12,day:31}),minDate:DateTime.fromObject({year:1000}),useCurrent:false,widgetParent:"body",};DatePicker.props={date:DateTime,warn_future:{type:Boolean,optional:true},buttons:{type:Object,shape:{showClear:Boolean,showClose:Boolean,showToday:Boolean,},optional:true,},calendarWeeks:Boolean,format:{type:String,optional:true},icons:{type:Object,shape:{clear:String,close:String,date:String,down:String,next:String,previous:String,time:String,today:String,up:String,},},keyBinds:{validate:(kb)=>typeof kb==="object"||kb===null,optional:true},locale:{type:String,optional:true},maxDate:DateTime,minDate:DateTime,readonly:{type:Boolean,optional:true},useCurrent:Boolean,widgetParent:String,};DatePicker.template="web.DatePicker";const DateTimePicker=__exports.DateTimePicker=class DateTimePicker extends DatePicker{initFormat(){this.defaultFormat=localization.dateTimeFormat;this.format=formatters.get("datetime");this.parse=parsers.get("datetime");this.isLocal=true;}}
DateTimePicker.defaultProps={...DatePicker.defaultProps,buttons:{showClear:false,showClose:true,showToday:false,},};return __exports;});;

/* /web/static/src/core/debug/debug_context.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/debug/debug_context',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{memoize}=require("@web/core/utils/functions");const{useEffect}=require("@web/core/utils/hooks");const{useEnv,useSubEnv}=owl.hooks;const debugRegistry=registry.category("debug");const getAccessRights=memoize(async function getAccessRights(orm){const rightsToCheck={"ir.ui.view":"write","ir.rule":"read","ir.model.access":"read",};const proms=Object.entries(rightsToCheck).map(([model,operation])=>{return orm.call(model,"check_access_rights",[],{operation,raise_exception:false,});});const[canEditView,canSeeRecordRules,canSeeModelAccess]=await Promise.all(proms);const accessRights={canEditView,canSeeRecordRules,canSeeModelAccess};return accessRights;});class DebugContext{constructor(env,defaultCategories){this.orm=env.services.orm;this.categories=new Map(defaultCategories.map((cat)=>[cat,[{}]]));}
activateCategory(category,context){const contexts=this.categories.get(category)||new Set();contexts.add(context);this.categories.set(category,contexts);return()=>{contexts.delete(context);if(contexts.size===0){this.categories.delete(category);}};}
async getItems(env){const accessRights=await getAccessRights(this.orm);return[...this.categories.entries()].flatMap(([category,contexts])=>{return debugRegistry.category(category).getAll().map((factory)=>factory(Object.assign({env,accessRights},...contexts)));}).filter(Boolean).sort((x,y)=>{const xSeq=x.sequence||1000;const ySeq=y.sequence||1000;return xSeq-ySeq;});}}
const debugContextSymbol=Symbol("debugContext");__exports.createDebugContext=createDebugContext;function createDebugContext(env,{categories=[]}={}){return{[debugContextSymbol]:new DebugContext(env,categories)};}
__exports.useOwnDebugContext=useOwnDebugContext;function useOwnDebugContext({categories=[]}={}){useSubEnv(createDebugContext(useEnv(),{categories}));}
__exports.useEnvDebugContext=useEnvDebugContext;function useEnvDebugContext(){const debugContext=useEnv()[debugContextSymbol];if(!debugContext){throw new Error("There is no debug context available in the current environment.");}
return debugContext;}
__exports.useDebugCategory=useDebugCategory;function useDebugCategory(category,context={}){const env=useEnv();if(env.debug){const debugContext=useEnvDebugContext();useEffect(()=>debugContext.activateCategory(category,context),()=>[]);}}
return __exports;});;

/* /web/static/src/core/debug/debug_menu_basic.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/debug/debug_menu_basic',async function(require){'use strict';let __exports={};const{useEnvDebugContext}=require("@web/core/debug/debug_context");const{Component}=owl;const DebugMenuBasic=__exports.DebugMenuBasic=class DebugMenuBasic extends Component{setup(){const debugContext=useEnvDebugContext();this.getElements=async()=>{this.elements=await debugContext.getItems(this.env);};}}
DebugMenuBasic.template="web.DebugMenu";return __exports;});;

/* /web/static/src/core/debug/debug_menu_items.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/debug/debug_menu_items',async function(require){'use strict';let __exports={};const{browser}=require("@web/core/browser/browser");const{routeToUrl}=require("@web/core/browser/router_service");const{registry}=require("@web/core/registry");function activateAssetsDebugging({env}){return{type:"item",description:env._t("Activate Assets Debugging"),callback:()=>{browser.location.search="?debug=assets";},sequence:410,};}
function activateTestsAssetsDebugging({env}){return{type:"item",description:env._t("Activate Tests Assets Debugging"),callback:()=>{browser.location.search="?debug=assets,tests";},sequence:420,};}
__exports.regenerateAssets=regenerateAssets;function regenerateAssets({env}){return{type:"item",description:env._t("Regenerate Assets Bundles"),callback:async()=>{const domain=["&",["res_model","=","ir.ui.view"],"|",["name","=like","%.assets_%.css"],["name","=like","%.assets_%.js"],];const ids=await env.services.orm.search("ir.attachment",domain);await env.services.orm.unlink("ir.attachment",ids);browser.location.reload();},sequence:430,};}
function becomeSuperuser({env}){const becomeSuperuserURL=browser.location.origin+"/web/become";return{type:"item",description:env._t("Become Superuser"),hide:!env.services.user.isAdmin,href:becomeSuperuserURL,callback:()=>{browser.open(becomeSuperuserURL,"_self");},sequence:440,};}
function leaveDebugMode({env}){return{type:"item",description:env._t("Leave the Developer Tools"),callback:()=>{const route=env.services.router.current;route.search.debug="";browser.location.href=browser.location.origin+routeToUrl(route);},sequence:450,};}
registry.category("debug").category("default").add("activateAssetsDebugging",activateAssetsDebugging).add("regenerateAssets",regenerateAssets).add("becomeSuperuser",becomeSuperuser).add("leaveDebugMode",leaveDebugMode).add("activateTestsAssetsDebugging",activateTestsAssetsDebugging);return __exports;});;

/* /web/static/src/core/debug/debug_providers.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/debug/debug_providers',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{browser}=require("@web/core/browser/browser");const{routeToUrl}=require("@web/core/browser/router_service");const commandProviderRegistry=registry.category("command_provider");commandProviderRegistry.add("debug",{provide:(env,options)=>{const result=[];if(env.debug){result.push({action(){const route=env.services.router.current;route.search.debug="";browser.location.href=browser.location.origin+routeToUrl(route);},category:"debug",name:env._t("Deactivate debug mode"),});}else{if(options.searchValue.toLowerCase()==="debug"){result.push({action(){browser.location.search="?debug=assets";},category:"debug",name:env._t("Activate debug mode"),});}}
return result;},});return __exports;});;

/* /web/static/src/core/debug/debug_utils.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/debug/debug_utils',async function(require){'use strict';let __exports={};__exports.editModelDebug=editModelDebug;function editModelDebug(env,title,model,id){return env.services.action.doAction({res_model:model,res_id:id,name:title,type:"ir.actions.act_window",views:[[false,"form"]],view_mode:"form",target:"new",flags:{action_buttons:true,headless:true},});}
return __exports;});;

/* /web/static/src/core/debug/profiling/profiling_item.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/debug/profiling/profiling_item',async function(require){'use strict';let __exports={};const{DropdownItem}=require("@web/core/dropdown/dropdown_item");const{useBus,useService}=require("@web/core/utils/hooks");const{Component}=owl;const ProfilingItem=__exports.ProfilingItem=class ProfilingItem extends Component{setup(){this.profiling=useService("profiling");useBus(this.props.bus,"UPDATE",this.render);}
changeParam(param,ev){this.profiling.setParam(param,ev.target.value);}
toggleParam(param,ev){const value=this.profiling.state.params.execution_context_qweb;this.profiling.setParam(param,!value);}
openProfiles(){if(this.env.services.action){this.env.services.action.doAction("base.action_menu_ir_profile");}else{window.location="/web/#action=base.action_menu_ir_profile";}}}
ProfilingItem.components={DropdownItem};ProfilingItem.template="web.DebugMenu.ProfilingItem";return __exports;});;

/* /web/static/src/core/debug/profiling/profiling_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/debug/profiling/profiling_service',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{ProfilingItem}=require("@web/core/debug/profiling/profiling_item");const{session}=require("@web/session");const{core}=owl;const profilingService={dependencies:["orm"],start(env,{orm}){const state={session:session.profile_session||false,collectors:session.profile_collectors||["sql","traces_async"],params:session.profile_params||{},get isEnabled(){return Boolean(state.session);},};const bus=new core.EventBus();let recordingIcon=null;function updateDebugIcon(){const debugItem=document.querySelector(".o_main_navbar .o_debug_manager .fa-bug");if(state.isEnabled){recordingIcon=document.createElement("span");recordingIcon.classList.add("o_recording","text-danger","fa","fa-circle");debugItem.appendChild(recordingIcon);}else if(recordingIcon){debugItem.removeChild(recordingIcon);recordingIcon=null;}}
if(env.debug){env.bus.on("WEB_CLIENT_READY",null,updateDebugIcon);}
async function setProfiling(params){const kwargs=Object.assign({collectors:state.collectors,params:state.params,profile:state.isEnabled,},params);const resp=await orm.call("ir.profile","set_profiling",[],kwargs);if(resp.type){env.services.action.doAction(resp);}else{state.session=resp.session;state.collectors=resp.collectors;state.params=resp.params;bus.trigger("UPDATE");updateDebugIcon();}}
function profilingSeparator(){return{type:"separator",sequence:500,};}
function profilingItem(){return{type:"component",Component:ProfilingItem,props:{bus},sequence:510,};}
registry.category("debug").category("default").add("profilingSeparator",profilingSeparator).add("profilingItem",profilingItem);return{state,async toggleProfiling(){await setProfiling({profile:!state.isEnabled});},async toggleCollector(collector){let nextCollectors=state.collectors.slice();const index=nextCollectors.indexOf(collector);if(index>=0){nextCollectors.splice(index,1);}else{nextCollectors.push(collector);}
await setProfiling({collectors:nextCollectors});},async setParam(key,value){const nextParams=Object.assign({},state.params);nextParams[key]=value;await setProfiling({params:nextParams});},isCollectorEnabled(collector){return state.collectors.includes(collector);},};},};registry.category("services").add("profiling",profilingService);return __exports;});;

/* /web/static/src/core/dialog/dialog.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/dialog/dialog',async function(require){'use strict';let __exports={};const{useHotkey}=require("@web/core/hotkeys/hotkey_hook");const{useActiveElement}=require("@web/core/ui/ui_service");const{Component,hooks}=owl;const{useRef,useSubEnv}=hooks;const Dialog=__exports.Dialog=class Dialog extends Component{setup(){if(this.constructor===Dialog){throw new Error("Dialog should not be used by itself. Please use the dialog service with a Dialog subclass.");}
this.modalRef=useRef("modal");useActiveElement("modal");useHotkey("escape",()=>{this.close();});useSubEnv({inDialog:true});this.close=this.close.bind(this);this.contentClass=this.constructor.contentClass;this.fullscreen=this.constructor.fullscreen;this.renderFooter=this.constructor.renderFooter;this.renderHeader=this.constructor.renderHeader;this.size=this.constructor.size;this.technical=this.constructor.technical;this.title=this.constructor.title;}
close(){this.props.close();}}
Dialog.template="web.Dialog";Dialog.contentClass=null;Dialog.fullscreen=false;Dialog.renderFooter=true;Dialog.renderHeader=true;Dialog.size="modal-lg";Dialog.technical=true;Dialog.title="Odoo";Dialog.bodyTemplate=owl.tags.xml`<div/>`;Dialog.footerTemplate="web.DialogFooterDefault";return __exports;});;

/* /web/static/src/core/dialog/dialog_container.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/dialog/dialog_container',async function(require){'use strict';let __exports={};const{ErrorHandler,NotUpdatable}=require("@web/core/utils/components");const{Component,tags}=owl;const DialogContainer=__exports.DialogContainer=class DialogContainer extends Component{setup(){this.props.bus.on("UPDATE",this,this.render);}
close(id){if(this.props.dialogs[id]){this.props.dialogs[id].props.close();}}
handleError(error,dialogId){this.close(dialogId);Promise.resolve().then(()=>{throw error;});}}
DialogContainer.components={ErrorHandler,NotUpdatable};DialogContainer.template=tags.xml`
    <div class="o_dialog_container" t-att-class="{'modal-open': Object.keys(props.dialogs).length > 0}">
      <t t-foreach="Object.values(props.dialogs)" t-as="dialog" t-key="dialog.id">
        <NotUpdatable>
            <ErrorHandler onError="(error) => handleError(error, dialog.id)">
                <t t-component="dialog.class" t-props="dialog.props"
                    t-on-dialog-closed="dialog.props.close()" 
                    t-att-class="{o_inactive_modal: !dialog_last}"/>
            </ErrorHandler>
        </NotUpdatable>
      </t>
    </div>
    `;return __exports;});;

/* /web/static/src/core/dialog/dialog_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/dialog/dialog_service',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{Dialog}=require("@web/core/dialog/dialog");const{DialogContainer}=require("@web/core/dialog/dialog_container");const{core}=owl;const{EventBus}=core;const dialogService=__exports.dialogService={start(){const dialogs={};const bus=new EventBus();let dialogId=0;registry.category("main_components").add("DialogContainer",{Component:DialogContainer,props:{bus,dialogs},});function add(dialogClass,props,options={}){if(!(dialogClass.prototype instanceof Dialog)){throw new Error(`${dialogClass.name} must be a subclass of Dialog`);}
const id=++dialogId;function close(){if(dialogs[id]){delete dialogs[id];if(options.onClose){options.onClose();}
bus.trigger("UPDATE");}}
const dialog={id,class:dialogClass,props:{...props,close},};dialogs[id]=dialog;bus.trigger("UPDATE");return close;}
return{add};},};registry.category("services").add("dialog",dialogService);return __exports;});;

/* /web/static/src/core/domain.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/domain',async function(require){'use strict';let __exports={};const{evaluate,formatAST,parseExpr}=require("@web/core/py_js/py");const{toPyValue}=require("@web/core/py_js/py_utils");class InvalidDomainError extends Error{}
const Domain=__exports.Domain=class Domain{static combine(domains,operator){if(domains.length===0){return new Domain([]);}
const domain1=domains[0]instanceof Domain?domains[0]:new Domain(domains[0]);if(domains.length===1){return domain1;}
const domain2=Domain.combine(domains.slice(1),operator);const result=new Domain([]);const astValues1=domain1.ast.value;const astValues2=domain2.ast.value;const op=operator==="AND"?"&":"|";const combinedAST={type:4,value:astValues1.concat(astValues2)};result.ast=normalizeDomainAST(combinedAST,op);return result;}
static and(domains){return Domain.combine(domains,"AND");}
static or(domains){return Domain.combine(domains,"OR");}
static not(domain){const result=new Domain(domain);result.ast.value.unshift({type:1,value:"!"});return result;}
constructor(descr=[]){if(descr instanceof Domain){return new Domain(descr.toString());}else{const rawAST=typeof descr==="string"?parseExpr(descr):toAST(descr);this.ast=normalizeDomainAST(rawAST);}}
contains(record){const expr=evaluate(this.ast,record);return matchDomain(record,expr);}
toString(){return formatAST(this.ast);}
toList(context){return evaluate(this.ast,context);}}
const TRUE_LEAF=[1,"=",1];const FALSE_LEAF=[0,"=",1];const TRUE_DOMAIN=new Domain([TRUE_LEAF]);const FALSE_DOMAIN=new Domain([FALSE_LEAF]);Domain.TRUE=TRUE_DOMAIN;Domain.FALSE=FALSE_DOMAIN;function toAST(domain){const elems=domain.map((elem)=>{switch(elem){case"!":case"&":case"|":return{type:1,value:elem};default:return{type:10,value:elem.map(toPyValue),};}});return{type:4,value:elems};}
function normalizeDomainAST(domain,op="&"){if(domain.type!==4){throw new InvalidDomainError("Invalid domain AST");}
if(domain.value.length===0){return domain;}
let expected=1;for(let child of domain.value){if(child.type===1&&(child.value==="&"||child.value==="|")){expected++;}else if(child.type!==1||child.value!=="!"){expected--;}}
let values=domain.value.slice();while(expected<0){expected++;values.unshift({type:1,value:op});}
if(expected>0){throw new InvalidDomainError(`invalid domain ${formatAST(domain)} (missing ${expected} segment(s))`);}
return{type:4,value:values};}
function matchCondition(record,condition){if(typeof condition==="boolean"){return condition;}
const[field,operator,value]=condition;const fieldValue=typeof field==="number"?field:record[field];switch(operator){case"=":case"==":return fieldValue===value;case"!=":case"<>":return fieldValue!==value;case"<":return fieldValue<value;case"<=":return fieldValue<=value;case">":return fieldValue>value;case">=":return fieldValue>=value;case"in":{const val=Array.isArray(value)?value:[value];const fieldVal=Array.isArray(fieldValue)?fieldValue:[fieldValue];return fieldVal.some((fv)=>val.includes(fv));}
case"not in":{const val=Array.isArray(value)?value:[value];const fieldVal=Array.isArray(fieldValue)?fieldValue:[fieldValue];return!fieldVal.some((fv)=>val.includes(fv));}
case"like":if(fieldValue===false){return false;}
return fieldValue.indexOf(value)>=0;case"=like":if(fieldValue===false){return false;}
return new RegExp(value.replace(/%/g,".*")).test(fieldValue);case"ilike":if(fieldValue===false){return false;}
return fieldValue.toLowerCase().indexOf(value.toLowerCase())>=0;case"=ilike":if(fieldValue===false){return false;}
return new RegExp(value.replace(/%/g,".*"),"i").test(fieldValue);}
throw new InvalidDomainError("could not match domain");}
function makeOperators(record){const match=matchCondition.bind(null,record);return{"!":(x)=>!match(x),"&":(a,b)=>match(a)&&match(b),"|":(a,b)=>match(a)||match(b),};}
function matchDomain(record,domain){if(domain.length===0){return true;}
const operators=makeOperators(record);const reversedDomain=Array.from(domain).reverse();const condStack=[];for(const item of reversedDomain){if(item in operators){const operator=operators[item];const operands=condStack.splice(-operator.length);condStack.push(operator(...operands));}else{condStack.push(item);}}
return matchCondition(record,condStack.pop());}
return __exports;});;

/* /web/static/src/core/dropdown/dropdown.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/dropdown/dropdown',async function(require){'use strict';let __exports={};const{useBus,useEffect,useService}=require("@web/core/utils/hooks");const{usePosition}=require("@web/core/position/position_hook");const{useDropdownNavigation}=require("@web/core/dropdown/dropdown_navigation_hook");const{ParentClosingMode}=require("@web/core/dropdown/dropdown_item");const{localization}=require("@web/core/l10n/localization");const{Component,core,hooks,useState,QWeb}=owl;const{EventBus}=core;const{onWillStart,useExternalListener,useRef,useSubEnv}=hooks;const DIRECTION_CARET_CLASS={bottom:"dropdown",top:"dropup",left:"dropleft",right:"dropright",};const Dropdown=__exports.Dropdown=class Dropdown extends Component{setup(){this.state=useState({open:this.props.startOpen,groupIsOpen:this.props.startOpen,});onWillStart(()=>{if(this.state.open&&this.props.beforeOpen){return this.props.beforeOpen();}});if(!this.props.manualOnly){useExternalListener(window,"click",this.onWindowClicked);useBus(Dropdown.bus,"state-changed",this.onDropdownStateChanged);}
this.ui=useService("ui");useEffect(()=>{Promise.resolve().then(()=>{this.myActiveEl=this.ui.activeElement;});},()=>[]);this.hasParentDropdown=this.env.inDropdown;useSubEnv({inDropdown:true});useDropdownNavigation();let position=this.props.position||(this.hasParentDropdown?"right-start":"bottom-start");let[direction,variant="middle"]=position.split("-");if(localization.direction==="rtl"){if(["bottom","top"].includes(direction)){variant=variant==="start"?"end":"start";}else{direction=direction==="left"?"right":"left";}
position=[direction,variant].join("-");}
const positioningOptions={popper:"menuRef",position,};this.directionCaretClass=DIRECTION_CARET_CLASS[direction];this.togglerRef=useRef("togglerRef");if(this.props.toggler==="parent"){useEffect(()=>{const onClick=(ev)=>{if(this.el.contains(ev.target)){return;}
this.toggle();};this.el.parentElement.addEventListener("click",onClick);return()=>{this.el.parentElement.removeEventListener("click",onClick);};},()=>[]);usePosition(()=>this.el.parentElement,positioningOptions);}else{const togglerRef=useRef("togglerRef");usePosition(()=>togglerRef.el,positioningOptions);}}
async changeStateAndNotify(stateSlice){if(stateSlice.open&&this.props.beforeOpen){await this.props.beforeOpen();}
Object.assign(this.state,stateSlice);const stateChangedPayload={emitter:this,newState:{...this.state},};Dropdown.bus.trigger("state-changed",stateChangedPayload);}
close(){return this.changeStateAndNotify({open:false,groupIsOpen:false});}
open(){return this.changeStateAndNotify({open:true,groupIsOpen:true});}
toggle(){const toggled=!this.state.open;return this.changeStateAndNotify({open:toggled,groupIsOpen:toggled});}
onItemSelected(ev){const{dropdownClosingRequest}=ev.detail;const closeAll=dropdownClosingRequest.mode===ParentClosingMode.AllParents;const closeSelf=dropdownClosingRequest.isFresh&&dropdownClosingRequest.mode===ParentClosingMode.ClosestParent;if(!this.props.manualOnly&&(closeAll||closeSelf)){this.close();}
ev.detail.dropdownClosingRequest.isFresh=false;}
onDropdownStateChanged(args){if(this.el.contains(args.emitter.el)){return;}
if(args.emitter.el.parentElement===this.el.parentElement){this.state.groupIsOpen=args.newState.groupIsOpen;if(this.state.open&&args.newState.open){this.state.open=false;}}else{if(this.state.open&&args.newState.open){this.close();}}}
onTogglerClick(){this.toggle();}
onTogglerMouseEnter(){if(this.state.groupIsOpen&&!this.state.open){this.open();}}
onWindowClicked(ev){if(!this.state.open){return;}
if(this.ui.activeElement!==this.myActiveEl){return;}
const rootEl=this.props.toggler==="parent"?this.el.parentElement:this.el;const gotClickedInside=rootEl.contains(ev.target);if(!gotClickedInside){this.close();}}}
Dropdown.bus=new EventBus();Dropdown.props={toggler:{type:String,optional:true,validate:(prop)=>["parent"].includes(prop),},startOpen:{type:Boolean,optional:true,},manualOnly:{type:Boolean,optional:true,},menuClass:{type:String,optional:true,},beforeOpen:{type:Function,optional:true,},togglerClass:{type:String,optional:true,},hotkey:{type:String,optional:true,},title:{type:String,optional:true,},position:{type:String,optional:true,},};Dropdown.template="web.Dropdown";QWeb.registerComponent("Dropdown",Dropdown);return __exports;});;

/* /web/static/src/core/dropdown/dropdown_item.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/dropdown/dropdown_item',async function(require){'use strict';let __exports={};const{Component,QWeb}=owl;const ParentClosingMode=__exports.ParentClosingMode={None:"none",ClosestParent:"closest",AllParents:"all",};const DropdownItem=__exports.DropdownItem=class DropdownItem extends Component{onClick(ev){if(this.props.href){ev.preventDefault();}
const detail={payload:this.props.payload,dropdownClosingRequest:{isFresh:true,mode:this.props.parentClosingMode,},};this.trigger("dropdown-item-selected",detail);}}
DropdownItem.template="web.DropdownItem";DropdownItem.props={payload:{type:Object,optional:true,},parentClosingMode:{type:ParentClosingMode,optional:true,},hotkey:{type:String,optional:true,},href:{type:String,optional:true,},title:{type:String,optional:true,},};DropdownItem.defaultProps={parentClosingMode:ParentClosingMode.AllParents,};QWeb.registerComponent("DropdownItem",DropdownItem);return __exports;});;

/* /web/static/src/core/dropdown/dropdown_navigation_hook.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/dropdown/dropdown_navigation_hook',async function(require){'use strict';let __exports={};const{useEffect,useService}=require("@web/core/utils/hooks");const{browser}=require("@web/core/browser/browser");const{localization}=require("@web/core/l10n/localization");const{scrollTo}=require("@web/core/utils/scrolling");const{hooks}=owl;const{useComponent,useRef}=hooks;const ACTIVE_MENU_ELEMENT_CLASS="focus";const MENU_ELEMENTS_SELECTORS=[":scope > .dropdown-item",":scope > .dropdown"];const NEXT_ACTIVE_INDEX_FNS={FIRST:()=>0,LAST:(list)=>list.length-1,NEXT:(list,prevActiveIndex)=>(prevActiveIndex+1)%list.length,PREV:(list,prevActiveIndex)=>(prevActiveIndex<=0?list.length:prevActiveIndex)-1,};__exports.useDropdownNavigation=useDropdownNavigation;function useDropdownNavigation(){const comp=useComponent();if(comp.hasParentDropdown&&comp.props.toggler==="parent"){throw new Error("A nested Dropdown must use its standard toggler");}
const originalOnTogglerClick=comp.onTogglerClick.bind(comp);comp.onTogglerClick=(ev)=>{if(comp.hasParentDropdown&&!ev.__fromDropdownNavigation){return;}
originalOnTogglerClick();};const originalOnTogglerMouseEnter=comp.onTogglerMouseEnter.bind(comp);comp.onTogglerMouseEnter=()=>{if(comp.hasParentDropdown){return;}
originalOnTogglerMouseEnter();};let mouseSelectionActive=true;const menuRef=useRef("menuRef");let menuElements=[];useEffect(()=>{if(!comp.state.open){return;}
const addedListeners=[];const queryResult=menuRef.el.querySelectorAll(MENU_ELEMENTS_SELECTORS.join());for(const el of queryResult){const isSubDropdown=el.classList.contains("dropdown");const isSubDropdownOpen=()=>el.classList.contains("show");const navTarget=isSubDropdown?el.querySelector(":scope > .dropdown-toggle"):el;let subDropdownTimeout;const closeSubDropdown=()=>{browser.clearTimeout(subDropdownTimeout);subDropdownTimeout=browser.setTimeout(()=>{if(isSubDropdownOpen()){const ev=new MouseEvent("click",{bubbles:false});ev.__fromDropdownNavigation=true;navTarget.dispatchEvent(ev);}},200);};const openSubDropdown=(immediate=false)=>{browser.clearTimeout(subDropdownTimeout);subDropdownTimeout=browser.setTimeout(()=>{if(!isSubDropdownOpen()){const ev=new MouseEvent("click",{bubbles:false});ev.__fromDropdownNavigation=true;navTarget.dispatchEvent(ev);}},immediate?0:200);};const makeOnlyActive=()=>{for(const menuElement of menuElements){if(menuElement.el===el){continue;}
menuElement.navTarget.classList.remove(ACTIVE_MENU_ELEMENT_CLASS);if(menuElement.isSubDropdown){menuElement.closeSubDropdown();}}
navTarget.classList.add(ACTIVE_MENU_ELEMENT_CLASS);};const menuElement={el,get isActive(){return navTarget.classList.contains(ACTIVE_MENU_ELEMENT_CLASS);},makeOnlyActive,navTarget,get isSubDropdownOpen(){return isSubDropdownOpen();},isSubDropdown,closeSubDropdown,openSubDropdown,};menuElements.push(menuElement);const elementListeners={mouseenter:()=>{if(!mouseSelectionActive){mouseSelectionActive=true;}else{makeOnlyActive();if(isSubDropdown){openSubDropdown();}}},};for(const[eventType,listener]of Object.entries(elementListeners)){navTarget.addEventListener(eventType,listener);}
addedListeners.push([navTarget,elementListeners]);}
return()=>{menuElements=[];mouseSelectionActive=true;for(const[navTarget,listeners]of addedListeners){for(const[eventType,listener]of Object.entries(listeners)){navTarget.removeEventListener(eventType,listener);}}};});const getActiveMenuElement=()=>{return menuElements.find((menuElement)=>menuElement.isActive);};const setActiveMenuElement=(menuElement)=>{if(menuElements.length){if(typeof menuElement==="string"){const prevIndex=menuElements.indexOf(getActiveMenuElement());const nextIndex=NEXT_ACTIVE_INDEX_FNS[menuElement](menuElements,prevIndex);menuElement=menuElements[nextIndex];}
menuElement.makeOnlyActive();scrollTo(menuElement.el,{scrollable:menuElement.el.parentElement});}};useEffect((open)=>{if(open&&comp.hasParentDropdown){setActiveMenuElement("FIRST");}},()=>[comp.state.open]);const hotkeyService=useService("hotkey");const closeSubDropdown=comp.hasParentDropdown?comp.close:()=>{};const openSubDropdown=()=>{const menuElement=getActiveMenuElement();if(menuElement&&menuElement.isSubDropdown){menuElement.openSubDropdown(true);}};const selectActiveMenuElement=()=>{const menuElement=getActiveMenuElement();if(menuElement){if(menuElement.isSubDropdown){menuElement.openSubDropdown(true);}else{menuElement.navTarget.click();}}};let hotkeyRemoves=[];const hotkeyCallbacks={home:()=>setActiveMenuElement("FIRST"),end:()=>setActiveMenuElement("LAST"),tab:()=>setActiveMenuElement("NEXT"),"shift+tab":()=>setActiveMenuElement("PREV"),arrowdown:()=>setActiveMenuElement("NEXT"),arrowup:()=>setActiveMenuElement("PREV"),arrowleft:localization.direction==="rtl"?openSubDropdown:closeSubDropdown,arrowright:localization.direction==="rtl"?closeSubDropdown:openSubDropdown,enter:selectActiveMenuElement,escape:comp.close,};useEffect((open)=>{if(!open){return;}
for(const[hotkey,callback]of Object.entries(hotkeyCallbacks)){const callbackWrapper=()=>{const hasOpenedSubDropdown=menuElements.some((m)=>m.isSubDropdownOpen);if(!hasOpenedSubDropdown){mouseSelectionActive=false;callback.call(comp);}};hotkeyRemoves.push(hotkeyService.add(hotkey,callbackWrapper,{allowRepeat:true}));}
return()=>{for(const removeHotkey of hotkeyRemoves){removeHotkey();}
hotkeyRemoves=[];};},()=>[comp.state.open]);}
return __exports;});;

/* /web/static/src/core/effects/effect_container.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/effects/effect_container',async function(require){'use strict';let __exports={};const{Component,tags}=owl;const EffectContainer=__exports.EffectContainer=class EffectContainer extends Component{setup(){this.effect=null;this.props.bus.on("UPDATE",this,(effect)=>{this.effect=effect;this.render();});}
removeEffect(){this.effect=null;this.render();}}
EffectContainer.template=tags.xml`
  <div class="o_effects_manager">
    <t t-if="effect">
        <t t-component="effect.Component" t-props="effect.props" t-key="effect.id" close="() => removeEffect()"/>
    </t>
  </div>`;return __exports;});;

/* /web/static/src/core/effects/effect_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/effects/effect_service',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{EffectContainer}=require("@web/core/effects/effect_container");const{RainbowMan}=require("@web/core/effects/rainbow_man");const{EventBus}=owl.core;const effectRegistry=registry.category("effects");function rainbowMan(env,params={}){let message=params.message;if(message instanceof jQuery){console.log("Providing a jQuery element to an effect is deprecated. Note that all event handlers will be lost.");message=message.html();}else if(message instanceof Element){console.log("Providing an HTML element to an effect is deprecated. Note that all event handlers will be lost.");message=message.outerHTML;}else if(!message){message=env._t("well Done!");}
if(env.services.user.showEffect){return{Component:params.Component||RainbowMan,props:{imgUrl:params.img_url||"/web/static/img/smile.svg",fadeout:params.fadeout,message,messageIsHtml:params.messageIsHtml||false,...params.props,},};}
env.services.notification.add(message);}
effectRegistry.add("rainbow_man",rainbowMan);const effectService=__exports.effectService={start(env){const bus=new EventBus();registry.category("main_components").add("EffectContainer",{Component:EffectContainer,props:{bus},});let effectId=0;function add(params){const type=params.type||"rainbow_man";const effect=effectRegistry.get(type);const{Component,props}=effect(env,params)||{};if(Component){bus.trigger("UPDATE",{Component,props,id:effectId++});}}
return{add};},};registry.category("services").add("effect",effectService);return __exports;});;

/* /web/static/src/core/effects/rainbow_man.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/effects/rainbow_man',async function(require){'use strict';let __exports={};const{browser}=require("@web/core/browser/browser");const{useEffect}=require("@web/core/utils/hooks");const{Component,hooks}=owl;const RainbowMan=__exports.RainbowMan=class RainbowMan extends Component{setup(){hooks.useExternalListener(document.body,"click",this.closeRainbowMan);const fadeout="fadeout"in this.props?this.props.fadeout:"medium";const delay=fadeout?RainbowMan.rainbowFadeouts[fadeout]:false;this.delay=typeof delay==="number"?delay:false;if(this.delay!==false){useEffect(()=>{const timeout=browser.setTimeout(()=>{this.el.classList.add("o_reward_fading");},this.delay);return()=>browser.clearTimeout(timeout);},()=>[]);}}
onAnimationEnd(ev){if(this.delay!==false&&ev.animationName==="reward-fading-reverse"){ev.stopPropagation();this.closeRainbowMan();}}
closeRainbowMan(){this.props.close();}}
RainbowMan.template="web.RainbowMan";RainbowMan.rainbowFadeouts={slow:4500,medium:3500,fast:2000,no:false};return __exports;});;

/* /web/static/src/core/errors/error_dialogs.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/errors/error_dialogs',async function(require){'use strict';let __exports={};const{browser}=require("@web/core/browser/browser");const{Dialog}=require("@web/core/dialog/dialog");const{_lt}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");const{useService}=require("@web/core/utils/hooks");const{capitalize}=require("@web/core/utils/strings");const{hooks}=owl;const{useState}=hooks;const odooExceptionTitleMap=__exports.odooExceptionTitleMap=new Map(Object.entries({"odoo.addons.base.models.ir_mail_server.MailDeliveryException":_lt("MailDeliveryException"),"odoo.exceptions.AccessDenied":_lt("Access Denied"),"odoo.exceptions.MissingError":_lt("Missing Record"),"odoo.exceptions.UserError":_lt("User Error"),"odoo.exceptions.ValidationError":_lt("Validation Error"),"odoo.exceptions.AccessError":_lt("Access Error"),"odoo.exceptions.Warning":_lt("Warning"),}));const ErrorDialog=__exports.ErrorDialog=class ErrorDialog extends Dialog{setup(){super.setup();this.state=useState({showTraceback:false,});}
onClickClipboard(){browser.navigator.clipboard.writeText(`${this.props.name}\n${this.props.message}\n${this.props.traceback}`);}}
ErrorDialog.contentClass="o_dialog_error";ErrorDialog.bodyTemplate="web.ErrorDialogBody";ErrorDialog.title=_lt("Odoo Error");const ClientErrorDialog=__exports.ClientErrorDialog=class ClientErrorDialog extends ErrorDialog{}
ClientErrorDialog.title=_lt("Odoo Client Error");const NetworkErrorDialog=__exports.NetworkErrorDialog=class NetworkErrorDialog extends ErrorDialog{}
NetworkErrorDialog.title=_lt("Odoo Network Error");const RPCErrorDialog=__exports.RPCErrorDialog=class RPCErrorDialog extends ErrorDialog{setup(){super.setup();this.inferTitle();this.traceback=this.props.traceback;if(this.props.data&&this.props.data.debug){this.traceback=`${this.props.data.debug}`;}}
inferTitle(){if(this.props.exceptionName&&odooExceptionTitleMap.has(this.props.exceptionName)){this.title=odooExceptionTitleMap.get(this.props.exceptionName).toString();return;}
if(!this.props.type)return;switch(this.props.type){case"server":this.title=this.env._t("Odoo Server Error");break;case"script":this.title=this.env._t("Odoo Client Error");break;case"network":this.title=this.env._t("Odoo Network Error");break;}}
onClickClipboard(){browser.navigator.clipboard.writeText(`${this.props.name}\n${this.props.message}\n${this.traceback}`);}}
const WarningDialog=__exports.WarningDialog=class WarningDialog extends Dialog{setup(){super.setup();this.title=this.env._t("Odoo Warning");this.inferTitle();const{data,message}=this.props;if(data&&data.arguments&&data.arguments.length>0){this.message=data.arguments[0];}else{this.message=message;}}
inferTitle(){if(this.props.exceptionName&&odooExceptionTitleMap.has(this.props.exceptionName)){this.title=odooExceptionTitleMap.get(this.props.exceptionName).toString();}}}
WarningDialog.bodyTemplate="web.WarningDialogBody";const RedirectWarningDialog=__exports.RedirectWarningDialog=class RedirectWarningDialog extends Dialog{setup(){super.setup();this.actionService=useService("action");const{data,subType}=this.props;const[message,actionId,buttonText,additional_context]=data.arguments;this.title=capitalize(subType)||this.env._t("Odoo Warning");this.message=message;this.actionId=actionId;this.buttonText=buttonText;this.additionalContext=additional_context;}
async onClick(){const options={};if(this.additionalContext){options.additionalContext=this.additionalContext;}
await this.actionService.doAction(this.actionId,options);this.close();}
onCancel(){this.close();}}
RedirectWarningDialog.bodyTemplate="web.RedirectWarningDialogBody";RedirectWarningDialog.footerTemplate="web.RedirectWarningDialogFooter";const Error504Dialog=__exports.Error504Dialog=class Error504Dialog extends Dialog{}
Error504Dialog.bodyTemplate="web.Error504DialogBody";Error504Dialog.title=_lt("Request timeout");const SessionExpiredDialog=__exports.SessionExpiredDialog=class SessionExpiredDialog extends Dialog{onClick(){browser.location.reload();}}
SessionExpiredDialog.bodyTemplate="web.SessionExpiredDialogBody";SessionExpiredDialog.footerTemplate="web.SessionExpiredDialogFooter";SessionExpiredDialog.title=_lt("Odoo Session Expired");registry.category("error_dialogs").add("odoo.exceptions.AccessDenied",WarningDialog).add("odoo.exceptions.AccessError",WarningDialog).add("odoo.exceptions.MissingError",WarningDialog).add("odoo.exceptions.UserError",WarningDialog).add("odoo.exceptions.ValidationError",WarningDialog).add("odoo.exceptions.RedirectWarning",RedirectWarningDialog).add("odoo.http.SessionExpiredException",SessionExpiredDialog).add("werkzeug.exceptions.Forbidden",SessionExpiredDialog).add("504",Error504Dialog);return __exports;});;

/* /web/static/src/core/errors/error_handlers.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/errors/error_handlers',async function(require){'use strict';let __exports={};const{browser}=require("@web/core/browser/browser");const{ConnectionLostError,RPCError}=require("@web/core/network/rpc_service");const{registry}=require("@web/core/registry");const{ClientErrorDialog,ErrorDialog,NetworkErrorDialog,RPCErrorDialog,}=require("@web/core/errors/error_dialogs");const{UncaughtClientError,UncaughtCorsError,UncaughtPromiseError}=require("@web/core/errors/error_service");const errorHandlerRegistry=registry.category("error_handlers");const errorDialogRegistry=registry.category("error_dialogs");const errorNotificationRegistry=registry.category("error_notifications");function corsErrorHandler(env,error){if(error instanceof UncaughtCorsError){env.services.dialog.add(NetworkErrorDialog,{traceback:error.traceback,message:error.message,name:error.name,});return true;}}
errorHandlerRegistry.add("corsErrorHandler",corsErrorHandler,{sequence:95});function clientErrorHandler(env,error){if(error instanceof UncaughtClientError){env.services.dialog.add(ClientErrorDialog,{traceback:error.traceback,message:error.message,name:error.name,});return true;}}
errorHandlerRegistry.add("clientErrorHandler",clientErrorHandler,{sequence:96});__exports.rpcErrorHandler=rpcErrorHandler;function rpcErrorHandler(env,error,originalError){if(!(error instanceof UncaughtPromiseError)){return false;}
if(originalError instanceof RPCError){error.unhandledRejectionEvent.preventDefault();const exceptionName=originalError.exceptionName;let ErrorComponent=originalError.Component;if(!ErrorComponent&&exceptionName){if(errorNotificationRegistry.contains(exceptionName)){const notif=errorNotificationRegistry.get(exceptionName);env.services.notification.add(notif.message||originalError.data.message,notif);return true;}
if(errorDialogRegistry.contains(exceptionName)){ErrorComponent=errorDialogRegistry.get(exceptionName);}}
if(!ErrorComponent&&originalError.data.context){const exceptionClass=originalError.data.context.exception_class;if(errorDialogRegistry.contains(exceptionClass)){ErrorComponent=errorDialogRegistry.get(exceptionClass);}}
env.services.dialog.add(ErrorComponent||RPCErrorDialog,{traceback:error.traceback,message:originalError.message,name:originalError.name,exceptionName:originalError.exceptionName,data:originalError.data,subType:originalError.subType,code:originalError.code,type:originalError.type,});return true;}}
errorHandlerRegistry.add("rpcErrorHandler",rpcErrorHandler,{sequence:97});let connectionLostNotifRemove=null;__exports.lostConnectionHandler=lostConnectionHandler;function lostConnectionHandler(env,error,originalError){if(!(error instanceof UncaughtPromiseError)){return false;}
if(originalError instanceof ConnectionLostError){if(connectionLostNotifRemove){return true;}
connectionLostNotifRemove=env.services.notification.add(env._t("Connection lost. Trying to reconnect..."),{sticky:true});let delay=2000;browser.setTimeout(function checkConnection(){env.services.rpc("/web/webclient/version_info",{}).then(function(){if(connectionLostNotifRemove){connectionLostNotifRemove();connectionLostNotifRemove=null;}
env.services.notification.add(env._t("Connection restored. You are back online."),{type:"info",});}).catch(()=>{delay=delay*1.5+500*Math.random();browser.setTimeout(checkConnection,delay);});},delay);return true;}}
errorHandlerRegistry.add("lostConnectionHandler",lostConnectionHandler,{sequence:98});function emptyRejectionErrorHandler(env,error){if(!(error instanceof UncaughtPromiseError)){return false;}
env.services.dialog.add(ClientErrorDialog,{traceback:error.traceback,message:error.message,name:error.name,});return true;}
errorHandlerRegistry.add("emptyRejectionErrorHandler",emptyRejectionErrorHandler,{sequence:99,});function defaultHandler(env,error){env.services.dialog.add(ErrorDialog,{traceback:error.traceback,message:error.message,name:error.name,});return true;}
errorHandlerRegistry.add("defaultHandler",defaultHandler,{sequence:100});return __exports;});;

/* /web/static/src/core/errors/error_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/errors/error_service',async function(require){'use strict';let __exports={};const{browser}=require("@web/core/browser/browser");const{_lt}=require("@web/core/l10n/translation");const{registry}=require("@web/core/registry");const{annotateTraceback,formatTraceback,getErrorTechnicalName}=require("@web/core/errors/error_utils");const UncaughtError=__exports.UncaughtError=class UncaughtError extends Error{constructor(message){super(message);this.name=getErrorTechnicalName(this);this.traceback=null;}}
const UncaughtClientError=__exports.UncaughtClientError=class UncaughtClientError extends UncaughtError{constructor(message=_lt("Uncaught Javascript Error")){super(message);}}
const UncaughtPromiseError=__exports.UncaughtPromiseError=class UncaughtPromiseError extends UncaughtError{constructor(message=_lt("Uncaught Promise")){super(message);this.unhandledRejectionEvent=null;}}
const UncaughtCorsError=__exports.UncaughtCorsError=class UncaughtCorsError extends UncaughtError{constructor(message=_lt("Uncaught CORS Error")){super(message);}}
function combineErrorNames(uncaughtError,originalError){const originalErrorName=getErrorTechnicalName(originalError);const uncaughtErrorName=getErrorTechnicalName(uncaughtError);if(originalErrorName===Error.name){return uncaughtErrorName;}else{return`${uncaughtErrorName} > ${originalErrorName}`;}}
async function completeUncaughtError(env,uncaughtError,originalError){uncaughtError.name=combineErrorNames(uncaughtError,originalError);if(env.debug.includes("assets")){uncaughtError.traceback=await annotateTraceback(originalError);}else{uncaughtError.traceback=formatTraceback(originalError);}
if(originalError.message){uncaughtError.message=`${uncaughtError.message} > ${originalError.message}`;}}
const errorService=__exports.errorService={start(env){function handleError(error,originalError,retry=true){const services=env.services;if(!services.dialog||!services.notification||!services.rpc){if(retry){browser.setTimeout(()=>{handleError(error,originalError,false);},1000);}
return;}
for(let handler of registry.category("error_handlers").getAll()){if(handler(env,error,originalError)){break;}}}
browser.addEventListener("error",async(ev)=>{const{colno,error:originalError,filename,lineno,message}=ev;const errorsToIgnore=["ResizeObserver loop completed with undelivered notifications.","ResizeObserver loop limit exceeded"]
if(!originalError&&errorsToIgnore.includes(message)){return;}
let uncaughtError;if(!filename&&!lineno&&!colno){uncaughtError=new UncaughtCorsError();uncaughtError.traceback=env._t(`Unknown CORS error\n\n`+`An unknown CORS error occured.\n`+`The error probably originates from a JavaScript file served from a different origin.\n`+`(Opening your browser console might give you a hint on the error.)`);}else{uncaughtError=new UncaughtClientError();await completeUncaughtError(env,uncaughtError,originalError);}
handleError(uncaughtError,originalError);});browser.addEventListener("unhandledrejection",async(ev)=>{const originalError=ev.reason;const uncaughtError=new UncaughtPromiseError();uncaughtError.unhandledRejectionEvent=ev;if(originalError instanceof Error){await completeUncaughtError(env,uncaughtError,originalError);}
handleError(uncaughtError,originalError);});},};registry.category("services").add("error",errorService,{sequence:1});return __exports;});;

/* /web/static/src/core/errors/error_utils.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/errors/error_utils',async function(require){'use strict';let __exports={};const{loadAssets}=require("@web/core/assets");const{isBrowserChrome}=require("@web/core/browser/feature_detection");__exports.getErrorTechnicalName=getErrorTechnicalName;function getErrorTechnicalName(error){return error.name!==Error.name?error.name:error.constructor.name;}
__exports.formatTraceback=formatTraceback;function formatTraceback(error){let traceback=error.stack;const errorName=getErrorTechnicalName(error);if(!isBrowserChrome()){traceback=`${errorName}: ${error.message}\n${error.stack}`.replace(/\n/g,"\n    ");}else if(error.stack){traceback=error.stack.replace(/^[^:]*/g,errorName);}
return traceback;}
__exports.annotateTraceback=annotateTraceback;async function annotateTraceback(error){const traceback=formatTraceback(error);try{await loadAssets({jsLibs:["/web/static/lib/stacktracejs/stacktrace.js"],});}catch(e){return traceback;}
if(error.stack){const regex=/ line (\d*) > (Function):(\d*)/gm;const subst=`:$1`;error.stack=error.stack.replace(regex,subst);}
let frames;try{frames=await StackTrace.fromError(error);}catch(e){console.warn("The following error could not be annotated:",error,e);return traceback;}
const lines=traceback.split("\n");if(lines[lines.length-1].trim()===""){lines.splice(-1);}
const skips=lines.filter((l)=>l.includes("(index 0")).length;const offset=lines.length-frames.length-skips;let lineIndex=offset;let frameIndex=0;while(frameIndex<frames.length){const line=lines[lineIndex];if(line.includes("(index 0)")){lineIndex++;continue;}
const frame=frames[frameIndex];const info=` (${frame.fileName}:${frame.lineNumber})`;lines[lineIndex]=line+info;lineIndex++;frameIndex++;}
return lines.join("\n");}
return __exports;});;

/* /web/static/src/core/file_input/file_input.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/file_input/file_input',async function(require){'use strict';let __exports={};const{useService}=require("@web/core/utils/hooks");const{Component,hooks,QWeb}=owl;const{useRef}=hooks;const FileInput=__exports.FileInput=class FileInput extends Component{setup(){this.http=useService("http");this.fileInputRef=useRef("file-input");}
async onFileInputChange(){const{action,model,id}=this.props;const params={csrf_token:odoo.csrf_token,ufile:[...this.fileInputRef.el.files],};if(model){params.model=model;}
if(id){params.id=id;}
const fileData=await this.http.post(action,params,"text");const parsedFileData=JSON.parse(fileData);if(parsedFileData.error){throw new Error(parsedFileData.error);}
this.trigger("uploaded",{files:parsedFileData});}
onTriggerClicked(){this.fileInputRef.el.click();}}
FileInput.defaultProps={accepted_file_extensions:"*",action:"/web/binary/upload",multi_upload:false,};FileInput.props={accepted_file_extensions:{type:String,optional:1},action:{type:String,optional:1},id:{type:Number,optional:1},model:{type:String,optional:1},multi_upload:{type:Boolean,optional:1},};FileInput.template="web.FileInput";QWeb.registerComponent("FileInput",FileInput);return __exports;});;

/* /web/static/src/core/hotkeys/hotkey_hook.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/hotkeys/hotkey_hook',async function(require){'use strict';let __exports={};const{useEffect,useService}=require("@web/core/utils/hooks");__exports.useHotkey=useHotkey;function useHotkey(hotkey,callback,options={}){const hotkeyService=useService("hotkey");useEffect(()=>hotkeyService.add(hotkey,callback,options),()=>[]);}
return __exports;});;

/* /web/static/src/core/hotkeys/hotkey_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/hotkeys/hotkey_service',async function(require){'use strict';let __exports={};const{isMacOS}=require("@web/core/browser/feature_detection");const{registry}=require("@web/core/registry");const{browser}=require("@web/core/browser/browser");const{getVisibleElements}=require("@web/core/utils/ui");const ALPHANUM_KEYS="abcdefghijklmnopqrstuvwxyz0123456789".split("");const NAV_KEYS=["arrowleft","arrowright","arrowup","arrowdown","pageup","pagedown","home","end","backspace","enter","escape","tab","delete",];const MODIFIERS=new Set(["alt","control","shift"]);const AUTHORIZED_KEYS=new Set([...ALPHANUM_KEYS,...NAV_KEYS]);const hotkeyService=__exports.hotkeyService={dependencies:["ui"],overlayModifier:"alt",start(env,{ui}){const registrations=new Map();let nextToken=0;let overlaysVisible=false;browser.addEventListener("keydown",onKeydown);browser.addEventListener("keyup",removeHotkeyOverlays);browser.addEventListener("blur",removeHotkeyOverlays);browser.addEventListener("click",removeHotkeyOverlays);function onKeydown(event){if(!event.key){return;}
const hotkey=getActiveHotkey(event);if(ui.isBlocked){return;}
const elementsWithoutDataHotkey=getVisibleElements(ui.activeElement,"[accesskey]:not([data-hotkey])");for(const el of elementsWithoutDataHotkey){el.dataset.hotkey=el.accessKey;el.removeAttribute("accesskey");}
if(hotkey===hotkeyService.overlayModifier){addHotkeyOverlays();event.preventDefault();return;}
const singleKey=hotkey.split("+").pop();if(!AUTHORIZED_KEYS.has(singleKey)){return;}
const infos={hotkey,_originalEvent:event,};dispatch(infos);removeHotkeyOverlays(event);}
function dispatch(infos){let dispatched=false;const{hotkey,_originalEvent:event}=infos;const activeElement=ui.activeElement;for(const[_,reg]of registrations){if(!reg.global&&reg.activeElement!==activeElement){continue;}
if(reg.hotkey!==hotkey){continue;}
if(!reg.allowRepeat&&event.repeat){continue;}
reg.callback();dispatched=true;}
const overlayModParts=hotkeyService.overlayModifier.split("+");if(!event.repeat&&overlayModParts.every((el)=>hotkey.includes(el))){const cleanHotkey=hotkey.split("+").filter((key)=>!overlayModParts.includes(key)).join("+");const elems=getVisibleElements(ui.activeElement,`[data-hotkey='${cleanHotkey}' i]`);for(const el of elems){el.focus();el.click();dispatched=true;}}
if(dispatched){event.preventDefault();event.stopImmediatePropagation();}}
function addHotkeyOverlays(){if(overlaysVisible){return;}
for(const el of getVisibleElements(ui.activeElement,"[data-hotkey]:not(:disabled)")){const hotkey=el.dataset.hotkey;const overlay=document.createElement("div");overlay.className="o_web_hotkey_overlay";overlay.appendChild(document.createTextNode(hotkey.toUpperCase()));let overlayParent;if(el.tagName.toUpperCase()==="INPUT"){overlayParent=el.parentElement;}else{overlayParent=el;}
if(overlayParent.style.position!=="absolute"){overlayParent.style.position="relative";}
overlayParent.appendChild(overlay);}
overlaysVisible=true;}
function removeHotkeyOverlays(event){if(!overlaysVisible){return;}
for(const overlay of document.querySelectorAll(".o_web_hotkey_overlay")){overlay.remove();}
overlaysVisible=false;event.preventDefault();}
function getActiveHotkey(ev){const hotkey=[];if(isMacOS()?ev.ctrlKey:ev.altKey){hotkey.push("alt");}
if(isMacOS()?ev.metaKey:ev.ctrlKey){hotkey.push("control");}
if(ev.shiftKey){hotkey.push("shift");}
let key=ev.key.toLowerCase();if(ev.code&&ev.code.indexOf("Digit")===0){key=ev.code.slice(-1);}
if(!AUTHORIZED_KEYS.has(key)&&ev.code&&ev.code.indexOf("Key")===0){key=ev.code.slice(-1).toLowerCase();}
if(!MODIFIERS.has(key)){hotkey.push(key);}
return hotkey.join("+");}
function registerHotkey(hotkey,callback,options={}){if(!hotkey||hotkey.length===0){throw new Error("You must specify an hotkey when registering a registration.");}
if(!callback||typeof callback!=="function"){throw new Error("You must specify a callback function when registering a registration.");}
const keys=hotkey.toLowerCase().split("+").filter((k)=>!MODIFIERS.has(k));if(keys.some((k)=>!AUTHORIZED_KEYS.has(k))){throw new Error(`You are trying to subscribe for an hotkey ('${hotkey}')
            that contains parts not whitelisted: ${keys.join(", ")}`);}else if(keys.length>1){throw new Error(`You are trying to subscribe for an hotkey ('${hotkey}')
            that contains more than one single key part: ${keys.join("+")}`);}
const token=nextToken++;const registration={hotkey:hotkey.toLowerCase(),callback,activeElement:options.activeElement,allowRepeat:options&&options.allowRepeat,global:options&&options.global,};registrations.set(token,registration);if(!registrations.activeElement){Promise.resolve().then(()=>{registration.activeElement=ui.activeElement;});}
return token;}
function unregisterHotkey(token){registrations.delete(token);}
return{add(hotkey,callback,options={}){const token=registerHotkey(hotkey,callback,options);return()=>{unregisterHotkey(token);};},};},};registry.category("services").add("hotkey",hotkeyService);return __exports;});;

/* /web/static/src/core/l10n/dates.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/l10n/dates',async function(require){'use strict';let __exports={};const{localization}=require("@web/core/l10n/localization");const{_t}=require("@web/core/l10n/translation");const{memoize}=require("@web/core/utils/functions");const{sprintf}=require("@web/core/utils/strings");const{DateTime}=luxon;const SERVER_DATE_FORMAT="yyyy-MM-dd";const SERVER_TIME_FORMAT="HH:mm:ss";const alphaRegex=/[a-zA-Z]/g;const nonAlphaRegex=/[^a-zA-Z]/g;const nonDigitsRegex=/[^0-9]/g;const normalizeFormatTable={a:"ccc",A:"cccc",b:"MMM",B:"MMMM",d:"dd",H:"HH",I:"hh",j:"o",m:"MM",M:"mm",p:"a",S:"ss",W:"WW",w:"c",y:"yy",Y:"yyyy",c:"ccc MMM d HH:mm:ss yyyy",x:"MM/dd/yy",X:"HH:mm:ss",};const smartDateUnits={d:"days",m:"months",w:"weeks",y:"years",};const smartDateRegex=new RegExp(`^([+-])(\\d+)([${Object.keys(smartDateUnits).join("")}]?)$`);function parseSmartDateInput(value){const match=smartDateRegex.exec(value);if(match){let date=DateTime.utc();const offset=parseInt(match[2],10);const unit=smartDateUnits[match[3]||"d"];if(match[1]==="+"){date=date.plus({[unit]:offset});}else{date=date.minus({[unit]:offset});}
return date;}
return false;}
function constrain(dt){let valid=dt!==false;valid=valid&&dt.isValid;valid=valid&&dt.year>=1000;valid=valid&&dt.year<10000;return valid?dt:false;}
const stripAlphaDupes=memoize(function stripAlphaDupes(str){return str.replace(alphaRegex,(letter,index,str)=>{return letter===str[index-1]?"":letter;});});const strftimeToLuxonFormat=__exports.strftimeToLuxonFormat=memoize(function strftimeToLuxonFormat(value){const output=[];let inToken=false;for(let index=0;index<value.length;++index){let character=value[index];if(character==="%"&&!inToken){inToken=true;continue;}
if(character.match(alphaRegex)){if(inToken&&normalizeFormatTable[character]!==undefined){character=normalizeFormatTable[character];}else{character="["+character+"]";}}
output.push(character);inToken=false;}
return output.join("");});__exports.formatDate=formatDate;function formatDate(value,options={}){return formatDateTime(value,{timezone:false,...options,format:options.format||localization.dateFormat,});}
__exports.formatDateTime=formatDateTime;function formatDateTime(value,options={}){if(value===false){return"";}
const format=options.format||localization.dateTimeFormat;const zone=options.timezone?"local":"utc";value=value.setZone(zone,{keepLocaltime:options.timezone});return value.toFormat(format);}
__exports.parseDate=parseDate;function parseDate(value,options={}){return parseDateTime(value,{timezone:false,...options}).startOf("day");}
__exports.parseDateTime=parseDateTime;function parseDateTime(value,options={}){if(!value){return false;}
const valueDigitsOnly=value.replace(nonDigitsRegex,"");const parseOpts={setZone:true,zone:options.timezone?"local":"utc",locale:options.locale,};let result=constrain(parseSmartDateInput(value));if(!result){const fmt=options.format||localization.dateTimeFormat;const fmtWoZero=stripAlphaDupes(fmt);const woSeps={val:valueDigitsOnly,fmt:fmt.replace(nonAlphaRegex,"").slice(0,valueDigitsOnly.length),};result=constrain(DateTime.fromFormat(value,fmt,parseOpts))||constrain(DateTime.fromFormat(value,fmtWoZero,parseOpts))||constrain(DateTime.fromFormat(woSeps.val,woSeps.fmt,parseOpts));}
if(!result){if(valueDigitsOnly.length>4){result=constrain(DateTime.fromISO(value,parseOpts))||constrain(DateTime.fromSQL(value,parseOpts));}}
if(!result){throw new Error(sprintf(_t("'%s' is not a correct date or datetime"),value));}
return options.timezone?result:result.toUTC();}
const serializeDate=__exports.serializeDate=(value)=>{return formatDate(value,{format:SERVER_DATE_FORMAT});};const serializeDateTime=__exports.serializeDateTime=(value)=>{return formatDateTime(value,{format:`${SERVER_DATE_FORMAT} ${SERVER_TIME_FORMAT}`});};return __exports;});;

/* /web/static/src/core/l10n/localization.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/l10n/localization',async function(require){'use strict';let __exports={};const notReadyError=new Error("Localization parameters not ready yet. Maybe add 'localization' to your dependencies?");const localization=__exports.localization={dateFormat:notReadyError,dateTimeFormat:notReadyError,timeFormat:notReadyError,decimalPoint:notReadyError,direction:notReadyError,grouping:notReadyError,multiLang:notReadyError,thousandsSep:notReadyError,weekStart:notReadyError,};return __exports;});;

/* /web/static/src/core/l10n/localization_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/l10n/localization_service',async function(require){'use strict';let __exports={};const{browser}=require("@web/core/browser/browser");const{registry}=require("@web/core/registry");const{strftimeToLuxonFormat}=require("@web/core/l10n/dates");const{localization}=require("@web/core/l10n/localization");const{translatedTerms,_t}=require("@web/core/l10n/translation");const{session}=require("@web/session");const localizationService=__exports.localizationService={dependencies:["user"],start:async(env,{user})=>{owl.config.translatableAttributes.push("data-tooltip");const cacheHashes=session.cache_hashes||{};const translationsHash=cacheHashes.translations||new Date().getTime().toString();const lang=user.lang||null;const translationURL=session.translationURL||"/web/webclient/translations";let url=`${translationURL}/${translationsHash}`;if(lang){url+=`?lang=${lang}`;}
const response=await browser.fetch(url);if(!response.ok){throw new Error("Error while fetching translations");}
const{lang_parameters:userLocalization,modules:modules}=await response.json();let terms={};for(const addon of Object.keys(modules)){for(const message of modules[addon].messages){terms[message.id]=message.string;}}
Object.setPrototypeOf(translatedTerms,terms);env._t=_t;env.qweb.translateFn=_t;if(lang==="sr@latin"){luxon.Settings.defaultLocale="sr-Latn-RS";}else if(lang){luxon.Settings.defaultLocale=lang.replace(/_/g,"-");}
const dateFormat=strftimeToLuxonFormat(userLocalization.date_format);const timeFormat=strftimeToLuxonFormat(userLocalization.time_format);const dateTimeFormat=`${dateFormat} ${timeFormat}`;const grouping=JSON.parse(userLocalization.grouping);Object.assign(localization,{dateFormat,timeFormat,dateTimeFormat,decimalPoint:userLocalization.decimal_point,direction:userLocalization.direction,grouping,multiLang:userLocalization.multi_lang,thousandsSep:userLocalization.thousands_sep,weekStart:userLocalization.week_start,});},};registry.category("services").add("localization",localizationService);return __exports;});;

/* /web/static/src/core/l10n/translation.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/l10n/translation',async function(require){'use strict';let __exports={};const translatedTerms=__exports.translatedTerms={};__exports._t=_t;function _t(term){return translatedTerms[term]||term;}
class LazyTranslatedString extends String{valueOf(){const str=super.valueOf();return _t(str);}
toString(){return this.valueOf();}}
__exports._lt=_lt;function _lt(term){return new LazyTranslatedString(term);}
_lt("less than a minute ago");_lt("about a minute ago");_lt("%d minutes ago");_lt("about an hour ago");_lt("%d hours ago");_lt("a day ago");_lt("%d days ago");_lt("about a month ago");_lt("%d months ago");_lt("about a year ago");_lt("%d years ago");return __exports;});;

/* /web/static/src/core/main_components_container.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/main_components_container',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{NotUpdatable,ErrorHandler}=require("@web/core/utils/components");const{Component,tags}=owl;const MainComponentsContainer=__exports.MainComponentsContainer=class MainComponentsContainer extends Component{setup(){this.Components=registry.category("main_components").getEntries();}
handleComponentError(error,C){this.Components.splice(this.Components.indexOf(C),1);this.render();Promise.resolve().then(()=>{throw error;});}}
MainComponentsContainer.template=tags.xml`
<div>
    <t t-foreach="Components" t-as="C" t-key="C[0]">
        <NotUpdatable>
            <ErrorHandler onError="error => handleComponentError(error, C)">
                <t t-component="C[1].Component" t-props="C[1].props"/>
            </ErrorHandler>
        </NotUpdatable>
    </t>
</div>
`;MainComponentsContainer.components={NotUpdatable,ErrorHandler};return __exports;});;

/* /web/static/src/core/network/download.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/network/download',async function(require){'use strict';let __exports={};const{_lt}=require("@web/core/l10n/translation");const{makeErrorFromResponse}=require("@web/core/network/rpc_service");const{ConnectionLostError}=require("@web/core/network/rpc_service");const{browser}=require("@web/core/browser/browser");const HEX_ESCAPE_REPLACE_REGEXP=/%([0-9A-Fa-f]{2})/g;const NON_LATIN1_REGEXP=/[^\x20-\x7e\xa0-\xff]/g;const QESC_REGEXP=/\\([\u0000-\u007f])/g;const PARAM_REGEXP=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g;const EXT_VALUE_REGEXP=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/;const DISPOSITION_TYPE_REGEXP=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function decodefield(str){const match=EXT_VALUE_REGEXP.exec(str);if(!match){throw new TypeError("invalid extended field value");}
const charset=match[1].toLowerCase();const encoded=match[2];switch(charset){case"iso-8859-1":return encoded.replace(HEX_ESCAPE_REPLACE_REGEXP,pdecode).replace(NON_LATIN1_REGEXP,"?");case"utf-8":return decodeURIComponent(encoded);default:throw new TypeError("unsupported charset in extended field");}}
function parse(string){if(!string||typeof string!=="string"){throw new TypeError("argument string is required");}
let match=DISPOSITION_TYPE_REGEXP.exec(string);if(!match){throw new TypeError("invalid type format");}
let index=match[0].length;const type=match[1].toLowerCase();let key;const names=[];const params={};let value;index=PARAM_REGEXP.lastIndex=match[0].substr(-1)===";"?index-1:index;while((match=PARAM_REGEXP.exec(string))){if(match.index!==index){throw new TypeError("invalid parameter format");}
index+=match[0].length;key=match[1].toLowerCase();value=match[2];if(names.indexOf(key)!==-1){throw new TypeError("invalid duplicate parameter");}
names.push(key);if(key.indexOf("*")+1===key.length){key=key.slice(0,-1);value=decodefield(value);params[key]=value;continue;}
if(typeof params[key]==="string"){continue;}
if(value[0]==='"'){value=value.substr(1,value.length-2).replace(QESC_REGEXP,"$1");}
params[key]=value;}
if(index!==-1&&index!==string.length){throw new TypeError("invalid parameter format");}
return new ContentDisposition(type,params);}
function pdecode(str,hex){return String.fromCharCode(parseInt(hex,16));}
function ContentDisposition(type,parameters){this.type=type;this.parameters=parameters;}
function _download(data,filename,mimetype){let self=window,defaultMime="application/octet-stream",mimeType=mimetype||defaultMime,payload=data,url=!filename&&!mimetype&&payload,anchor=document.createElement("a"),toString=function(a){return String(a);},myBlob=self.Blob||self.MozBlob||self.WebKitBlob||toString,fileName=filename||"download",blob,reader;myBlob=myBlob.call?myBlob.bind(self):Blob;if(String(this)==="true"){payload=[payload,mimeType];mimeType=payload[0];payload=payload[1];}
if(url&&url.length<2048){fileName=url.split("/").pop().split("?")[0];anchor.href=url;if(anchor.href.indexOf(url)!==-1){let ajax=new XMLHttpRequest();ajax.open("GET",url,true);ajax.responseType="blob";ajax.onload=function(e){_download(e.target.response,fileName,defaultMime);};setTimeout(()=>{ajax.send();},0);return ajax;}}
if(/^data:[\w+\-]+\/[\w+\-]+[,;]/.test(payload)){if(payload.length>1024*1024*1.999&&myBlob!==toString){payload=dataUrlToBlob(payload);mimeType=payload.type||defaultMime;}else{return navigator.msSaveBlob?navigator.msSaveBlob(dataUrlToBlob(payload),fileName):saver(payload);}}
blob=payload instanceof myBlob?payload:new myBlob([payload],{type:mimeType});function dataUrlToBlob(strUrl){let parts=strUrl.split(/[:;,]/),type=parts[1],decoder=parts[2]==="base64"?atob:decodeURIComponent,binData=decoder(parts.pop()),mx=binData.length,i=0,uiArr=new Uint8Array(mx);for(i;i<mx;++i){uiArr[i]=binData.charCodeAt(i);}
return new myBlob([uiArr],{type});}
function saver(url,winMode){if("download"in anchor){anchor.href=url;anchor.setAttribute("download",fileName);anchor.className="download-js-link";anchor.innerText=_lt("downloading...");anchor.style.display="none";document.body.appendChild(anchor);setTimeout(()=>{anchor.click();document.body.removeChild(anchor);if(winMode===true){setTimeout(()=>{self.URL.revokeObjectURL(anchor.href);},250);}},66);return true;}
if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent)){url=url.replace(/^data:([\w\/\-+]+)/,defaultMime);if(!window.open(url)){if(confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")){location.href=url;}}
return true;}
let f=document.createElement("iframe");document.body.appendChild(f);if(!winMode){url=`data:${url.replace(/^data:([\w\/\-+]+)/, defaultMime)}`;}
f.src=url;setTimeout(()=>{document.body.removeChild(f);},333);}
if(navigator.msSaveBlob){return navigator.msSaveBlob(blob,fileName);}
if(self.URL){saver(self.URL.createObjectURL(blob),true);}else{if(typeof blob==="string"||blob.constructor===toString){try{return saver(`data:${mimeType};base64,${self.btoa(blob)}`);}catch(y){return saver(`data:${mimeType},${encodeURIComponent(blob)}`);}}
reader=new FileReader();reader.onload=function(){saver(this.result);};reader.readAsDataURL(blob);}
return true;}
__exports.download=download;function download(options){return download._download(options);}
download._download=(options)=>{return new Promise((resolve,reject)=>{const xhr=new browser.XMLHttpRequest();let data;if(Object.prototype.hasOwnProperty.call(options,"form")){xhr.open(options.form.method,options.form.action);data=new FormData(options.form);}else{xhr.open("POST",options.url);data=new FormData();Object.entries(options.data).forEach((entry)=>{const[key,value]=entry;data.append(key,value);});}
data.append("token","dummy-because-api-expects-one");if(odoo.csrf_token){data.append("csrf_token",odoo.csrf_token);}
xhr.responseType="blob";xhr.onload=()=>{const mimetype=xhr.response.type;if(xhr.status===200&&mimetype!=="text/html"){const header=(xhr.getResponseHeader("Content-Disposition")||"").replace(/;$/,"");const filename=header?parse(header).parameters.filename:null;_download(xhr.response,filename,mimetype);return resolve(filename);}else if(xhr.status===502){reject(new ConnectionLostError());}else{const decoder=new FileReader();decoder.onload=()=>{const contents=decoder.result;const doc=new DOMParser().parseFromString(contents,"text/html");const nodes=doc.body.children.length===0?doc.body.childNodes:doc.body.children;let error;try{const node=nodes[1]||nodes[0];error=JSON.parse(node.textContent);}catch(e){error={message:"Arbitrary Uncaught Python Exception",data:{debug:`${xhr.status}`+`\n`+`${nodes.length > 0 ? nodes[0].textContent : ""}
                                    ${nodes.length > 1 ? nodes[1].textContent : ""}`},};}
error=makeErrorFromResponse(error);reject(error);};decoder.readAsText(xhr.response);}};xhr.onerror=()=>{reject(new ConnectionLostError());};xhr.send(data);});};return __exports;});;

/* /web/static/src/core/network/http_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/network/http_service',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");function checkResponseStatus(response){if(response.status===502){throw new Error("Failed to fetch");}}
const httpService=__exports.httpService={start(){return{async get(route,readMethod="json"){const response=await fetch(route,{method:"GET"});checkResponseStatus(response);return response[readMethod]();},async post(route,params={},readMethod="json"){const formData=new FormData();for(const key in params){const value=params[key];if(Array.isArray(value)&&value.length){for(const val of value){formData.append(key,val);}}else{formData.append(key,value);}}
const info={body:formData,method:"POST",};const response=await fetch(route,info);checkResponseStatus(response);return response[readMethod]();},};},};registry.category("services").add("http",httpService);return __exports;});;

/* /web/static/src/core/network/rpc_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/network/rpc_service',async function(require){'use strict';let __exports={};const{browser}=require("@web/core/browser/browser");const{registry}=require("@web/core/registry");const RPCError=__exports.RPCError=class RPCError extends Error{constructor(){super(...arguments);this.name="RPC_ERROR";this.type="server";this.code=null;this.data=null;this.exceptionName=null;this.subType=null;}}
const ConnectionLostError=__exports.ConnectionLostError=class ConnectionLostError extends Error{}
const ConnectionAbortedError=__exports.ConnectionAbortedError=class ConnectionAbortedError extends Error{}
__exports.makeErrorFromResponse=makeErrorFromResponse;function makeErrorFromResponse(reponse){const{code,data:errorData,message,type:subType}=reponse;const error=new RPCError();error.exceptionName=errorData.name;error.subType=subType;error.data=errorData;error.message=message;error.code=code;return error;}
function jsonrpc(env,rpcId,url,params,settings={}){const bus=env.bus;const XHR=browser.XMLHttpRequest;const data={id:rpcId,jsonrpc:"2.0",method:"call",params:params,};const request=settings.xhr||new XHR();let rejectFn;const promise=new Promise((resolve,reject)=>{rejectFn=reject;if(!settings.silent){bus.trigger("RPC:REQUEST",data.id);}
request.addEventListener("load",()=>{if(request.status===502){if(!settings.silent){bus.trigger("RPC:RESPONSE",data.id);}
reject(new ConnectionLostError());return;}
const{error:responseError,result:responseResult}=JSON.parse(request.response);if(!settings.silent){bus.trigger("RPC:RESPONSE",data.id);}
if(!responseError){return resolve(responseResult);}
const error=makeErrorFromResponse(responseError);reject(error);});request.addEventListener("error",()=>{if(!settings.silent){bus.trigger("RPC:RESPONSE",data.id);}
reject(new ConnectionLostError());});request.open("POST",url);request.setRequestHeader("Content-Type","application/json");request.send(JSON.stringify(data));});promise.abort=function(){if(request.abort){request.abort();}
rejectFn(new ConnectionAbortedError("XmlHttpRequestError abort"));};return promise;}
const rpcService=__exports.rpcService={async:true,start(env){let rpcId=0;return function rpc(route,params={},settings){return jsonrpc(env,rpcId++,route,params,settings);};},};registry.category("services").add("rpc",rpcService);return __exports;});;

/* /web/static/src/core/notifications/notification.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/notifications/notification',async function(require){'use strict';let __exports={};const{Component,hooks}=owl;const Notification=__exports.Notification=class Notification extends Component{setup(){if(this.props.onClose){hooks.onWillUnmount(()=>this.props.onClose());}}
shouldUpdate(){return false;}
get className(){let className;switch(this.props.type){case"danger":className="bg-danger";break;case"warning":className="bg-warning";break;case"success":className="bg-success";break;case"info":className="bg-info";break;}
return className?`${className} ${this.props.className}`:this.props.className;}}
Notification.template="web.NotificationWowl";Notification.props={message:{validate:(m)=>{return(typeof m==="string"||(typeof m==="object"&&typeof m.toString==="function"));}},title:{type:[String,Boolean,{toString:Function}],optional:true},type:{type:String,optional:true,validate:(t)=>["warning","danger","success","info"].includes(t)},messageIsHtml:{type:Boolean,optional:true},className:{type:String,optional:true},buttons:{type:Array,element:{type:Object,shape:{name:{type:String},icon:{type:String,optional:true},primary:{type:Boolean,optional:true},onClick:Function}}},onClose:{type:Function,optional:true}};Notification.defaultProps={buttons:[],className:"",messageIsHtml:false,type:"warning"};return __exports;});;

/* /web/static/src/core/notifications/notification_container.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/notifications/notification_container',async function(require){'use strict';let __exports={};const{Notification}=require("@web/core/notifications/notification");const{Component,tags}=owl;const NotificationContainer=__exports.NotificationContainer=class NotificationContainer extends Component{setup(){this.props.bus.on("UPDATE",this,this.render);}}
NotificationContainer.template=tags.xml`
    <div class="o_notification_manager">
        <t t-foreach="props.notifications" t-as="notification" t-key="notification.id">
            <Notification
                t-props="notification.props"
                t-transition="o_notification_fade"
                t-on-close="notification.close()"
            />
        </t>
    </div>`;NotificationContainer.components={Notification};return __exports;});;

/* /web/static/src/core/notifications/notification_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/notifications/notification_service',async function(require){'use strict';let __exports={};const{browser}=require("@web/core/browser/browser");const{registry}=require("@web/core/registry");const{NotificationContainer}=require("@web/core/notifications/notification_container");const{EventBus}=owl.core;const AUTOCLOSE_DELAY=4000;const notificationService=__exports.notificationService={start(){let notifId=0;let notifications=[];const bus=new EventBus();registry.category("main_components").add("NotificationContainer",{Component:NotificationContainer,props:{bus,notifications},});function add(message,options={}){const id=++notifId;const props=Object.assign({},options,{message});const sticky=props.sticky;delete props.sticky;const closeFn=()=>close(id);const notification={id,props,close:closeFn,};notifications.push(notification);bus.trigger("UPDATE");if(!sticky){browser.setTimeout(closeFn,AUTOCLOSE_DELAY);}
return closeFn;}
function close(id){const index=notifications.findIndex((n)=>n.id===id);if(index>-1){notifications.splice(index,1);bus.trigger("UPDATE");}}
return{add};},};registry.category("services").add("notification",notificationService);return __exports;});;

/* /web/static/src/core/orm_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/orm_service',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");function assignOptions(kwargs,options,whileList){for(let elem of whileList){if(elem in options){kwargs[elem]=options[elem];}}}
const Commands=__exports.Commands={create(virtualID,values){delete values.id;return[0,virtualID||false,values];},update(id,values){delete values.id;return[1,id,values];},delete(id){return[2,id,false];},forget(id){return[3,id,false];},linkTo(id){return[4,id,false];},deleteAll(){return[5,false,false];},replaceWith(ids){return[6,false,ids];},};function validateModel(value){if(typeof value!=="string"||value.length===0){throw new Error(`Invalid model name: ${value}`);}}
function validatePrimitiveList(name,type,value){if(!Array.isArray(value)||value.some((val)=>typeof val!==type)){throw new Error(`Invalid ${name} list: ${value}`);}}
function validateObject(name,obj){if(typeof obj!=="object"||obj===null||Array.isArray(obj)){throw new Error(`${name} should be an object`);}}
function validateArray(name,array){if(!Array.isArray(array)){throw new Error(`${name} should be an array`);}}
const ORM=__exports.ORM=class ORM{constructor(rpc,user){this.rpc=rpc;this.user=user;this._silent=false;}
get silent(){return Object.assign(Object.create(this),{_silent:true});}
call(model,method,args=[],kwargs={}){validateModel(model);let url=`/web/dataset/call_kw/${model}/${method}`;const fullContext=Object.assign({},this.user.context,kwargs.context||{});const fullKwargs=Object.assign({},kwargs,{context:fullContext});let params={model,method,args,kwargs:fullKwargs,};return this.rpc(url,params,{silent:this._silent});}
create(model,state,ctx){validateObject("state",state);return this.call(model,"create",[state],{context:ctx});}
read(model,ids,fields,ctx){validatePrimitiveList("ids","number",ids);if(fields){validatePrimitiveList("fields","string",fields);}
if(!ids.length){return Promise.resolve([]);}
return this.call(model,"read",[ids,fields],{context:ctx});}
readGroup(model,domain,fields,groupby,options={},ctx={}){validateArray("domain",domain);validatePrimitiveList("fields","string",fields);validatePrimitiveList("groupby","string",groupby);const kwargs={domain,groupby,fields,context:ctx,};assignOptions(kwargs,options,["lazy","offset","orderby","limit"]);return this.call(model,"read_group",[],kwargs);}
search(model,domain,options={},ctx={}){validateArray("domain",domain);const kwargs={context:ctx,};assignOptions(kwargs,options,["offset","limit","order"]);return this.call(model,"search",[domain],kwargs);}
searchRead(model,domain,fields,options={},ctx={}){validateArray("domain",domain);if(fields){validatePrimitiveList("fields","string",fields);}
const kwargs={context:ctx,domain,fields};assignOptions(kwargs,options,["offset","limit","order"]);return this.call(model,"search_read",[],kwargs);}
unlink(model,ids,ctx){validatePrimitiveList("ids","number",ids);if(!ids.length){return true;}
return this.call(model,"unlink",[ids],{context:ctx});}
webReadGroup(model,domain,fields,groupby,options={},ctx={}){validateArray("domain",domain);validatePrimitiveList("fields","string",fields);validatePrimitiveList("groupby","string",groupby);const kwargs={domain,groupby,fields,context:ctx,};assignOptions(kwargs,options,["lazy","offset","orderby","limit"]);return this.call(model,"web_read_group",[],kwargs);}
webSearchRead(model,domain,fields,options={},ctx={}){validateArray("domain",domain);validatePrimitiveList("fields","string",fields);const kwargs={context:ctx,domain,fields};assignOptions(kwargs,options,["offset","limit","order"]);return this.call(model,"web_search_read",[],kwargs);}
write(model,ids,data,ctx){validatePrimitiveList("ids","number",ids);validateObject("data",data);return this.call(model,"write",[ids,data],{context:ctx});}}
const ormService=__exports.ormService={dependencies:["rpc","user"],async:["call","create","read","readGroup","search","searchRead","unlink","web_search_read","write",],start(env,{rpc,user}){return new ORM(rpc,user);},};registry.category("services").add("orm",ormService);return __exports;});;

/* /web/static/src/core/popover/popover.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/popover/popover',async function(require){'use strict';let __exports={};const{usePosition}=require("@web/core/position/position_hook");const{Component}=owl;const Popover=__exports.Popover=class Popover extends Component{setup(){usePosition(this.props.target,{margin:16,position:this.props.position,});}}
Popover.template="web.PopoverWowl";Popover.defaultProps={position:"bottom",};Popover.props={popoverClass:{optional:true,type:String,},position:{type:String,validate:(p)=>["top","bottom","left","right"].includes(p),},target:HTMLElement,};return __exports;});;

/* /web/static/src/core/popover/popover_container.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/popover/popover_container',async function(require){'use strict';let __exports={};const{Popover}=require("@web/core/popover/popover");const{Component}=owl;const{useExternalListener,useState}=owl.hooks;const{xml}=owl.tags;class PopoverController extends Component{setup(){this.state=useState({displayed:false});this.targetObserver=new MutationObserver(this.onTargetMutate.bind(this));useExternalListener(window,"click",this.onClickAway,{capture:true});}
mounted(){this.targetObserver.observe(this.target.parentElement,{childList:true});}
willUnmount(){this.targetObserver.disconnect();}
shouldUpdate(){return false;}
get popoverProps(){return{target:this.target,position:this.props.position,popoverClass:this.props.popoverClass,};}
get target(){if(typeof this.props.target==="string"){return document.querySelector(this.props.target);}else{return this.props.target;}}
onClickAway(ev){if(this.target.contains(ev.target)||ev.target.closest(".o_popover")){return;}
if(this.props.closeOnClickAway){this.props.close();}}
onTargetMutate(){const target=this.target;if(!target||!target.parentElement){this.props.close();}}}
PopoverController.components={Popover};PopoverController.defaultProps={alwaysDisplayed:false,closeOnClickAway:true,};PopoverController.template=xml`
    <Popover t-props="popoverProps" t-on-popover-closed="props.close()">
        <t t-component="props.Component" t-props="props.props" />
    </Popover>
`;const PopoverContainer=__exports.PopoverContainer=class PopoverContainer extends Component{setup(){this.props.bus.on("UPDATE",this,this.render);}}
PopoverContainer.components={PopoverController};PopoverContainer.template=xml`
    <div class="o_popover_container">
        <t t-foreach="Object.values(props.popovers)" t-as="popover" t-key="popover.id">
            <PopoverController t-props="popover" />
        </t>
    </div>
`;return __exports;});;

/* /web/static/src/core/popover/popover_hook.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/popover/popover_hook',async function(require){'use strict';let __exports={};const{useService}=require("@web/core/utils/hooks");const{onWillUnmount,useComponent}=owl.hooks;__exports.usePopover=usePopover;function usePopover(){const removeFns=new Set();const service=useService("popover");const component=useComponent();onWillUnmount(function(){for(const removeFn of removeFns){removeFn();}
removeFns.clear();});return{add(target,Component,props,options={}){const newOptions=Object.create(options);newOptions.onClose=function(){removeFns.delete(removeFn);if(options.onClose&&component.__owl__.status!==5){options.onClose();}};const removeFn=service.add(target,Component,props,newOptions);removeFns.add(removeFn);return removeFn;},};}
return __exports;});;

/* /web/static/src/core/popover/popover_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/popover/popover_service',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{PopoverContainer}=require("@web/core/popover/popover_container");const{EventBus}=owl.core;const popoverService=__exports.popoverService={start(){let nextId=0;const popovers={};const bus=new EventBus();registry.category("main_components").add("PopoverContainer",{Component:PopoverContainer,props:{bus,popovers}});function add(target,Component,props,options={}){const id=++nextId;const closeFn=()=>close(id);const popover={id,target,Component,props,close:closeFn,onClose:options.onClose,position:options.position,popoverClass:options.popoverClass,closeOnClickAway:options.closeOnClickAway,};popovers[id]=popover;bus.trigger("UPDATE");return closeFn;}
function close(id){if(id in popovers){const popover=popovers[id];if(popover.onClose){popover.onClose();}
delete popovers[id];bus.trigger("UPDATE");}}
return{add};},};registry.category("services").add("popover",popoverService);return __exports;});;

/* /web/static/src/core/position/position_hook.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/position/position_hook',async function(require){'use strict';let __exports={};const{useEffect}=require("@web/core/utils/hooks");const{throttleForAnimation}=require("@web/core/utils/timing");const{onWillUnmount}=owl.hooks;const{hooks}=owl;const{useComponent,useExternalListener,useRef}=hooks;const POPPER_CLASS="o-popper-position";const DIRECTION_FLIP_ORDER={top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"};const VARIANT_FLIP_ORDER={start:"sme",middle:"mse",end:"ems"};const DEFAULTS=__exports.DEFAULTS={margin:0,position:"bottom",};__exports.computePositioning=computePositioning;function computePositioning(reference,popper,options){const{container,margin,position}=options;const[directionKey,variantKey="middle"]=position.split("-");const directions=DIRECTION_FLIP_ORDER[directionKey];const variants=VARIANT_FLIP_ORDER[variantKey];const popBox=popper.getBoundingClientRect();const refBox=reference.getBoundingClientRect();const contBox=container.getBoundingClientRect();const containerIsHTMLNode=container===document.firstElementChild;const directionsData={t:refBox.top-popBox.height-margin,b:refBox.bottom+margin,r:refBox.right+margin,l:refBox.left-popBox.width-margin,};const variantsData={vs:refBox.left,vm:refBox.left+refBox.width/2+-popBox.width/2,ve:refBox.right-popBox.width,hs:refBox.top,hm:refBox.top+refBox.height/2+-popBox.height/2,he:refBox.bottom-popBox.height,};function get(d=directions[0],v=variants[0],containerRestricted=false){const vertical=["t","b"].includes(d);const variantPrefix=vertical?"v":"h";const directionValue=directionsData[d];const variantValue=variantsData[variantPrefix+v];if(containerRestricted){const[directionSize,variantSize]=vertical?[popBox.height+margin,popBox.width]:[popBox.width,popBox.height+margin];let[directionMin,directionMax]=vertical?[contBox.top,contBox.bottom]:[contBox.left,contBox.right];let[variantMin,variantMax]=vertical?[contBox.left,contBox.right]:[contBox.top,contBox.bottom];if(containerIsHTMLNode){if(vertical){directionMin+=container.scrollTop;directionMax+=container.scrollTop;}else{variantMin+=container.scrollTop;variantMax+=container.scrollTop;}}
const directionOverflow=directionValue<directionMin||directionValue+directionSize>directionMax;const variantOverflow=variantValue<variantMin||variantValue+variantSize>variantMax;if(directionOverflow||variantOverflow){return null;}}
const positioning=vertical?{top:directionValue,left:variantValue,}:{top:variantValue,left:directionValue,};return{...positioning,className:`${POPPER_CLASS}--${d}${v}`};}
return{directions,variants,get,};}
function reposition(reference,popper,options){options={container:document.documentElement,...DEFAULTS,...options,};for(const popperClass of popper.classList){if(popperClass.startsWith(POPPER_CLASS)){popper.classList.remove(popperClass);}}
popper.classList.add(POPPER_CLASS);const positioning=computePositioning(reference,popper,options);for(const d of positioning.directions){for(const v of positioning.variants){const posData=positioning.get(d,v,true);if(!posData){continue;}
const{className,top,left}=posData;popper.classList.add(className);popper.style.top=`${top}px`;popper.style.left=`${left}px`;return;}}
const{className,top,left}=positioning.get();popper.classList.add(className);popper.style.top=`${top}px`;popper.style.left=`${left}px`;}
__exports.usePosition=usePosition;function usePosition(reference,options){options={...DEFAULTS,...options};const{popper}=options;const popperRef=popper?useRef(popper):useComponent();const getReference=reference instanceof HTMLElement?()=>reference:reference;const update=()=>{const ref=getReference();if(popperRef.el&&ref){reposition(ref,popperRef.el,options);}};useEffect(update);const throttledUpdate=throttleForAnimation(update);useExternalListener(document,"scroll",throttledUpdate,{capture:true});useExternalListener(window,"resize",throttledUpdate);onWillUnmount(throttledUpdate.cancel);}
return __exports;});;

/* /web/static/src/core/py_js/py.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/py_js/py',async function(require){'use strict';let __exports={};const{evaluate}=require("@web/core/py_js/py_interpreter");const{parse}=require("@web/core/py_js/py_parser");const{tokenize}=require("@web/core/py_js/py_tokenizer");{const{evaluate}=require("@web/core/py_js/py_interpreter");Object.assign(__exports,{evaluate})};{const{parse}=require("@web/core/py_js/py_parser");Object.assign(__exports,{parse})};{const{tokenize}=require("@web/core/py_js/py_tokenizer");Object.assign(__exports,{tokenize})};{const{formatAST}=require("@web/core/py_js/py_utils");Object.assign(__exports,{formatAST})};__exports.parseExpr=parseExpr;function parseExpr(expr){const tokens=tokenize(expr);return parse(tokens);}
__exports.evaluateExpr=evaluateExpr;function evaluateExpr(expr,context={}){const ast=parseExpr(expr);return evaluate(ast,context);}
return __exports;});;

/* /web/static/src/core/py_js/py_builtin.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/py_js/py_builtin',async function(require){'use strict';let __exports={};const{PyDate,PyDateTime,PyRelativeDelta,PyTime,PyTimeDelta}=require("@web/core/py_js/py_date");const BUILTINS=__exports.BUILTINS={bool(value){switch(typeof value){case"number":return value!==0;case"string":return value!=="";case"boolean":return value;case"object":if(value===null){return false;}
if(value.isTrue){return value.isTrue();}
return true;}
return true;},time:{strftime(format){return PyDateTime.now().strftime(format);},},context_today(){return PyDate.today();},get current_date(){return this.today;},get today(){return PyDate.today().strftime("%Y-%m-%d");},get now(){return PyDateTime.now().strftime("%Y-%m-%d %H:%M:%S");},datetime:{time:PyTime,timedelta:PyTimeDelta,datetime:PyDateTime,date:PyDate,},relativedelta:PyRelativeDelta,};return __exports;});;

/* /web/static/src/core/py_js/py_date.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/py_js/py_date',async function(require){'use strict';let __exports={};const{parseArgs}=require("@web/core/py_js/py_utils");const AssertionError=__exports.AssertionError=class AssertionError extends Error{}
const ValueError=__exports.ValueError=class ValueError extends Error{}
const NotSupportedError=__exports.NotSupportedError=class NotSupportedError extends Error{}
function fmt2(n){return String(n).padStart(2,"0");}
function fmt4(n){return String(n).padStart(4,"0");}
function divmod(a,b,fn){let mod=a%b;if((mod>0&&b<0)||(mod<0&&b>0)){mod+=b;}
return fn(Math.floor(a/b),mod);}
function assert(bool,message="AssertionError"){if(!bool){throw new AssertionError(message);}}
const DAYS_IN_MONTH=[null,31,28,31,30,31,30,31,31,30,31,30,31];const DAYS_BEFORE_MONTH=[null];for(let dbm=0,i=1;i<DAYS_IN_MONTH.length;++i){DAYS_BEFORE_MONTH.push(dbm);dbm+=DAYS_IN_MONTH[i];}
function daysInMonth(year,month){if(month===2&&isLeap(year)){return 29;}
return DAYS_IN_MONTH[month];}
function isLeap(year){return year%4===0&&(year%100!==0||year%400===0);}
function daysBeforeYear(year){const y=year-1;return y*365+Math.floor(y/4)-Math.floor(y/100)+Math.floor(y/400);}
function daysBeforeMonth(year,month){const postLeapFeb=month>2&&isLeap(year);return DAYS_BEFORE_MONTH[month]+(postLeapFeb?1:0);}
function ymd2ord(year,month,day){const dim=daysInMonth(year,month);if(!(1<=day&&day<=dim)){throw new ValueError(`day must be in 1..${dim}`);}
return daysBeforeYear(year)+daysBeforeMonth(year,month)+day;}
const DI400Y=daysBeforeYear(401);const DI100Y=daysBeforeYear(101);const DI4Y=daysBeforeYear(5);function ord2ymd(n){--n;let n400,n100,n4,n1,n0;divmod(n,DI400Y,function(_n400,n){n400=_n400;divmod(n,DI100Y,function(_n100,n){n100=_n100;divmod(n,DI4Y,function(_n4,n){n4=_n4;divmod(n,365,function(_n1,n){n1=_n1;n0=n;});});});});n=n0;const year=n400*400+1+n100*100+n4*4+n1;if(n1==4||n100==100){assert(n0===0);return{year:year-1,month:12,day:31,};}
let leapyear=n1===3&&(n4!==24||n100==3);assert(leapyear==isLeap(year));let month=(n+50)>>5;let preceding=DAYS_BEFORE_MONTH[month]+(month>2&&leapyear?1:0);if(preceding>n){--month;preceding-=DAYS_IN_MONTH[month]+(month===2&&leapyear?1:0);}
n-=preceding;return{year:year,month:month,day:n+1,};}
function tmxxx(year,month,day,hour,minute,second,microsecond){hour=hour||0;minute=minute||0;second=second||0;microsecond=microsecond||0;if(microsecond<0||microsecond>999999){divmod(microsecond,1000000,function(carry,ms){microsecond=ms;second+=carry;});}
if(second<0||second>59){divmod(second,60,function(carry,s){second=s;minute+=carry;});}
if(minute<0||minute>59){divmod(minute,60,function(carry,m){minute=m;hour+=carry;});}
if(hour<0||hour>23){divmod(hour,24,function(carry,h){hour=h;day+=carry;});}
if(month<1||month>12){divmod(month-1,12,function(carry,m){month=m+1;year+=carry;});}
let dim=daysInMonth(year,month);if(day<1||day>dim){if(day===0){--month;if(month>0){day=daysInMonth(year,month);}else{--year;month=12;day=31;}}else if(day==dim+1){++month;day=1;if(month>12){month=1;++year;}}else{let r=ord2ymd(ymd2ord(year,month,1)+(day-1));year=r.year;month=r.month;day=r.day;}}
return{year:year,month:month,day:day,hour:hour,minute:minute,second:second,microsecond:microsecond,};}
const PyDate=__exports.PyDate=class PyDate{static today(){const now=new Date();const year=now.getUTCFullYear();const month=now.getUTCMonth()+1;const day=now.getUTCDate();return new PyDate(year,month,day);}
constructor(year,month,day){this.year=year;this.month=month;this.day=day;}
static create(...args){const{year,month,day}=parseArgs(args,["year","month","day"]);return new PyDate(year,month,day);}
add(timedelta){const s=tmxxx(this.year,this.month,this.day+timedelta.days);return new PyDate(s.year,s.month,s.day);}
isEqual(other){if(!(other instanceof PyDate)){return false;}
return this.year===other.year&&this.month===other.month&&this.day===other.day;}
strftime(format){return format.replace(/%([A-Za-z])/g,(m,c)=>{switch(c){case"Y":return fmt4(this.year);case"m":return fmt2(this.month);case"d":return fmt2(this.day);}
throw new ValueError(`No known conversion for ${m}`);});}
substract(other){if(other instanceof PyTimeDelta){return this.add(other.negate());}
if(other instanceof PyDate){return PyTimeDelta.create(this.toordinal()-other.toordinal());}
throw NotSupportedError();}
toJSON(){return this.strftime("%Y-%m-%d");}
toordinal(){return ymd2ord(this.year,this.month,this.day);}}
const PyDateTime=__exports.PyDateTime=class PyDateTime{static now(){const now=new Date();const year=now.getUTCFullYear();const month=now.getUTCMonth()+1;const day=now.getUTCDate();const hour=now.getUTCHours();const minute=now.getUTCMinutes();const second=now.getUTCSeconds();return new PyDateTime(year,month,day,hour,minute,second,0);}
static create(...args){const namedArgs=parseArgs(args,["year","month","day","hour","minute","second","microsecond",]);const year=namedArgs.year;const month=namedArgs.month;const day=namedArgs.day;const hour=namedArgs.hour||0;const minute=namedArgs.minute||0;const second=namedArgs.second||0;const ms=namedArgs.micro/1000||0;return new PyDateTime(year,month,day,hour,minute,second,ms);}
static combine(...args){const{date,time}=parseArgs(args,["date","time"]);return PyDateTime.create(date.year,date.month,date.day,time.hour,time.minute,time.second);}
constructor(year,month,day,hour,minute,second,microsecond){this.year=year;this.month=month;this.day=day;this.hour=hour;this.minute=minute;this.second=second;this.microsecond=microsecond;}
add(timedelta){const s=tmxxx(this.year,this.month,this.day+timedelta.days,this.hour,this.minute,this.second+timedelta.seconds,this.microsecond+timedelta.microseconds);return new PyDateTime(s.year,s.month,s.day,s.hour,s.minute,s.second,s.microsecond);}
isEqual(other){if(!(other instanceof PyDateTime)){return false;}
return(this.year===other.year&&this.month===other.month&&this.day===other.day&&this.hour===other.hour&&this.minute===other.minute&&this.second===other.second&&this.microsecond===other.microsecond);}
strftime(format){return format.replace(/%([A-Za-z])/g,(m,c)=>{switch(c){case"Y":return fmt4(this.year);case"m":return fmt2(this.month);case"d":return fmt2(this.day);case"H":return fmt2(this.hour);case"M":return fmt2(this.minute);case"S":return fmt2(this.second);}
throw new ValueError(`No known conversion for ${m}`);});}
substract(timedelta){return this.add(timedelta.negate());}
toJSON(){return this.strftime("%Y-%m-%d %H:%M:%S");}
to_utc(){const d=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);const timedelta=PyTimeDelta.create({minutes:d.getTimezoneOffset()});return this.add(timedelta);}}
const PyTime=__exports.PyTime=class PyTime extends PyDate{static create(...args){const namedArgs=parseArgs(args,["hour","minute","second"]);const hour=namedArgs.hour||0;const minute=namedArgs.minute||0;const second=namedArgs.second||0;return new PyTime(hour,minute,second);}
constructor(hour,minute,second){const now=new Date();const year=now.getFullYear();const month=now.getUTCMonth();const day=now.getUTCDate();super(year,month,day);this.hour=hour;this.minute=minute;this.second=second;}
strftime(format){return format.replace(/%([A-Za-z])/g,(m,c)=>{switch(c){case"Y":return fmt4(this.year);case"m":return fmt2(this.month+1);case"d":return fmt2(this.day);case"H":return fmt2(this.hour);case"M":return fmt2(this.minute);case"S":return fmt2(this.second);}
throw new ValueError(`No known conversion for ${m}`);});}
toJSON(){return this.strftime("%H:%M:%S");}}
const DAYS_IN_YEAR=[31,59,90,120,151,181,212,243,273,304,334,366];const TIME_PERIODS=["hour","minute","second"];const PERIODS=["year","month","day",...TIME_PERIODS];const RELATIVE_KEYS="years months weeks days hours minutes seconds microseconds leapdays".split(" ");const ABSOLUTE_KEYS="year month day hour minute second microsecond weekday nlyearday yearday".split(" ");const argsSpec=["dt1","dt2"];const PyRelativeDelta=__exports.PyRelativeDelta=class PyRelativeDelta{static create(...args){const params=parseArgs(args,argsSpec);if("dt1"in params){throw new Error("relativedelta(dt1, dt2) is not supported for now");}
for(const period of PERIODS){if(period in params){const val=params[period];assert(val>=0,`${period} ${val} is out of range`);}}
for(const key of RELATIVE_KEYS){params[key]=params[key]||0;}
for(const key of ABSOLUTE_KEYS){params[key]=key in params?params[key]:null;}
params.days+=7*params.weeks;let yearDay=0;if(params.nlyearday){yearDay=params.nlyearday;}else if(params.yearday){yearDay=params.yearday;if(yearDay>59){params.leapDays=-1;}}
if(yearDay){for(let monthIndex=0;monthIndex<DAYS_IN_YEAR.length;monthIndex++){if(yearDay<=DAYS_IN_YEAR[monthIndex]){params.month=monthIndex+1;if(monthIndex===0){params.day=yearDay;}else{params.day=yearDay-DAYS_IN_YEAR[monthIndex-1];}
break;}}}
return new PyRelativeDelta(params);}
static add(date,delta){if(!(date instanceof PyDate||date instanceof PyDateTime)){throw NotSupportedError();}
const s=tmxxx((delta.year||date.year)+delta.years,(delta.month||date.month)+delta.months,delta.day||date.day,delta.hour||date.hour||0,delta.minute||date.minute||0,delta.second||date.seconds||0,delta.microseconds||date.microseconds||0);const newDateTime=new PyDateTime(s.year,s.month,s.day,s.hour,s.minute,s.second,s.microsecond);let leapDays=0;if(delta.leapDays&&newDateTime.month>2&&isLeap(newDateTime.year)){leapDays=delta.leapDays;}
const temp=newDateTime.add(PyTimeDelta.create({days:delta.days+leapDays,hours:delta.hours,minutes:delta.minutes,seconds:delta.seconds,microseconds:delta.microseconds,}));const hasTime=Boolean(temp.hour||temp.minute||temp.second||temp.microsecond);const returnDate=!hasTime&&date instanceof PyDate?new PyDate(temp.year,temp.month,temp.day):temp;if(delta.weekday!==null){const wantedDow=delta.weekday+1;const _date=new Date(returnDate.year,returnDate.month-1,returnDate.day);const days=(7-_date.getDay()+wantedDow)%7;return returnDate.add(new PyTimeDelta(days,0,0));}
return returnDate;}
static substract(date,delta){return PyRelativeDelta.add(date,delta.negate());}
constructor(params={},sign=+1){this.years=sign*params.years;this.months=sign*params.months;this.days=sign*params.days;this.hours=sign*params.hours;this.minutes=sign*params.minutes;this.seconds=sign*params.seconds;this.microseconds=sign*params.microseconds;this.leapDays=params.leapDays;this.year=params.year;this.month=params.month;this.day=params.day;this.hour=params.hour;this.minute=params.minute;this.second=params.second;this.microsecond=params.microsecond;this.weekday=params.weekday;}
negate(){return new PyRelativeDelta(this,-1);}
isEqual(other){throw new NotSupportedError();}}
const TIME_DELTA_KEYS="weeks days hours minutes seconds milliseconds microseconds".split(" ");function modf(x){const mod=x%1;return[mod<0?mod+1:mod,Math.floor(x)];}
const PyTimeDelta=__exports.PyTimeDelta=class PyTimeDelta{static create(...args){const namedArgs=parseArgs(args,["days","seconds","microseconds"]);for(const key of TIME_DELTA_KEYS){namedArgs[key]=namedArgs[key]||0;}
let d=0;let s=0;let us=0;const days=namedArgs.days+namedArgs.weeks*7;let seconds=namedArgs.seconds+60*namedArgs.minutes+3600*namedArgs.hours;let microseconds=namedArgs.microseconds+1000*namedArgs.milliseconds;const[dFrac,dInt]=modf(days);d=dInt;let daysecondsfrac=0;if(dFrac){const[dsFrac,dsInt]=modf(dFrac*24*3600);s=dsInt;daysecondsfrac=dsFrac;}
const[sFrac,sInt]=modf(seconds);seconds=sInt;const secondsfrac=sFrac+daysecondsfrac;divmod(seconds,24*3600,(days,seconds)=>{d+=days;s+=seconds;});microseconds+=secondsfrac*1e6;divmod(microseconds,1000000,(seconds,microseconds)=>{divmod(seconds,24*3600,(days,seconds)=>{d+=days;s+=seconds;us+=Math.round(microseconds);});});return new PyTimeDelta(d,s,us);}
constructor(days,seconds,microseconds){this.days=days;this.seconds=seconds;this.microseconds=microseconds;}
add(other){return PyTimeDelta.create({days:this.days+other.days,seconds:this.seconds+other.seconds,microseconds:this.microseconds+other.microseconds,});}
divide(n){const us=(this.days*24*3600+this.seconds)*1e6+this.microseconds;return PyTimeDelta.create({microseconds:Math.floor(us/n)});}
isEqual(other){if(!(other instanceof PyTimeDelta)){return false;}
return(this.days===other.days&&this.seconds===other.seconds&&this.microseconds===other.microseconds);}
isTrue(){return this.days!==0||this.seconds!==0||this.microseconds!==0;}
multiply(n){return PyTimeDelta.create({days:n*this.days,seconds:n*this.seconds,microseconds:n*this.microseconds,});}
negate(){return PyTimeDelta.create({days:-this.days,seconds:-this.seconds,microseconds:-this.microseconds,});}
substract(other){return PyTimeDelta.create({days:this.days-other.days,seconds:this.seconds-other.seconds,microseconds:this.microseconds-other.microseconds,});}
total_seconds(){return this.days*86400+this.seconds+this.microseconds/1000000;}}
return __exports;});;

/* /web/static/src/core/py_js/py_interpreter.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/py_js/py_interpreter',async function(require){'use strict';let __exports={};const{BUILTINS}=require("@web/core/py_js/py_builtin");const{NotSupportedError,PyDate,PyDateTime,PyRelativeDelta,PyTime,PyTimeDelta,}=require("@web/core/py_js/py_date");const{parseArgs,PY_DICT,toPyDict}=require("@web/core/py_js/py_utils");const EvaluationError=__exports.EvaluationError=class EvaluationError extends Error{}
const isTrue=BUILTINS.bool;function applyUnaryOp(ast,context){const value=evaluate(ast.right,context);switch(ast.op){case"-":if(value instanceof Object&&value.negate){return value.negate();}
return-value;case"+":return value;case"not":return!isTrue(value);}
throw new EvaluationError(`Unknown unary operator: ${ast.op}`);}
function pytypeIndex(val){switch(typeof val){case"object":return val===null?1:Array.isArray(val)?5:3;case"number":return 2;case"string":return 4;}
throw new EvaluationError(`Unknown type: ${typeof val}`);}
function isConstructor(obj){return!!obj.prototype&&!!obj.prototype.constructor.name;}
function isLess(left,right){if(typeof left==="number"&&typeof right==="number"){return left<right;}
if(typeof left==="boolean"){left=left?1:0;}
if(typeof right==="boolean"){right=right?1:0;}
const leftIndex=pytypeIndex(left);const rightIndex=pytypeIndex(right);if(leftIndex===rightIndex){return left<right;}
return leftIndex<rightIndex;}
function isEqual(left,right){if(typeof left!==typeof right){if(typeof left==="boolean"&&typeof right==="number"){return right===(left?1:0);}
if(typeof left==="number"&&typeof right==="boolean"){return left===(right?1:0);}
return false;}
if(left instanceof Object&&left.isEqual){return left.isEqual(right);}
return left===right;}
function isIn(left,right){if(Array.isArray(right)){return right.includes(left);}
if(typeof right==="string"&&typeof left==="string"){return right.includes(left);}
return false;}
function applyBinaryOp(ast,context){const left=evaluate(ast.left,context);const right=evaluate(ast.right,context);switch(ast.op){case"+":{const relativeDeltaOnLeft=left instanceof PyRelativeDelta;const relativeDeltaOnRight=right instanceof PyRelativeDelta;if(relativeDeltaOnLeft||relativeDeltaOnRight){const date=relativeDeltaOnLeft?right:left;const delta=relativeDeltaOnLeft?left:right;return PyRelativeDelta.add(date,delta);}
const timeDeltaOnLeft=left instanceof PyTimeDelta;const timeDeltaOnRight=right instanceof PyTimeDelta;if(timeDeltaOnLeft&&timeDeltaOnRight){return left.add(right);}
if(timeDeltaOnLeft){if(right instanceof PyDate||right instanceof PyDateTime){return right.add(left);}else{throw NotSupportedError();}}
if(timeDeltaOnRight){if(left instanceof PyDate||left instanceof PyDateTime){return left.add(right);}else{throw NotSupportedError();}}
return left+right;}
case"-":{const isRightDelta=right instanceof PyRelativeDelta;if(isRightDelta){return PyRelativeDelta.substract(left,right);}
const timeDeltaOnRight=right instanceof PyTimeDelta;if(timeDeltaOnRight){if(left instanceof PyTimeDelta){return left.substract(right);}else if(left instanceof PyDate||left instanceof PyDateTime){return left.substract(right);}else{throw NotSupportedError();}}
if(left instanceof PyDate){return left.substract(right);}
return left-right;}
case"*":const timeDeltaOnLeft=left instanceof PyTimeDelta;const timeDeltaOnRight=right instanceof PyTimeDelta;if(timeDeltaOnLeft||timeDeltaOnRight){const number=timeDeltaOnLeft?right:left;const delta=timeDeltaOnLeft?left:right;return delta.multiply(number);}
return left*right;case"/":return left/right;case"%":return left%right;case"//":if(left instanceof PyTimeDelta){return left.divide(right);}
return Math.floor(left/right);case"**":return left**right;case"==":return isEqual(left,right);case"<>":case"!=":return!isEqual(left,right);case"<":return isLess(left,right);case">":return isLess(right,left);case">=":return isEqual(left,right)||isLess(right,left);case"<=":return isEqual(left,right)||isLess(left,right);case"in":return isIn(left,right);case"not in":return!isIn(left,right);}
throw new EvaluationError(`Unknown binary operator: ${ast.op}`);}
const DICT={get(dict){return(...args)=>{const{key,defValue}=parseArgs(args,["key","defValue"]);if(key in dict){return dict[key];}else if(defValue){return defValue;}
return null;};},};__exports.evaluate=evaluate;function evaluate(ast,context={}){const dicts=new Set();let pyContext;const evalContext=Object.create(context);Object.defineProperty(evalContext,"context",{get(){if(!pyContext){pyContext=toPyDict(context);}
return pyContext;},});function _evaluate(ast){switch(ast.type){case 0:case 1:return ast.value;case 5:if(ast.value in evalContext){return evalContext[ast.value];}else if(ast.value in BUILTINS){return BUILTINS[ast.value];}else{throw new EvaluationError(`Name '${ast.value}' is not defined`);}
case 3:return null;case 2:return ast.value;case 6:return applyUnaryOp(ast,evalContext);case 7:return applyBinaryOp(ast,evalContext);case 14:const left=_evaluate(ast.left);if(ast.op==="and"){return isTrue(left)?_evaluate(ast.right):left;}else{return isTrue(left)?left:_evaluate(ast.right);}
case 4:case 10:return ast.value.map(_evaluate);case 11:const dict={};for(let key in ast.value){dict[key]=_evaluate(ast.value[key]);}
dicts.add(dict);return dict;case 8:const fnValue=_evaluate(ast.fn);const args=ast.args.map(_evaluate);const kwargs={};for(let kwarg in ast.kwargs){kwargs[kwarg]=_evaluate(ast.kwargs[kwarg]);}
if(fnValue===PyDate||fnValue===PyDateTime||fnValue===PyTime||fnValue===PyRelativeDelta||fnValue===PyTimeDelta){return fnValue.create(...args,kwargs);}
return fnValue(...args,kwargs);case 12:{const dict=_evaluate(ast.target);const key=_evaluate(ast.key);return dict[key];}
case 13:{if(isTrue(_evaluate(ast.condition))){return _evaluate(ast.ifTrue);}else{return _evaluate(ast.ifFalse);}}
case 15:{const left=_evaluate(ast.obj);if(dicts.has(left)||Object.isPrototypeOf.call(PY_DICT,left)){return DICT[ast.key](left);}
const result=left[ast.key];if(typeof result==="function"&&!isConstructor(result)){return result.bind(left);}
return result;}}
throw new EvaluationError(`AST of type ${ast.type} cannot be evaluated`);}
return _evaluate(ast);}
return __exports;});;

/* /web/static/src/core/py_js/py_parser.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/py_js/py_parser',async function(require){'use strict';let __exports={};const{binaryOperators,comparators}=require("@web/core/py_js/py_tokenizer");const ParserError=__exports.ParserError=class ParserError extends Error{}
const chainedOperators=new Set(comparators);const infixOperators=new Set(binaryOperators.concat(comparators));__exports.bp=bp;function bp(symbol){switch(symbol){case"=":return 10;case"if":return 20;case"in":case"not in":case"is":case"is not":case"<":case"<=":case">":case">=":case"<>":case"==":case"!=":return 60;case"or":return 30;case"and":return 40;case"not":return 50;case"|":return 70;case"^":return 80;case"&":return 90;case"<<":case">>":return 100;case"+":case"-":return 110;case"*":case"/":case"//":case"%":return 120;case"**":return 140;case".":case"(":case"[":return 150;}
return 0;}
function bindingPower(token){return token.type===2?bp(token.value):0;}
function isSymbol(token,value){return token.type===2&&token.value===value;}
function parsePrefix(current,tokens){switch(current.type){case 0:return{type:0,value:current.value};case 1:return{type:1,value:current.value};case 4:if(current.value==="None"){return{type:3};}else{return{type:2,value:current.value==="True"};}
case 3:return{type:5,value:current.value};case 2:switch(current.value){case"-":case"+":case"~":return{type:6,op:current.value,right:_parse(tokens,130),};case"not":return{type:6,op:current.value,right:_parse(tokens,50),};case"(":const content=[];let isTuple=false;while(tokens[0]&&!isSymbol(tokens[0],")")){content.push(_parse(tokens,0));if(tokens[0]){if(tokens[0]&&isSymbol(tokens[0],",")){isTuple=true;tokens.shift();}else if(!isSymbol(tokens[0],")")){throw new ParserError("parsing error");}}else{throw new ParserError("parsing error");}}
if(!tokens[0]||!isSymbol(tokens[0],")")){throw new ParserError("parsing error");}
tokens.shift();isTuple=isTuple||content.length===0;return isTuple?{type:10,value:content}:content[0];case"[":const value=[];while(tokens[0]&&!isSymbol(tokens[0],"]")){value.push(_parse(tokens,0));if(tokens[0]){if(isSymbol(tokens[0],",")){tokens.shift();}else if(!isSymbol(tokens[0],"]")){throw new ParserError("parsing error");}}}
if(!tokens[0]||!isSymbol(tokens[0],"]")){throw new ParserError("parsing error");}
tokens.shift();return{type:4,value};case"{":{const dict={};while(tokens[0]&&!isSymbol(tokens[0],"}")){const key=_parse(tokens,0);if((key.type!==1&&key.type!==0)||!tokens[0]||!isSymbol(tokens[0],":")){throw new ParserError("parsing error");}
tokens.shift();const value=_parse(tokens,0);dict[key.value]=value;if(isSymbol(tokens[0],",")){tokens.shift();}}
if(!tokens.shift()){throw new ParserError("parsing error");}
return{type:11,value:dict};}}}
throw new ParserError("Token cannot be parsed");}
function parseInfix(left,current,tokens){switch(current.type){case 2:if(infixOperators.has(current.value)){let right=_parse(tokens,bindingPower(current));if(current.value==="and"||current.value==="or"){return{type:14,op:current.value,left,right,};}else if(current.value==="."){if(right.type===5){return{type:15,obj:left,key:right.value,};}else{throw new ParserError("invalid obj lookup");}}
let op={type:7,op:current.value,left,right,};while(chainedOperators.has(current.value)&&tokens[0]&&tokens[0].type===2&&chainedOperators.has(tokens[0].value)){const nextToken=tokens.shift();op={type:14,op:"and",left:op,right:{type:7,op:nextToken.value,left:right,right:_parse(tokens,bindingPower(nextToken)),},};right=op.right.right;}
return op;}
switch(current.value){case"(":const args=[];const kwargs={};while(tokens[0]&&!isSymbol(tokens[0],")")){const arg=_parse(tokens,0);if(arg.type===9){kwargs[arg.name.value]=arg.value;}else{args.push(arg);}
if(tokens[0]&&isSymbol(tokens[0],",")){tokens.shift();}}
if(!tokens[0]||!isSymbol(tokens[0],")")){throw new ParserError("parsing error");}
tokens.shift();return{type:8,fn:left,args,kwargs};case"=":if(left.type===5){return{type:9,name:left,value:_parse(tokens,10),};}
case"[":{const key=_parse(tokens);if(!tokens[0]||!isSymbol(tokens[0],"]")){throw new ParserError("parsing error");}
tokens.shift();return{type:12,target:left,key:key,};}
case"if":{const condition=_parse(tokens);if(!tokens[0]||!isSymbol(tokens[0],"else")){throw new ParserError("parsing error");}
tokens.shift();const ifFalse=_parse(tokens);return{type:13,condition,ifTrue:left,ifFalse,};}}}
throw new ParserError("Token cannot be parsed");}
function _parse(tokens,bp=0){const token=tokens.shift();let expr=parsePrefix(token,tokens);while(tokens[0]&&bindingPower(tokens[0])>bp){expr=parseInfix(expr,tokens.shift(),tokens);}
return expr;}
__exports.parse=parse;function parse(tokens){if(tokens.length){return _parse(tokens,0);}
throw new ParserError("Missing token");}
return __exports;});;

/* /web/static/src/core/py_js/py_tokenizer.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/py_js/py_tokenizer',async function(require){'use strict';let __exports={};const TokenizerError=__exports.TokenizerError=class TokenizerError extends Error{}
const directMap={"\\":"\\",'"':'"',"'":"'",a:"\x07",b:"\x08",f:"\x0c",n:"\n",r:"\r",t:"\t",v:"\v",};function decodeStringLiteral(str,unicode){let out=[];let code;for(var i=0;i<str.length;++i){if(str[i]!=="\\"){out.push(str[i]);continue;}
var escape=str[i+1];if(escape in directMap){out.push(directMap[escape]);++i;continue;}
switch(escape){case"\n":++i;continue;case"N":if(!unicode){break;}
throw new TokenizerError("SyntaxError: \\N{} escape not implemented");case"u":if(!unicode){break;}
var uni=str.slice(i+2,i+6);if(!/[0-9a-f]{4}/i.test(uni)){throw new TokenizerError(["SyntaxError: (unicode error) 'unicodeescape' codec"," can't decode bytes in position ",i,"-",i+4,": truncated \\uXXXX escape",].join(""));}
code=parseInt(uni,16);out.push(String.fromCharCode(code));i+=5;continue;case"U":if(!unicode){break;}
throw new TokenizerError("SyntaxError: \\U escape not implemented");case"x":var hex=str.slice(i+2,i+4);if(!/[0-9a-f]{2}/i.test(hex)){if(!unicode){throw new TokenizerError("ValueError: invalid \\x escape");}
throw new TokenizerError(["SyntaxError: (unicode error) 'unicodeescape'"," codec can't decode bytes in position ",i,"-",i+2,": truncated \\xXX escape",].join(""));}
code=parseInt(hex,16);out.push(String.fromCharCode(code));i+=3;continue;default:if(!/[0-8]/.test(escape)){break;}
var r=/[0-8]{1,3}/g;r.lastIndex=i+1;var m=r.exec(str);var oct=m[0];code=parseInt(oct,8);out.push(String.fromCharCode(code));i+=oct.length;continue;}
out.push("\\");}
return out.join("");}
const constants=new Set(["None","False","True"]);const comparators=__exports.comparators=["in","not","not in","is","is not","<","<=",">",">=","<>","!=","==",];const binaryOperators=__exports.binaryOperators=["or","and","|","^","&","<<",">>","+","-","*","/","//","%","~","**",".",];const unaryOperators=__exports.unaryOperators=["-"];const symbols=new Set([...["(",")","[","]","{","}",":",","],...["if","else","lambda","="],...comparators,...binaryOperators,...unaryOperators,]);function group(...args){return"("+args.join("|")+")";}
const Name="[a-zA-Z_]\\w*";const Whitespace="[ \\f\\t]*";const DecNumber="\\d+(L|l)?";const IntNumber=DecNumber;const PointFloat=group("\\d+\\.\\d*","\\.\\d+");const FloatNumber=PointFloat;const Number=group(FloatNumber,IntNumber);const Operator=group("\\*\\*=?",">>=?","<<=?","<>","!=","//=?","[+\\-*/%&|^=<>]=?","~");const Bracket="[\\[\\]\\(\\)\\{\\}]";const Special="[:;.,`@]";const Funny=group(Operator,Bracket,Special);const ContStr=group("([uU])?'([^\n'\\\\]*(?:\\\\.[^\n'\\\\]*)*)'",'([uU])?"([^\n"\\\\]*(?:\\\\.[^\n"\\\\]*)*)"');const PseudoToken=Whitespace+group(Number,Funny,ContStr,Name);const NumberPattern=new RegExp("^"+Number+"$");const StringPattern=new RegExp("^"+ContStr+"$");const NamePattern=new RegExp("^"+Name+"$");const strip=new RegExp("^"+Whitespace);__exports.tokenize=tokenize;function tokenize(str){const tokens=[];let max=str.length;let start=0;let end=0;const pseudoprog=new RegExp(PseudoToken,"g");while(pseudoprog.lastIndex<max){const pseudomatch=pseudoprog.exec(str);if(!pseudomatch){if(/^\s+$/.test(str.slice(end))){break;}
throw new TokenizerError("Failed to tokenize <<"+
str+">> at index "+
(end||0)+"; parsed so far: "+
tokens);}
if(pseudomatch.index>end){if(str.slice(end,pseudomatch.index).trim()){throw new TokenizerError("Invalid expression");}}
start=pseudomatch.index;end=pseudoprog.lastIndex;let token=str.slice(start,end).replace(strip,"");if(NumberPattern.test(token)){tokens.push({type:0,value:parseFloat(token),});}else if(StringPattern.test(token)){var m=StringPattern.exec(token);tokens.push({type:1,value:decodeStringLiteral(m[3]!==undefined?m[3]:m[5],!!(m[2]||m[4])),});}else if(symbols.has(token)){if(token==="in"&&tokens.length>0&&tokens[tokens.length-1].value==="not"){token="not in";tokens.pop();}else if(token==="not"&&tokens.length>0&&tokens[tokens.length-1].value==="is"){token="is not";tokens.pop();}
tokens.push({type:2,value:token,});}else if(constants.has(token)){tokens.push({type:4,value:token,});}else if(NamePattern.test(token)){tokens.push({type:3,value:token,});}else{throw new TokenizerError("Invalid expression");}}
return tokens;}
return __exports;});;

/* /web/static/src/core/py_js/py_utils.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/py_js/py_utils',async function(require){'use strict';let __exports={};const{bp}=require("@web/core/py_js/py_parser");__exports.parseArgs=parseArgs;function parseArgs(args,spec){const last=args[args.length-1];const unnamedArgs=typeof last==="object"?args.slice(0,-1):args;const kwargs=typeof last==="object"?last:{};for(let[index,val]of unnamedArgs.entries()){kwargs[spec[index]]=val;}
return kwargs;}
__exports.toPyValue=toPyValue;function toPyValue(value){switch(typeof value){case"string":return{type:1,value};case"number":return{type:0,value};case"boolean":return{type:2,value};case"object":if(Array.isArray(value)){return{type:4,value:value.map(toPyValue)};}else if(value===null){return{type:3};}else{const content={};for(let key in value){content[key]=toPyValue(value[key]);}
return{type:11,value:content};}
default:throw new Error("Invalid type");}}
__exports.formatAST=formatAST;function formatAST(ast,lbp=0){switch(ast.type){case 3:return"None";case 1:return JSON.stringify(ast.value);case 0:return String(ast.value);case 2:return ast.value?"True":"False";case 4:return`[${ast.value.map(formatAST).join(", ")}]`;case 6:if(ast.op==="not"){return`not `+formatAST(ast.right,50);}
return ast.op+formatAST(ast.right,130);case 7:{const abp=bp(ast.op);const str=`${formatAST(ast.left, abp)} ${ast.op} ${formatAST(ast.right, abp)}`;return abp<lbp?`(${str})`:str;}
case 11:{const pairs=[];for(let k in ast.value){pairs.push(`"${k}": ${formatAST(ast.value[k])}`);}
return`{`+pairs.join(", ")+`}`;}
case 10:return`(${ast.value.map(formatAST).join(", ")})`;case 5:return ast.value;case 12:{return`${formatAST(ast.target)}[${formatAST(ast.key)}]`;}
case 13:{const{ifTrue,condition,ifFalse}=ast;return`${formatAST(ifTrue)} if ${formatAST(condition)} else ${formatAST(ifFalse)}`;}
case 14:{const abp=bp(ast.op);const str=`${formatAST(ast.left, abp)} ${ast.op} ${formatAST(ast.right, abp)}`;return abp<lbp?`(${str})`:str;}
case 15:return`${formatAST(ast.obj, 150)}.${ast.key}`;case 8:{const args=ast.args.map(formatAST);const kwargs=[];for(let kwarg in ast.kwargs){kwargs.push(`${kwarg} = ${formatAST(ast.kwargs[kwarg])}`);}
const argStr=args.concat(kwargs).join(", ");return`${formatAST(ast.fn)}(${argStr})`;}}
throw new Error("invalid expression: "+ast);}
const PY_DICT=__exports.PY_DICT=Object.create(null);__exports.toPyDict=toPyDict;function toPyDict(obj){const result=Object.create(PY_DICT);return Object.assign(result,obj);}
return __exports;});;

/* /web/static/src/core/registry.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/registry',async function(require){'use strict';let __exports={};const{core}=owl;const{EventBus}=core;const KeyNotFoundError=__exports.KeyNotFoundError=class KeyNotFoundError extends Error{}
const DuplicatedKeyError=__exports.DuplicatedKeyError=class DuplicatedKeyError extends Error{}
const Registry=__exports.Registry=class Registry extends EventBus{constructor(){super();this.content={};this.subRegistries={};this.elements=null;this.entries=null;this.on("UPDATE",this,()=>{this.elements=null;this.entries=null;});}
add(key,value,{force,sequence}={}){if(!force&&key in this.content){throw new DuplicatedKeyError(`Cannot add '${key}' in this registry: it already exists`);}
let previousSequence;if(force){const elem=this.content[key];previousSequence=elem&&elem[0];}
sequence=sequence===undefined?previousSequence||50:sequence;this.content[key]=[sequence,value];const payload={operation:"add",key,value};this.trigger("UPDATE",payload);return this;}
get(key,defaultValue){if(arguments.length<2&&!(key in this.content)){throw new KeyNotFoundError(`Cannot find ${key} in this registry!`);}
const info=this.content[key];return info?info[1]:defaultValue;}
contains(key){return key in this.content;}
getAll(){if(!this.elements){const content=Object.values(this.content).sort((el1,el2)=>el1[0]-el2[0]);this.elements=content.map((elem)=>elem[1]);}
return this.elements;}
getEntries(){if(!this.entries){const entries=Object.entries(this.content).sort((el1,el2)=>el1[1][0]-el2[1][0]);this.entries=entries.map(([str,elem])=>[str,elem[1]]);}
return this.entries;}
remove(key){const value=this.content[key];delete this.content[key];const payload={operation:"delete",key,value};this.trigger("UPDATE",payload);}
category(subcategory){if(!(subcategory in this.subRegistries)){this.subRegistries[subcategory]=new Registry();}
return this.subRegistries[subcategory];}}
const registry=__exports.registry=new Registry();return __exports;});;

/* /web/static/src/core/scroller_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/scroller_service',async function(require){'use strict';let __exports={};const{browser}=require("@web/core/browser/browser");const{registry}=require("@web/core/registry");const{scrollTo}=require("@web/core/utils/scrolling");const scrollerService=__exports.scrollerService={start(env){browser.addEventListener("click",(ev)=>{const link=ev.target.closest("a");if(!link){return;}
const disableAnchor=link.attributes.getNamedItem("disable_anchor");if(disableAnchor&&disableAnchor.value==="true"){return;}
const href=link.attributes.getNamedItem("href");if(href){if(href.value[0]==="#"){if(href.value.length===1){ev.preventDefault();return;}
let matchingEl=null;try{matchingEl=document.querySelector(`.o_content #${href.value.substr(1)}`);}catch(e){}
const triggerEv=new CustomEvent("anchor-link-clicked",{detail:{element:matchingEl,id:href.value,originalEv:ev,},});env.bus.trigger("SCROLLER:ANCHOR_LINK_CLICKED",triggerEv);if(matchingEl&&!triggerEv.defaultPrevented){ev.preventDefault();scrollTo(matchingEl,{isAnchor:true});}}}});},};registry.category("services").add("scroller",scrollerService);return __exports;});;

/* /web/static/src/core/tooltip/tooltip.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/tooltip/tooltip',async function(require){'use strict';let __exports={};const{Component}=owl;const Tooltip=__exports.Tooltip=class Tooltip extends Component{}
Tooltip.template="web.Tooltip";Tooltip.props={tooltip:{type:String,optional:true},template:{type:String,optional:true},info:{optional:true},};return __exports;});;

/* /web/static/src/core/tooltip/tooltip_hook.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/tooltip/tooltip_hook',async function(require){'use strict';let __exports={};const{browser}=require("@web/core/browser/browser");const{useEffect,useListener}=require("@web/core/utils/hooks");const{usePopover}=require("@web/core/popover/popover_hook");const{Tooltip}=require("@web/core/tooltip/tooltip");const OPEN_DELAY=400;const CLOSE_DELAY=200;__exports.useTooltip=useTooltip;function useTooltip(){const popover=usePopover();let openTooltipTimeout;let closeTooltip;let target=null;function cleanup(){browser.clearTimeout(openTooltipTimeout);if(closeTooltip){closeTooltip();}}
function onMouseEnter(ev){const dataset=ev.target.dataset;const tooltip=dataset.tooltip;let template,info;if("tooltipTemplate"in dataset){template=dataset.tooltipTemplate;info=dataset.tooltipInfo?JSON.parse(dataset.tooltipInfo):null;}
if(tooltip||template){cleanup();target=ev.target;openTooltipTimeout=browser.setTimeout(()=>{const position=dataset.tooltipPosition;closeTooltip=popover.add(target,Tooltip,{tooltip,template,info},{position});},OPEN_DELAY);}}
let positionX;let positionY;useListener("mousemove",(ev)=>{positionX=ev.x;positionY=ev.y;});useEffect(()=>{const interval=browser.setInterval(()=>{if(!target){return;}
if(!document.body.contains(target)){return cleanup();}
const targetRect=target.getBoundingClientRect();if(positionX<targetRect.left||positionX>targetRect.right||positionY<targetRect.top||positionY>targetRect.bottom){return cleanup();}},CLOSE_DELAY);return()=>browser.clearInterval(interval);},()=>[]);const selector="[data-tooltip], [data-tooltip-template]";useListener("mouseenter",selector,onMouseEnter,{capture:true});}
return __exports;});;

/* /web/static/src/core/ui/block_ui.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/ui/block_ui',async function(require){'use strict';let __exports={};const{browser}=require("@web/core/browser/browser");const{Component,tags,useState}=owl;const BlockUI=__exports.BlockUI=class BlockUI extends Component{setup(){this.messagesByDuration=[{time:20,l1:this.env._t("Loading...")},{time:40,l1:this.env._t("Still loading...")},{time:60,l1:this.env._t("Still loading..."),l2:this.env._t("Please be patient."),},{time:180,l1:this.env._t("Don't leave yet,"),l2:this.env._t("it's still loading..."),},{time:120,l1:this.env._t("You may not believe it,"),l2:this.env._t("but the application is actually loading..."),},{time:3180,l1:this.env._t("Take a minute to get a coffee,"),l2:this.env._t("because it's loading..."),},{time:null,l1:this.env._t("Maybe you should consider reloading the application by pressing F5..."),},];this.state=useState({blockUI:false,line1:"",line2:"",});this.props.bus.on("BLOCK",this,this.block);this.props.bus.on("UNBLOCK",this,this.unblock);}
replaceMessage(index){const message=this.messagesByDuration[index];this.state.line1=message.l1;this.state.line2=message.l2||"";if(message.time!==null){this.msgTimer=browser.setTimeout(()=>{this.replaceMessage(index+1);},message.time*1000);}}
block(){this.state.blockUI=true;this.replaceMessage(0);}
unblock(){this.state.blockUI=false;clearTimeout(this.msgTimer);this.state.line1="";this.state.line2="";}}
BlockUI.template=tags.xml`
    <div t-att-class="state.blockUI ? 'o_blockUI' : ''">
      <t t-if="state.blockUI">
        <div class="o_spinner">
            <img src="/web/static/img/spin.png" alt="Loading..."/>
        </div>
        <div class="o_message">
            <t t-raw="state.line1"/> <br/>
            <t t-raw="state.line2"/>
        </div>
      </t>
    </div>`;return __exports;});;

/* /web/static/src/core/ui/ui_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/ui/ui_service',async function(require){'use strict';let __exports={};const{useEffect,useService}=require("@web/core/utils/hooks");const{registry}=require("@web/core/registry");const{debounce}=require("@web/core/utils/timing");const{BlockUI}=require("@web/core/ui/block_ui");const{browser}=require("@web/core/browser/browser");const{Component,core,hooks}=owl;const{EventBus}=core;const{useRef}=hooks;const SIZES=__exports.SIZES={XS:0,VSM:1,SM:2,MD:3,LG:4,XL:5,XXL:6};__exports.useActiveElement=useActiveElement;function useActiveElement(refName=null){const uiService=useService("ui");const owner=refName?useRef(refName):Component.current;useEffect(()=>{uiService.activateElement(owner.el);return()=>uiService.deactivateElement(owner.el);},()=>[]);}
const uiService=__exports.uiService={start(env){let ui={};const bus=new EventBus();registry.category("main_components").add("BlockUI",{Component:BlockUI,props:{bus}});let blockCount=0;function block(){blockCount++;if(blockCount===1){bus.trigger("BLOCK");}}
function unblock(){blockCount--;if(blockCount<0){console.warn("Unblock ui was called more times than block, you should only unblock the UI if you have previously blocked it.");blockCount=0;}
if(blockCount===0){bus.trigger("UNBLOCK");}}
Object.assign(ui,{bus,block,unblock,});Object.defineProperty(ui,"isBlocked",{get(){return blockCount>0;},});let activeElems=[document];function activateElement(el){activeElems.push(el);bus.trigger("active-element-changed",el);}
function deactivateElement(el){activeElems=activeElems.filter((x)=>x!==el);bus.trigger("active-element-changed",ui.activeElement);}
function getActiveElementOf(el){for(const activeElement of[...activeElems].reverse()){if(activeElement.contains(el)){return activeElement;}}}
Object.assign(ui,{activateElement,deactivateElement,getActiveElementOf,});Object.defineProperty(ui,"activeElement",{get(){return activeElems[activeElems.length-1];},});const MEDIAS=[window.matchMedia("(max-width: 474px)"),window.matchMedia("(min-width: 475px) and (max-width: 575px)"),window.matchMedia("(min-width: 576px) and (max-width: 767px)"),window.matchMedia("(min-width: 768px) and (max-width: 991px)"),window.matchMedia("(min-width: 992px) and (max-width: 1199px)"),window.matchMedia("(min-width: 1200px) and (max-width: 1533px)"),window.matchMedia("(min-width: 1534px)"),];function getSize(){return MEDIAS.findIndex((media)=>media.matches);}
function updateSize(){ui.size=getSize();}
browser.addEventListener("resize",debounce(updateSize,100));Object.assign(ui,{size:getSize(),});Object.defineProperty(ui,"isSmall",{get(){return ui.size<=SIZES.SM;},});Object.defineProperty(env,"isSmall",{get(){return ui.size<=SIZES.SM;},});return ui;},};registry.category("services").add("ui",uiService);return __exports;});;

/* /web/static/src/core/user_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/user_service',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{session}=require("@web/session");const userService=__exports.userService={dependencies:["rpc"],async:["hasGroup"],start(env,{rpc}){const groupProms={};const context={...session.user_context,uid:session.uid,};return{get context(){return Object.assign({},context);},removeFromContext(key){delete context[key];},updateContext(update){Object.assign(context,update);},hasGroup(group){if(!context.uid){return Promise.resolve(false);}
if(!groupProms[group]){groupProms[group]=rpc("/web/dataset/call_kw/res.users/has_group",{model:"res.users",method:"has_group",args:[group],kwargs:{context},});}
return groupProms[group];},name:session.name,userName:session.username,isAdmin:session.is_admin,isSystem:session.is_system,partnerId:session.partner_id,home_action_id:session.home_action_id,showEffect:session.show_effect,get userId(){return context.uid;},get lang(){return context.lang;},get tz(){return context.tz;},get db(){const res={name:session.db,};if("dbuuid"in session){res.uuid=session.dbuuid;}
return res;},};},};registry.category("services").add("user",userService);return __exports;});;

/* /web/static/src/core/utils/arrays.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/utils/arrays',async function(require){'use strict';let __exports={};function _cartesian(){const args=Array.prototype.slice.call(arguments);if(args.length===0){return[undefined];}
const firstArray=args[0].map(function(elem){return[elem];});if(args.length===1){return firstArray;}
const productOfOtherArrays=_cartesian.apply(null,args.slice(1));return firstArray.reduce(function(acc,elem){return acc.concat(productOfOtherArrays.map(function(tuple){return elem.concat(tuple);}));},[]);}
function _getExtractorFrom(criterion){if(criterion){switch(typeof criterion){case"string":return(element)=>element[criterion];case"function":return criterion;default:throw new Error(`Expected criterion of type 'string' or 'function' and got '${typeof criterion}'`);}}else{return(element)=>element;}}
__exports.groupBy=groupBy;function groupBy(array,criterion){const extract=_getExtractorFrom(criterion);const groups={};for(const element of array){const group=String(extract(element));if(!(group in groups)){groups[group]=[];}
groups[group].push(element);}
return groups;}
__exports.sortBy=sortBy;function sortBy(array,criterion,order="asc"){const extract=_getExtractorFrom(criterion);return array.slice().sort((elA,elB)=>{const a=extract(elA);const b=extract(elB);let result;if(isNaN(a)&&isNaN(b)){result=a>b?1:a<b?-1:0;}else{result=a-b;}
return order==="asc"?result:-result;});}
__exports.symmetricalDifference=symmetricalDifference;function symmetricalDifference(arrayA,arrayB){return arrayA.filter((id)=>!arrayB.includes(id)).concat(arrayB.filter((id)=>!arrayA.includes(id)));}
__exports.cartesian=cartesian;function cartesian(){const args=Array.prototype.slice.call(arguments);if(args.length===0){return[undefined];}else if(args.length===1){return args[0];}else{return _cartesian.apply(null,args);}}
__exports.sections=sections;function sections(array){const sections=[];for(let i=0;i<array.length+1;i++){sections.push(array.slice(0,i));}
return sections;}
return __exports;});;

/* /web/static/src/core/utils/components.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/utils/components',async function(require){'use strict';let __exports={};const{Component,tags}=owl;const NotUpdatable=__exports.NotUpdatable=class NotUpdatable extends Component{shouldUpdate(){return false;}}
NotUpdatable.template=tags.xml`<t t-slot="default" />`;const ErrorHandler=__exports.ErrorHandler=class ErrorHandler extends Component{catchError(error){if(this.props.onError){this.props.onError(error);}}}
ErrorHandler.template=tags.xml`<t t-slot="default" />`;return __exports;});;

/* /web/static/src/core/utils/concurrency.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/utils/concurrency',async function(require){'use strict';let __exports={};const KeepLast=__exports.KeepLast=class KeepLast{constructor(){this._id=0;}
add(promise){this._id++;const currentId=this._id;return new Promise((resolve,reject)=>{promise.then((value)=>{if(this._id===currentId){resolve(value);}}).catch((reason)=>{if(this._id===currentId){reject(reason);}});});}}
const Mutex=__exports.Mutex=class Mutex{constructor(){this._lock=Promise.resolve();this._queueSize=0;this._unlockedProm=undefined;this._unlock=undefined;}
async exec(action){const currentLock=this._lock;let result;this._queueSize++;this._unlockedProm=this._unlockedProm||new Promise((resolve)=>{this._unlock=resolve;});this._lock=new Promise((unlockCurrent)=>{currentLock.then(()=>{result=action();const always=(returnedResult)=>{unlockCurrent();this._queueSize--;if(this._queueSize===0){this._unlockedProm=undefined;this._unlock();}
return returnedResult;};Promise.resolve(result).then(always).guardedCatch(always);});});await this._lock;return result;}
getUnlockedDef(){return this._unlockedProm||Promise.resolve();}}
const Race=__exports.Race=class Race{constructor(){this.currentProm=null;this.currentPromResolver=null;}
add(promise){if(!this.currentProm){this.currentProm=new Promise((resolve)=>{this.currentPromResolver=(value)=>{this.currentProm=null;this.currentPromResolver=null;resolve(value);};});}
promise.then(this.currentPromResolver);return this.currentProm;}
getCurrentProm(){return this.currentProm;}}
return __exports;});;

/* /web/static/src/core/utils/functions.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/utils/functions',async function(require){'use strict';let __exports={};__exports.memoize=memoize;function memoize(func){const cache=new Map();const funcName=func.name?func.name+" (memoized)":"memoized";return{[funcName](...args){if(!cache.has(args[0])){cache.set(args[0],func(...args));}
return cache.get(...args);},}[funcName];}
return __exports;});;

/* /web/static/src/core/utils/hooks.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/utils/hooks',async function(require){'use strict';let __exports={};const{SERVICES_METADATA}=require("@web/env");const{onMounted,onWillPatch,onPatched,onWillUnmount,useComponent}=owl.hooks;__exports.useAutofocus=useAutofocus;function useAutofocus(params={}){const comp=useComponent();if(comp.env.isSmall){return()=>{};}
const selector=params.selector||"[autofocus]";let forceFocusCount=0;useEffect(function autofocus(){const target=comp.el.querySelector(selector);if(target){target.focus();if(["INPUT","TEXTAREA"].includes(target.tagName)){const inputEl=target;inputEl.selectionStart=inputEl.selectionEnd=inputEl.value.length;}}},()=>[forceFocusCount]);return function focusOnUpdate(){forceFocusCount++;};}
__exports.useBus=useBus;function useBus(bus,eventName,callback){const component=useComponent();useEffect(()=>{bus.on(eventName,component,callback);return()=>bus.off(eventName,component);},()=>[]);}
const NO_OP=()=>{};__exports.useEffect=useEffect;function useEffect(effect,computeDependencies=()=>[NaN]){let cleanup,dependencies;onMounted(()=>{dependencies=computeDependencies();cleanup=effect(...dependencies)||NO_OP;});let shouldReapplyOnPatch=false;onWillPatch(()=>{const newDeps=computeDependencies();shouldReapplyOnPatch=newDeps.some((val,i)=>val!==dependencies[i]);if(shouldReapplyOnPatch){cleanup();dependencies=newDeps;}});onPatched(()=>{if(shouldReapplyOnPatch){cleanup=effect(...dependencies)||NO_OP;}});onWillUnmount(()=>cleanup());}
__exports.useListener=useListener;function useListener(eventName,querySelector,handler,options={}){if(typeof arguments[1]!=="string"){querySelector=null;handler=arguments[1];options=arguments[2]||{};}
if(typeof handler!=="function"){throw new Error("The handler must be a function");}
const comp=useComponent();let boundHandler;if(querySelector){boundHandler=function(ev){let el=ev.target;let target;while(el&&!target){if(el.matches(querySelector)){target=el;}else if(el===comp.el){el=null;}else{el=el.parentElement;}}
if(el){handler.call(comp,ev);}};}else{boundHandler=handler.bind(comp);}
useEffect(()=>{comp.el.addEventListener(eventName,boundHandler,options);return()=>{comp.el.removeEventListener(eventName,boundHandler,options);};},()=>[]);}
function _protectMethod(component,caller,fn){return async(...args)=>{if(component.__owl__.status===5){throw new Error("Component is destroyed");}
const result=await fn.call(caller,...args);return component.__owl__.status===5?new Promise(()=>{}):result;};}
__exports.useService=useService;function useService(serviceName){const component=useComponent();const{services}=component.env;if(!(serviceName in services)){throw new Error(`Service ${serviceName} is not available`);}
const service=services[serviceName];if(serviceName in SERVICES_METADATA){if(service instanceof Function){return _protectMethod(component,null,service);}else{const methods=SERVICES_METADATA[serviceName];const result=Object.create(service);for(let method of methods){result[method]=_protectMethod(component,service,service[method]);}
return result;}}
return service;}
__exports.onDestroyed=onDestroyed;function onDestroyed(callback){const component=useComponent();const _destroy=component.__destroy;component.__destroy=(...args)=>{_destroy.call(component,...args);callback();};}
return __exports;});;

/* /web/static/src/core/utils/numbers.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/utils/numbers',async function(require){'use strict';let __exports={};__exports.computeVariation=computeVariation;function computeVariation(value,comparisonValue){if(isNaN(value)||isNaN(comparisonValue)){return NaN;}
if(comparisonValue===0){if(value===0){return 0;}else if(value>0){return 1;}else{return-1;}}
return(value-comparisonValue)/Math.abs(comparisonValue);}
return __exports;});;

/* /web/static/src/core/utils/objects.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/utils/objects',async function(require){'use strict';let __exports={};__exports.shallowEqual=shallowEqual;function shallowEqual(obj1,obj2){const obj1Keys=Object.keys(obj1);return(obj1Keys.length===Object.keys(obj2).length&&obj1Keys.every((key)=>obj1[key]===obj2[key]));}
__exports.deepCopy=deepCopy;function deepCopy(obj){return JSON.parse(JSON.stringify(obj));}
return __exports;});;

/* /web/static/src/core/utils/patch.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/utils/patch',async function(require){'use strict';let __exports={};const patchMap=new WeakMap();__exports.patch=patch;function patch(obj,patchName,patchValue,options={}){const pure=Boolean(options.pure);if(!patchMap.has(obj)){patchMap.set(obj,{original:{},patches:[],});}
const objDesc=patchMap.get(obj);if(objDesc.patches.some((p)=>p.name===patchName)){throw new Error(`Class ${obj.name} already has a patch ${patchName}`);}
objDesc.patches.push({name:patchName,patch:patchValue,pure,});for(const k in patchValue){let prevDesc=null;let proto=obj;do{prevDesc=Object.getOwnPropertyDescriptor(proto,k);proto=Object.getPrototypeOf(proto);}while(!prevDesc&&proto);const newDesc=Object.getOwnPropertyDescriptor(patchValue,k);if(!objDesc.original.hasOwnProperty(k)){objDesc.original[k]=Object.getOwnPropertyDescriptor(obj,k);}
if(prevDesc){const patchedFnName=`${k} (patch ${patchName})`;if(prevDesc.value&&typeof newDesc.value==="function"){makeIntermediateFunction("value",prevDesc,newDesc,patchedFnName);}
if((newDesc.get||newDesc.set)&&(prevDesc.get||prevDesc.set)){newDesc.get=newDesc.get||prevDesc.get;newDesc.set=newDesc.set||prevDesc.set;if(prevDesc.get&&typeof newDesc.get==="function"){makeIntermediateFunction("get",prevDesc,newDesc,patchedFnName);}
if(prevDesc.set&&typeof newDesc.set==="function"){makeIntermediateFunction("set",prevDesc,newDesc,patchedFnName);}}}
Object.defineProperty(obj,k,newDesc);}
function makeIntermediateFunction(key,prevDesc,newDesc,patchedFnName){const _superFn=prevDesc[key];const patchFn=newDesc[key];if(pure){newDesc[key]=patchFn;}else{newDesc[key]={[patchedFnName](...args){let prevSuper;if(this){prevSuper=this._super;Object.defineProperty(this,"_super",{value:_superFn.bind(this),configurable:true,writable:true,});}
const result=patchFn.call(this,...args);if(this){Object.defineProperty(this,"_super",{value:prevSuper,configurable:true,writable:true,});}
return result;},}[patchedFnName];}}}
__exports.unpatch=unpatch;function unpatch(obj,patchName){const objDesc=patchMap.get(obj);if(!objDesc.patches.some((p)=>p.name===patchName)){throw new Error(`Class ${obj.name} does not have any patch ${patchName}`);}
patchMap.delete(obj);for(const k in objDesc.original){if(objDesc.original[k]===undefined){delete obj[k];}else{Object.defineProperty(obj,k,objDesc.original[k]);}}
for(const patchDesc of objDesc.patches){if(patchDesc.name!==patchName){patch(obj,patchDesc.name,patchDesc.patch,{pure:patchDesc.pure});}}}
return __exports;});;

/* /web/static/src/core/utils/scrolling.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/utils/scrolling',async function(require){'use strict';let __exports={};__exports.scrollTo=scrollTo;function scrollTo(element,options={scrollable:null,isAnchor:false}){function _getScrollParent(node){if(node==null){return null;}
if(node.scrollHeight>node.clientHeight&&node.clientHeight>0){return node;}else{return _getScrollParent(node.parentNode);}}
const scrollable=options.scrollable?options.scrollable:_getScrollParent(element.parentNode);if(scrollable){const scrollBottom=scrollable.getBoundingClientRect().bottom;const scrollTop=scrollable.getBoundingClientRect().top;const elementBottom=element.getBoundingClientRect().bottom;const elementTop=element.getBoundingClientRect().top;if(elementBottom>scrollBottom&&!options.isAnchor){scrollable.scrollTop+=elementTop-scrollBottom+element.getBoundingClientRect().height;}else if(elementTop<scrollTop||options.isAnchor){scrollable.scrollTop-=scrollTop-elementTop;if(options.isAnchor){const parentScrollable=_getScrollParent(scrollable.parentNode);if(parentScrollable){scrollTo(scrollable,{isAnchor:true,scrollable:parentScrollable});}}}}}
function getScrollableElement(component){if(component.env.isSmall){return document.firstElementChild;}else{return component.el.querySelector(".o_action_manager .o_content");}}
__exports.getScrollPosition=getScrollPosition;function getScrollPosition(component){const scrollingEl=getScrollableElement(component);return{left:scrollingEl?scrollingEl.scrollLeft:0,top:scrollingEl?scrollingEl.scrollTop:0,};}
__exports.setScrollPosition=setScrollPosition;function setScrollPosition(component,offset){const scrollingEl=getScrollableElement(component);if(scrollingEl){scrollingEl.scrollLeft=offset.left||0;scrollingEl.scrollTop=offset.top||0;}}
return __exports;});;

/* /web/static/src/core/utils/search.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/utils/search',async function(require){'use strict';let __exports={};const{unaccent}=require("@web/core/utils/strings");function match(pattern,str){let totalScore=0;let currentScore=0;let len=str.length;let patternIndex=0;pattern=unaccent(pattern,false);str=unaccent(str,false);for(let i=0;i<len;i++){if(str[i]===pattern[patternIndex]){patternIndex++;currentScore+=100+currentScore-i/200;}else{currentScore=0;}
totalScore=totalScore+currentScore;}
return patternIndex===pattern.length?totalScore:0;}
__exports.fuzzyLookup=fuzzyLookup;function fuzzyLookup(pattern,list,fn){const results=[];list.forEach((data)=>{const score=match(pattern,fn(data));if(score>0){results.push({score,elem:data});}});results.sort((a,b)=>b.score-a.score);return results.map((r)=>r.elem);}
__exports.fuzzyTest=fuzzyTest;function fuzzyTest(pattern,string){return match(pattern,string)!==0;}
return __exports;});;

/* /web/static/src/core/utils/strings.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/utils/strings',async function(require){'use strict';let __exports={};__exports.escapeRegExp=escapeRegExp;function escapeRegExp(str){return str.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");}
__exports.intersperse=intersperse;function intersperse(str,indices,separator=""){separator=separator||"";const result=[];let last=str.length;for(let i=0;i<indices.length;++i){let section=indices[i];if(section===-1||last<=0){break;}else if(section===0&&i===0){break;}else if(section===0){section=indices[--i];}
result.push(str.substring(last-section,last));last-=section;}
const s=str.substring(0,last);if(s){result.push(s);}
return result.reverse().join(separator);}
__exports.sprintf=sprintf;function sprintf(s,...values){if(values.length===1&&Object.prototype.toString.call(values[0])==="[object Object]"){const valuesDict=values[0];s=s.replace(/\%\(?([^\)]+)\)s/g,(match,value)=>valuesDict[value]);}else if(values.length>0){s=s.replace(/\%s/g,()=>values.shift());}
return s;}
__exports.capitalize=capitalize;function capitalize(s){return s?s[0].toUpperCase()+s.slice(1):"";}
const diacriticsMap={'\u0041':'A','\u24B6':'A','\uFF21':'A','\u00C0':'A','\u00C1':'A','\u00C2':'A','\u1EA6':'A','\u1EA4':'A','\u1EAA':'A','\u1EA8':'A','\u00C3':'A','\u0100':'A','\u0102':'A','\u1EB0':'A','\u1EAE':'A','\u1EB4':'A','\u1EB2':'A','\u0226':'A','\u01E0':'A','\u00C4':'A','\u01DE':'A','\u1EA2':'A','\u00C5':'A','\u01FA':'A','\u01CD':'A','\u0200':'A','\u0202':'A','\u1EA0':'A','\u1EAC':'A','\u1EB6':'A','\u1E00':'A','\u0104':'A','\u023A':'A','\u2C6F':'A','\uA732':'AA','\u00C6':'AE','\u01FC':'AE','\u01E2':'AE','\uA734':'AO','\uA736':'AU','\uA738':'AV','\uA73A':'AV','\uA73C':'AY','\u0042':'B','\u24B7':'B','\uFF22':'B','\u1E02':'B','\u1E04':'B','\u1E06':'B','\u0243':'B','\u0182':'B','\u0181':'B','\u0043':'C','\u24B8':'C','\uFF23':'C','\u0106':'C','\u0108':'C','\u010A':'C','\u010C':'C','\u00C7':'C','\u1E08':'C','\u0187':'C','\u023B':'C','\uA73E':'C','\u0044':'D','\u24B9':'D','\uFF24':'D','\u1E0A':'D','\u010E':'D','\u1E0C':'D','\u1E10':'D','\u1E12':'D','\u1E0E':'D','\u0110':'D','\u018B':'D','\u018A':'D','\u0189':'D','\uA779':'D','\u01F1':'DZ','\u01C4':'DZ','\u01F2':'Dz','\u01C5':'Dz','\u0045':'E','\u24BA':'E','\uFF25':'E','\u00C8':'E','\u00C9':'E','\u00CA':'E','\u1EC0':'E','\u1EBE':'E','\u1EC4':'E','\u1EC2':'E','\u1EBC':'E','\u0112':'E','\u1E14':'E','\u1E16':'E','\u0114':'E','\u0116':'E','\u00CB':'E','\u1EBA':'E','\u011A':'E','\u0204':'E','\u0206':'E','\u1EB8':'E','\u1EC6':'E','\u0228':'E','\u1E1C':'E','\u0118':'E','\u1E18':'E','\u1E1A':'E','\u0190':'E','\u018E':'E','\u0046':'F','\u24BB':'F','\uFF26':'F','\u1E1E':'F','\u0191':'F','\uA77B':'F','\u0047':'G','\u24BC':'G','\uFF27':'G','\u01F4':'G','\u011C':'G','\u1E20':'G','\u011E':'G','\u0120':'G','\u01E6':'G','\u0122':'G','\u01E4':'G','\u0193':'G','\uA7A0':'G','\uA77D':'G','\uA77E':'G','\u0048':'H','\u24BD':'H','\uFF28':'H','\u0124':'H','\u1E22':'H','\u1E26':'H','\u021E':'H','\u1E24':'H','\u1E28':'H','\u1E2A':'H','\u0126':'H','\u2C67':'H','\u2C75':'H','\uA78D':'H','\u0049':'I','\u24BE':'I','\uFF29':'I','\u00CC':'I','\u00CD':'I','\u00CE':'I','\u0128':'I','\u012A':'I','\u012C':'I','\u0130':'I','\u00CF':'I','\u1E2E':'I','\u1EC8':'I','\u01CF':'I','\u0208':'I','\u020A':'I','\u1ECA':'I','\u012E':'I','\u1E2C':'I','\u0197':'I','\u004A':'J','\u24BF':'J','\uFF2A':'J','\u0134':'J','\u0248':'J','\u004B':'K','\u24C0':'K','\uFF2B':'K','\u1E30':'K','\u01E8':'K','\u1E32':'K','\u0136':'K','\u1E34':'K','\u0198':'K','\u2C69':'K','\uA740':'K','\uA742':'K','\uA744':'K','\uA7A2':'K','\u004C':'L','\u24C1':'L','\uFF2C':'L','\u013F':'L','\u0139':'L','\u013D':'L','\u1E36':'L','\u1E38':'L','\u013B':'L','\u1E3C':'L','\u1E3A':'L','\u0141':'L','\u023D':'L','\u2C62':'L','\u2C60':'L','\uA748':'L','\uA746':'L','\uA780':'L','\u01C7':'LJ','\u01C8':'Lj','\u004D':'M','\u24C2':'M','\uFF2D':'M','\u1E3E':'M','\u1E40':'M','\u1E42':'M','\u2C6E':'M','\u019C':'M','\u004E':'N','\u24C3':'N','\uFF2E':'N','\u01F8':'N','\u0143':'N','\u00D1':'N','\u1E44':'N','\u0147':'N','\u1E46':'N','\u0145':'N','\u1E4A':'N','\u1E48':'N','\u0220':'N','\u019D':'N','\uA790':'N','\uA7A4':'N','\u01CA':'NJ','\u01CB':'Nj','\u004F':'O','\u24C4':'O','\uFF2F':'O','\u00D2':'O','\u00D3':'O','\u00D4':'O','\u1ED2':'O','\u1ED0':'O','\u1ED6':'O','\u1ED4':'O','\u00D5':'O','\u1E4C':'O','\u022C':'O','\u1E4E':'O','\u014C':'O','\u1E50':'O','\u1E52':'O','\u014E':'O','\u022E':'O','\u0230':'O','\u00D6':'O','\u022A':'O','\u1ECE':'O','\u0150':'O','\u01D1':'O','\u020C':'O','\u020E':'O','\u01A0':'O','\u1EDC':'O','\u1EDA':'O','\u1EE0':'O','\u1EDE':'O','\u1EE2':'O','\u1ECC':'O','\u1ED8':'O','\u01EA':'O','\u01EC':'O','\u00D8':'O','\u01FE':'O','\u0186':'O','\u019F':'O','\uA74A':'O','\uA74C':'O','\u01A2':'OI','\uA74E':'OO','\u0222':'OU','\u0050':'P','\u24C5':'P','\uFF30':'P','\u1E54':'P','\u1E56':'P','\u01A4':'P','\u2C63':'P','\uA750':'P','\uA752':'P','\uA754':'P','\u0051':'Q','\u24C6':'Q','\uFF31':'Q','\uA756':'Q','\uA758':'Q','\u024A':'Q','\u0052':'R','\u24C7':'R','\uFF32':'R','\u0154':'R','\u1E58':'R','\u0158':'R','\u0210':'R','\u0212':'R','\u1E5A':'R','\u1E5C':'R','\u0156':'R','\u1E5E':'R','\u024C':'R','\u2C64':'R','\uA75A':'R','\uA7A6':'R','\uA782':'R','\u0053':'S','\u24C8':'S','\uFF33':'S','\u1E9E':'S','\u015A':'S','\u1E64':'S','\u015C':'S','\u1E60':'S','\u0160':'S','\u1E66':'S','\u1E62':'S','\u1E68':'S','\u0218':'S','\u015E':'S','\u2C7E':'S','\uA7A8':'S','\uA784':'S','\u0054':'T','\u24C9':'T','\uFF34':'T','\u1E6A':'T','\u0164':'T','\u1E6C':'T','\u021A':'T','\u0162':'T','\u1E70':'T','\u1E6E':'T','\u0166':'T','\u01AC':'T','\u01AE':'T','\u023E':'T','\uA786':'T','\uA728':'TZ','\u0055':'U','\u24CA':'U','\uFF35':'U','\u00D9':'U','\u00DA':'U','\u00DB':'U','\u0168':'U','\u1E78':'U','\u016A':'U','\u1E7A':'U','\u016C':'U','\u00DC':'U','\u01DB':'U','\u01D7':'U','\u01D5':'U','\u01D9':'U','\u1EE6':'U','\u016E':'U','\u0170':'U','\u01D3':'U','\u0214':'U','\u0216':'U','\u01AF':'U','\u1EEA':'U','\u1EE8':'U','\u1EEE':'U','\u1EEC':'U','\u1EF0':'U','\u1EE4':'U','\u1E72':'U','\u0172':'U','\u1E76':'U','\u1E74':'U','\u0244':'U','\u0056':'V','\u24CB':'V','\uFF36':'V','\u1E7C':'V','\u1E7E':'V','\u01B2':'V','\uA75E':'V','\u0245':'V','\uA760':'VY','\u0057':'W','\u24CC':'W','\uFF37':'W','\u1E80':'W','\u1E82':'W','\u0174':'W','\u1E86':'W','\u1E84':'W','\u1E88':'W','\u2C72':'W','\u0058':'X','\u24CD':'X','\uFF38':'X','\u1E8A':'X','\u1E8C':'X','\u0059':'Y','\u24CE':'Y','\uFF39':'Y','\u1EF2':'Y','\u00DD':'Y','\u0176':'Y','\u1EF8':'Y','\u0232':'Y','\u1E8E':'Y','\u0178':'Y','\u1EF6':'Y','\u1EF4':'Y','\u01B3':'Y','\u024E':'Y','\u1EFE':'Y','\u005A':'Z','\u24CF':'Z','\uFF3A':'Z','\u0179':'Z','\u1E90':'Z','\u017B':'Z','\u017D':'Z','\u1E92':'Z','\u1E94':'Z','\u01B5':'Z','\u0224':'Z','\u2C7F':'Z','\u2C6B':'Z','\uA762':'Z','\u0061':'a','\u24D0':'a','\uFF41':'a','\u1E9A':'a','\u00E0':'a','\u00E1':'a','\u00E2':'a','\u1EA7':'a','\u1EA5':'a','\u1EAB':'a','\u1EA9':'a','\u00E3':'a','\u0101':'a','\u0103':'a','\u1EB1':'a','\u1EAF':'a','\u1EB5':'a','\u1EB3':'a','\u0227':'a','\u01E1':'a','\u00E4':'a','\u01DF':'a','\u1EA3':'a','\u00E5':'a','\u01FB':'a','\u01CE':'a','\u0201':'a','\u0203':'a','\u1EA1':'a','\u1EAD':'a','\u1EB7':'a','\u1E01':'a','\u0105':'a','\u2C65':'a','\u0250':'a','\uA733':'aa','\u00E6':'ae','\u01FD':'ae','\u01E3':'ae','\uA735':'ao','\uA737':'au','\uA739':'av','\uA73B':'av','\uA73D':'ay','\u0062':'b','\u24D1':'b','\uFF42':'b','\u1E03':'b','\u1E05':'b','\u1E07':'b','\u0180':'b','\u0183':'b','\u0253':'b','\u0063':'c','\u24D2':'c','\uFF43':'c','\u0107':'c','\u0109':'c','\u010B':'c','\u010D':'c','\u00E7':'c','\u1E09':'c','\u0188':'c','\u023C':'c','\uA73F':'c','\u2184':'c','\u0064':'d','\u24D3':'d','\uFF44':'d','\u1E0B':'d','\u010F':'d','\u1E0D':'d','\u1E11':'d','\u1E13':'d','\u1E0F':'d','\u0111':'d','\u018C':'d','\u0256':'d','\u0257':'d','\uA77A':'d','\u01F3':'dz','\u01C6':'dz','\u0065':'e','\u24D4':'e','\uFF45':'e','\u00E8':'e','\u00E9':'e','\u00EA':'e','\u1EC1':'e','\u1EBF':'e','\u1EC5':'e','\u1EC3':'e','\u1EBD':'e','\u0113':'e','\u1E15':'e','\u1E17':'e','\u0115':'e','\u0117':'e','\u00EB':'e','\u1EBB':'e','\u011B':'e','\u0205':'e','\u0207':'e','\u1EB9':'e','\u1EC7':'e','\u0229':'e','\u1E1D':'e','\u0119':'e','\u1E19':'e','\u1E1B':'e','\u0247':'e','\u025B':'e','\u01DD':'e','\u0066':'f','\u24D5':'f','\uFF46':'f','\u1E1F':'f','\u0192':'f','\uA77C':'f','\u0067':'g','\u24D6':'g','\uFF47':'g','\u01F5':'g','\u011D':'g','\u1E21':'g','\u011F':'g','\u0121':'g','\u01E7':'g','\u0123':'g','\u01E5':'g','\u0260':'g','\uA7A1':'g','\u1D79':'g','\uA77F':'g','\u0068':'h','\u24D7':'h','\uFF48':'h','\u0125':'h','\u1E23':'h','\u1E27':'h','\u021F':'h','\u1E25':'h','\u1E29':'h','\u1E2B':'h','\u1E96':'h','\u0127':'h','\u2C68':'h','\u2C76':'h','\u0265':'h','\u0195':'hv','\u0069':'i','\u24D8':'i','\uFF49':'i','\u00EC':'i','\u00ED':'i','\u00EE':'i','\u0129':'i','\u012B':'i','\u012D':'i','\u00EF':'i','\u1E2F':'i','\u1EC9':'i','\u01D0':'i','\u0209':'i','\u020B':'i','\u1ECB':'i','\u012F':'i','\u1E2D':'i','\u0268':'i','\u0131':'i','\u006A':'j','\u24D9':'j','\uFF4A':'j','\u0135':'j','\u01F0':'j','\u0249':'j','\u006B':'k','\u24DA':'k','\uFF4B':'k','\u1E31':'k','\u01E9':'k','\u1E33':'k','\u0137':'k','\u1E35':'k','\u0199':'k','\u2C6A':'k','\uA741':'k','\uA743':'k','\uA745':'k','\uA7A3':'k','\u006C':'l','\u24DB':'l','\uFF4C':'l','\u0140':'l','\u013A':'l','\u013E':'l','\u1E37':'l','\u1E39':'l','\u013C':'l','\u1E3D':'l','\u1E3B':'l','\u017F':'l','\u0142':'l','\u019A':'l','\u026B':'l','\u2C61':'l','\uA749':'l','\uA781':'l','\uA747':'l','\u01C9':'lj','\u006D':'m','\u24DC':'m','\uFF4D':'m','\u1E3F':'m','\u1E41':'m','\u1E43':'m','\u0271':'m','\u026F':'m','\u006E':'n','\u24DD':'n','\uFF4E':'n','\u01F9':'n','\u0144':'n','\u00F1':'n','\u1E45':'n','\u0148':'n','\u1E47':'n','\u0146':'n','\u1E4B':'n','\u1E49':'n','\u019E':'n','\u0272':'n','\u0149':'n','\uA791':'n','\uA7A5':'n','\u01CC':'nj','\u006F':'o','\u24DE':'o','\uFF4F':'o','\u00F2':'o','\u00F3':'o','\u00F4':'o','\u1ED3':'o','\u1ED1':'o','\u1ED7':'o','\u1ED5':'o','\u00F5':'o','\u1E4D':'o','\u022D':'o','\u1E4F':'o','\u014D':'o','\u1E51':'o','\u1E53':'o','\u014F':'o','\u022F':'o','\u0231':'o','\u00F6':'o','\u022B':'o','\u1ECF':'o','\u0151':'o','\u01D2':'o','\u020D':'o','\u020F':'o','\u01A1':'o','\u1EDD':'o','\u1EDB':'o','\u1EE1':'o','\u1EDF':'o','\u1EE3':'o','\u1ECD':'o','\u1ED9':'o','\u01EB':'o','\u01ED':'o','\u00F8':'o','\u01FF':'o','\u0254':'o','\uA74B':'o','\uA74D':'o','\u0275':'o','\u01A3':'oi','\u0223':'ou','\uA74F':'oo','\u0070':'p','\u24DF':'p','\uFF50':'p','\u1E55':'p','\u1E57':'p','\u01A5':'p','\u1D7D':'p','\uA751':'p','\uA753':'p','\uA755':'p','\u0071':'q','\u24E0':'q','\uFF51':'q','\u024B':'q','\uA757':'q','\uA759':'q','\u0072':'r','\u24E1':'r','\uFF52':'r','\u0155':'r','\u1E59':'r','\u0159':'r','\u0211':'r','\u0213':'r','\u1E5B':'r','\u1E5D':'r','\u0157':'r','\u1E5F':'r','\u024D':'r','\u027D':'r','\uA75B':'r','\uA7A7':'r','\uA783':'r','\u0073':'s','\u24E2':'s','\uFF53':'s','\u00DF':'s','\u015B':'s','\u1E65':'s','\u015D':'s','\u1E61':'s','\u0161':'s','\u1E67':'s','\u1E63':'s','\u1E69':'s','\u0219':'s','\u015F':'s','\u023F':'s','\uA7A9':'s','\uA785':'s','\u1E9B':'s','\u0074':'t','\u24E3':'t','\uFF54':'t','\u1E6B':'t','\u1E97':'t','\u0165':'t','\u1E6D':'t','\u021B':'t','\u0163':'t','\u1E71':'t','\u1E6F':'t','\u0167':'t','\u01AD':'t','\u0288':'t','\u2C66':'t','\uA787':'t','\uA729':'tz','\u0075':'u','\u24E4':'u','\uFF55':'u','\u00F9':'u','\u00FA':'u','\u00FB':'u','\u0169':'u','\u1E79':'u','\u016B':'u','\u1E7B':'u','\u016D':'u','\u00FC':'u','\u01DC':'u','\u01D8':'u','\u01D6':'u','\u01DA':'u','\u1EE7':'u','\u016F':'u','\u0171':'u','\u01D4':'u','\u0215':'u','\u0217':'u','\u01B0':'u','\u1EEB':'u','\u1EE9':'u','\u1EEF':'u','\u1EED':'u','\u1EF1':'u','\u1EE5':'u','\u1E73':'u','\u0173':'u','\u1E77':'u','\u1E75':'u','\u0289':'u','\u0076':'v','\u24E5':'v','\uFF56':'v','\u1E7D':'v','\u1E7F':'v','\u028B':'v','\uA75F':'v','\u028C':'v','\uA761':'vy','\u0077':'w','\u24E6':'w','\uFF57':'w','\u1E81':'w','\u1E83':'w','\u0175':'w','\u1E87':'w','\u1E85':'w','\u1E98':'w','\u1E89':'w','\u2C73':'w','\u0078':'x','\u24E7':'x','\uFF58':'x','\u1E8B':'x','\u1E8D':'x','\u0079':'y','\u24E8':'y','\uFF59':'y','\u1EF3':'y','\u00FD':'y','\u0177':'y','\u1EF9':'y','\u0233':'y','\u1E8F':'y','\u00FF':'y','\u1EF7':'y','\u1E99':'y','\u1EF5':'y','\u01B4':'y','\u024F':'y','\u1EFF':'y','\u007A':'z','\u24E9':'z','\uFF5A':'z','\u017A':'z','\u1E91':'z','\u017C':'z','\u017E':'z','\u1E93':'z','\u1E95':'z','\u01B6':'z','\u0225':'z','\u0240':'z','\u2C6C':'z','\uA763':'z',};__exports.unaccent=unaccent;function unaccent(str,caseSensitive){str=str.replace(/[^\u0000-\u007E]/g,function(accented){return diacriticsMap[accented]||accented;});return caseSensitive?str:str.toLowerCase();}
return __exports;});;

/* /web/static/src/core/utils/timing.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/utils/timing',async function(require){'use strict';let __exports={};const{browser}=require("@web/core/browser/browser");__exports.throttleForAnimation=throttleForAnimation;function throttleForAnimation(func){let handle=null;const funcName=func.name?`${func.name} (throttleForAnimation)`:"throttleForAnimation";return Object.assign({[funcName](...args){browser.cancelAnimationFrame(handle);handle=browser.requestAnimationFrame(()=>{handle=null;func.call(this,...args);});},}[funcName],{cancel(){browser.cancelAnimationFrame(handle);},});}
__exports.debounce=debounce;function debounce(func,wait,immediate=false){let cancelled;let timeout;const funcName=func.name?func.name+" (debounce)":"debounce";return Object.assign({[funcName](...args){const context=this;let resolve;const prom=new Promise((r)=>{resolve=r;});function later(){if(!immediate&&!cancelled){Promise.resolve(func.apply(context,args)).then(resolve);}}
const callNow=immediate&&!timeout&&!cancelled;browser.clearTimeout(timeout);timeout=browser.setTimeout(later,wait);if(callNow){Promise.resolve(func.apply(context,args)).then(resolve);}
return prom;},}[funcName],{cancel(){cancelled=true;browser.clearTimeout(timeout);},});}
__exports.throttle=throttle;function throttle(func,wait){let waiting=false;const funcName=func.name?func.name+" (throttle)":"throttle";return{[funcName](...args){const context=this;if(!waiting){waiting=true;browser.setTimeout(function(){waiting=false;func.call(context,...args);},wait);}},}[funcName];}
return __exports;});;

/* /web/static/src/core/utils/ui.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/utils/ui',async function(require){'use strict';let __exports={};__exports.getVisibleElements=getVisibleElements;function getVisibleElements(activeElement,selector){const visibleElements=[];for(const el of activeElement.querySelectorAll(selector)){const isVisible=el.offsetWidth>0&&el.offsetHeight>0;if(isVisible){visibleElements.push(el);}}
return visibleElements;}
return __exports;});;

/* /web/static/src/core/utils/urls.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/utils/urls',async function(require){'use strict';let __exports={};const{browser}=require("@web/core/browser/browser");__exports.objectToUrlEncodedString=objectToUrlEncodedString;function objectToUrlEncodedString(obj){return Object.entries(obj).map(([k,v])=>(v?`${k}=${encodeURIComponent(v)}`:k)).join("&");}
__exports.getOrigin=getOrigin;function getOrigin(origin){if(origin){origin=origin.replace(/\/+$/,"");}else{const{host,protocol}=browser.location;origin=`${protocol}//${host}`;}
return origin;}
__exports.url=url;function url(route,queryParams,options={}){const origin=getOrigin(options.origin);if(!route){return origin;}
let queryString=objectToUrlEncodedString(queryParams||{});queryString=queryString.length>0?`?${queryString}`:queryString;let prefix=["http://","https://","//"].some((el)=>route.length>=el.length&&route.slice(0,el.length)===el);prefix=prefix?"":origin;return`${prefix}${route}${queryString}`;}
return __exports;});;

/* /web/static/src/core/utils/xml.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/core/utils/xml',async function(require){'use strict';let __exports={};function hasParsingError(parsedDocument){return parsedDocument.getElementsByTagName("parsererror").length>0;}
const XMLParser=__exports.XMLParser=class XMLParser{parse(){}
visitXML(xml,callback){function visit(xml){if(xml){let didVisitChildren=false;const visitChildren=()=>{for(let child of xml.children){visit(child);}
didVisitChildren=true;};const shouldVisitChildren=callback(xml,visitChildren);if(shouldVisitChildren!==false&&!didVisitChildren){visitChildren();}}}
const xmlDoc=typeof xml==="string"?this.parseXML(xml):xml;visit(xmlDoc);}
parseXML(arch){const parser=new DOMParser();const xml=parser.parseFromString(arch,"text/xml");if(hasParsingError(xml)){throw new Error(`An error occured while parsing ${arch}: ${xml.getElementsByTagName("parsererror")}`);}
return xml.documentElement;}}
return __exports;});;

/* /web/static/src/public/error_notifications.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/public/error_notifications',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{odooExceptionTitleMap}=require("@web/core/errors/error_dialogs");const{_t}=require("@web/core/l10n/translation");odooExceptionTitleMap.forEach((title,exceptionName)=>{registry.category("error_notifications").add(exceptionName,{title:title,type:"warning",sticky:true});});const sessionExpired={title:_t("Odoo Session Expired"),message:_t("Your Odoo session expired. The current page is about to be refreshed."),buttons:[{text:_t("Ok"),click:()=>window.location.reload(true),close:true}]};registry.category("error_notifications").add("odoo.http.SessionExpiredException",sessionExpired).add("werkzeug.exceptions.Forbidden",sessionExpired).add("504",{title:_t("Request timeout"),message:_t("The operation was interrupted. This usually means that the current operation is taking too much time.")});return __exports;});;

/* /web_editor/static/src/js/frontend/loader_loading.js defined in bundle 'web.assets_frontend_lazy' */
(function(){'use strict';document.addEventListener('DOMContentLoaded',()=>{var textareaEls=document.querySelectorAll('textarea.o_wysiwyg_loader');for(var i=0;i<textareaEls.length;i++){var textarea=textareaEls[i];var wrapper=document.createElement('div');wrapper.classList.add('position-relative','o_wysiwyg_textarea_wrapper');var loadingElement=document.createElement('div');loadingElement.classList.add('o_wysiwyg_loading');var loadingIcon=document.createElement('i');loadingIcon.classList.add('text-600','text-center','fa','fa-circle-o-notch','fa-spin','fa-2x');loadingElement.appendChild(loadingIcon);wrapper.appendChild(loadingElement);textarea.parentNode.insertBefore(wrapper,textarea);wrapper.insertBefore(textarea,loadingElement);}});})();;

/* /web/static/src/legacy/utils.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/legacy/utils',async function(require){'use strict';let __exports={};const{browser}=require("@web/core/browser/browser");const AbstractStorageService=require("web.AbstractStorageService");const{ConnectionAbortedError,RPCError,makeErrorFromResponse,ConnectionLostError,}=require("@web/core/network/rpc_service");const{ErrorDialog}=require("@web/core/errors/error_dialogs");__exports.makeLegacyRpcService=makeLegacyRpcService;function makeLegacyRpcService(legacyEnv){return{start(env){legacyEnv.bus.on("rpc_request",null,(rpcId)=>{env.bus.trigger("RPC:REQUEST",rpcId);});legacyEnv.bus.on("rpc_response",null,(rpcId)=>{env.bus.trigger("RPC:RESPONSE",rpcId);});legacyEnv.bus.on("rpc_response_failed",null,(rpcId)=>{env.bus.trigger("RPC:RESPONSE",rpcId);});},};}
__exports.makeLegacyDialogMappingService=makeLegacyDialogMappingService;function makeLegacyDialogMappingService(legacyEnv){return{dependencies:["ui","hotkey"],start(env){const{ui,hotkey}=env.services;function getModalEl(dialog){return dialog.modalRef?dialog.modalRef.el:dialog.$modal[0];}
function getCloseCallback(dialog){return dialog.modalRef?()=>dialog._close():()=>dialog.$modal.modal("hide");}
const dialogHotkeyRemoveMap=new Map();function onOpenDialog(dialog){ui.activateElement(getModalEl(dialog));const remove=hotkey.add("escape",getCloseCallback(dialog));dialogHotkeyRemoveMap.set(dialog,remove);}
function onCloseDialog(dialog){ui.deactivateElement(getModalEl(dialog));if(dialogHotkeyRemoveMap.has(dialog)){const removeHotkey=dialogHotkeyRemoveMap.get(dialog);removeHotkey();dialogHotkeyRemoveMap.delete(dialog);}}
legacyEnv.bus.on("legacy_dialog_opened",null,onOpenDialog);legacyEnv.bus.on("legacy_dialog_destroyed",null,onCloseDialog);legacyEnv.bus.on("owl_dialog_mounted",null,onOpenDialog);legacyEnv.bus.on("owl_dialog_willunmount",null,onCloseDialog);},};}
__exports.makeLegacyCommandService=makeLegacyCommandService;function makeLegacyCommandService(legacyEnv){return{dependencies:["command"],start(env){const{command}=env.services;const commandRemoveMap=new Map();function setLegacyCommand(uniqueId,getCommandDefinition){const{name,action,options}=getCommandDefinition(env);removeLegacyCommand(uniqueId);commandRemoveMap.set(uniqueId,command.add(name,action,options));}
function removeLegacyCommand(uniqueId){if(commandRemoveMap.has(uniqueId)){const removeCommand=commandRemoveMap.get(uniqueId);removeCommand();commandRemoveMap.delete(uniqueId);}}
legacyEnv.bus.on("set_legacy_command",null,setLegacyCommand);legacyEnv.bus.on("remove_legacy_command",null,removeLegacyCommand);},};}
__exports.makeLegacyDropdownService=makeLegacyDropdownService;function makeLegacyDropdownService(legacyEnv){return{dependencies:["ui","hotkey"],start(_,{ui,hotkey}){legacyEnv.services.ui=ui;legacyEnv.services.hotkey=hotkey;},};}
__exports.makeLegacySessionService=makeLegacySessionService;function makeLegacySessionService(legacyEnv,session){return{dependencies:["user"],start(env){function mapContext(){return Object.assign({},env.services.user.context);}
Object.defineProperty(legacyEnv.session,"userContext",{get:()=>mapContext(),});Object.defineProperty(session,"user_context",{get:()=>mapContext(),});},};}
__exports.mapLegacyEnvToWowlEnv=mapLegacyEnvToWowlEnv;function mapLegacyEnvToWowlEnv(legacyEnv,wowlEnv){legacyEnv.session.rpc=(...args)=>{let rejection;const prom=new Promise((resolve,reject)=>{const[route,params,settings={}]=args;const jsonrpc=wowlEnv.services.rpc(route,params,{silent:settings.shadow,xhr:settings.xhr,});rejection=()=>{jsonrpc.abort();};jsonrpc.then(resolve).catch((reason)=>{if(reason instanceof RPCError||reason instanceof ConnectionLostError){reject({message:reason,event:$.Event(),legacy:true});}else if(reason instanceof ConnectionAbortedError){reject({message:reason.message,event:$.Event("abort")});}else{reject(reason);}});});prom.abort=rejection;return prom;};function mapStorage(storage){const StorageService=AbstractStorageService.extend({storage});return new StorageService();}
legacyEnv.services.local_storage=mapStorage(browser.localStorage);legacyEnv.services.session_storage=mapStorage(browser.sessionStorage);wowlEnv.bus.on("WEB_CLIENT_READY",null,()=>{legacyEnv.bus.trigger("web_client_ready");});wowlEnv.bus.on("SCROLLER:ANCHOR_LINK_CLICKED",null,(payload)=>{legacyEnv.bus.trigger("SCROLLER:ANCHOR_LINK_CLICKED",payload);});legacyEnv.bus.on("clear_cache",null,()=>{wowlEnv.bus.trigger("CLEAR-CACHES");});}
const reBSTooltip=/^bs-.*$/;__exports.cleanDomFromBootstrap=cleanDomFromBootstrap;function cleanDomFromBootstrap(){const body=document.body;const tooltips=body.querySelectorAll("body .tooltip");for(const tt of tooltips){if(Array.from(tt.classList).find((cls)=>reBSTooltip.test(cls))){tt.parentNode.removeChild(tt);}}}
__exports.makeLegacyNotificationService=makeLegacyNotificationService;function makeLegacyNotificationService(legacyEnv){return{dependencies:["notification"],start(env){let notifId=0;const idsToRemoveFn={};function notify({title,message,subtitle,buttons=[],sticky,type,className,onClose,}){if(subtitle){title=[title,subtitle].filter(Boolean).join(" ");}
if(!message&&title){message=title;title=undefined;}
buttons=buttons.map((button)=>{return{name:button.text,icon:button.icon,primary:button.primary,onClick:button.click,};});const removeFn=env.services.notification.add(_.escape(message),{sticky,title,type,className,onClose,buttons,messageIsHtml:true,});const id=++notifId;idsToRemoveFn[id]=removeFn;return id;}
function close(id,_,wait){const removeFn=idsToRemoveFn[id];delete idsToRemoveFn[id];if(wait){browser.setTimeout(()=>{removeFn(id);},wait);}else{removeFn(id);}}
legacyEnv.services.notification={notify,close};},};}
__exports.makeLegacyCrashManagerService=makeLegacyCrashManagerService;function makeLegacyCrashManagerService(legacyEnv){return{dependencies:["dialog"],start(env){legacyEnv.services.crash_manager={show_message(message){env.services.dialog.add(ErrorDialog,{traceback:message});},rpc_error(errorResponse){Promise.reject(makeErrorFromResponse(errorResponse));},};},};}
__exports.wrapSuccessOrFail=wrapSuccessOrFail;function wrapSuccessOrFail(promise,{on_success,on_fail}={}){return promise.then(on_success||(()=>{})).catch((reason)=>{let alreadyThrown=false;if(on_fail){alreadyThrown=on_fail(reason)==="alreadyThrown";}
if(reason instanceof Error&&!alreadyThrown){throw reason;}});}
__exports.makeLegacyRainbowManService=makeLegacyRainbowManService;function makeLegacyRainbowManService(legacyEnv){return{dependencies:["effect"],start(env,{effect}){legacyEnv.bus.on("show-effect",null,(payload)=>{effect.add(payload);});},};}
return __exports;});;

/* /web/static/src/legacy/js/owl_compatibility.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web.OwlCompatibility',function(){"use strict";const{Component,hooks,tags}=owl;const{useRef,useSubEnv}=hooks;const{xml}=tags;const widgetSymbol=odoo.widgetSymbol;const children=new WeakMap();const templateForLegacy=tags.xml`<div/>`;const templateForOwl=tags.xml`<t t-component="props.Component" t-props="childProps" />`;class ComponentAdapter extends Component{constructor(parent,props){if(!props.Component){throw Error(`ComponentAdapter: 'Component' prop is missing.`);}
let template;if(!(props.Component.prototype instanceof Component)){template=templateForLegacy;}else{template=templateForOwl;}
ComponentAdapter.template=template;super(...arguments);this.template=template;ComponentAdapter.template=null;this.widget=null;}
get childProps(){if(!this._childProps){this._childProps=Object.assign({},this.props);delete this._childProps.Component;}
return this._childProps;}
willStart(){if(!(this.props.Component.prototype instanceof Component)){this.widget=new this.props.Component(this,...this.widgetArgs);return this.widget._widgetRenderAndInsert(()=>{});}}
willUpdateProps(nextProps){if(this.widget){return this.updateWidget(nextProps);}}
__patch(target,vnode){if(this.widget){if(this.__owl__.vnode){this.renderWidget();}
vnode.elm=this.widget.el;}
const result=super.__patch(...arguments);if(this.widget&&this.el!==this.widget.el){this.__owl__.vnode.elm=this.widget.el;}
return result;}
mounted(){if(this.widget&&this.widget.on_attach_callback){this.widget.on_attach_callback();}}
willUnmount(){if(this.widget&&this.widget.on_detach_callback){this.widget.on_detach_callback();}}
__destroy(){super.__destroy(...arguments);if(this.widget){this.widget.destroy();}}
get widgetArgs(){if(this.props.widgetArgs){return this.props.widgetArgs;}
const args=Object.keys(this.props);args.splice(args.indexOf('Component'),1);if(args.length>1){throw new Error(`ComponentAdapter has more than 1 argument, 'widgetArgs' must be overriden.`);}
return args.map(a=>this.props[a]);}
updateWidget(){if(this.env.isDebug('assets')){console.warn(`ComponentAdapter: Widget could not be updated, maybe override 'updateWidget' function?`);}}
renderWidget(){if(this.env.isDebug('assets')){console.warn(`ComponentAdapter: Widget could not be re-rendered, maybe override 'renderWidget' function?`);}}
_trigger_up(ev){const evType=ev.name;const payload=ev.data;if(evType==='call_service'){let args=payload.args||[];if(payload.service==='ajax'&&payload.method==='rpc'){args=args.concat(ev.target);}
const service=this.env.services[payload.service];if(service){const result=service[payload.method].apply(service,args);payload.callback(result);}else{throw new Error(`The service "${payload.service}" is not present in the legacy owl environment.
                         You should probably create a mapper in @web/legacy/utils`);}}else if(evType==='get_session'){if(payload.callback){payload.callback(this.env.session);}}else if(evType==='load_views'){const params={model:payload.modelName,context:payload.context,views_descr:payload.views,};this.env.dataManager.load_views(params,payload.options||{}).then(payload.on_success);}else if(evType==='load_filters'){return this.env.dataManager.load_filters(payload).then(payload.on_success);}else{payload.__targetWidget=ev.target;this.trigger(evType.replace(/_/g,'-'),payload);}}}
const WidgetAdapterMixin={on_attach_callback(){for(const component of children.get(this)||[]){component.on_attach_callback();}},on_detach_callback(){for(const component of children.get(this)||[]){component.on_detach_callback();}},destroy(){for(const component of children.get(this)||[]){component.env.qweb.off("update",component);component.__destroy();}
children.delete(this);},};class ComponentWrapper extends Component{constructor(parent,Component,props){if(parent instanceof Component){throw new Error('ComponentWrapper must be used with a legacy Widget as parent');}
super(null,props);if(parent){this._register(parent);}
useSubEnv({[widgetSymbol]:this._addListener.bind(this)});this.parentWidget=parent;this.Component=Component;this.props=props||{};this._handledEvents=new Set();this.componentRef=useRef("component");}
on_attach_callback(){function recursiveCallMounted(component){const{status,currentFiber}=component.__owl__;if(status===2&&currentFiber&&!currentFiber.isCompleted){return;}
if(status!==2&&status!==3&&status!==4){return;}
for(const key in component.__owl__.children){recursiveCallMounted(component.__owl__.children[key]);}
component.__callMounted();}
recursiveCallMounted(this);}
on_detach_callback(){this.__callWillUnmount();}
destroy(){if(this.parentWidget){const parentChildren=children.get(this.parentWidget);if(parentChildren){const index=parentChildren.indexOf(this);children.get(this.parentWidget).splice(index,1);}}
super.destroy();}
setParent(parent){if(parent instanceof Component){throw new Error('ComponentWrapper must be used with a legacy Widget as parent');}
this._register(parent);if(this.parentWidget){const parentChildren=children.get(this.parentWidget);parentChildren.splice(parentChildren.indexOf(this),1);}
this.parentWidget=parent;}
async update(props={}){if(this.__owl__.status===5){return new Promise(()=>{});}
Object.assign(this.props,props);let prom;if(this.__owl__.status===3){prom=this.render();}else{prom=this.mount(...this._mountArgs);}
return prom;}
_addListener(evType){if(this.parentWidget&&!this._handledEvents.has(evType)){this._handledEvents.add(evType);this.el.addEventListener(evType,ev=>{if(!ev.cancelBubble){ev.stopPropagation();const detail=Object.assign({},ev.detail,{__originalComponent:ev.originalComponent,});this.parentWidget.trigger_up(ev.type.replace(/-/g,'_'),detail);}});}}
_register(parent){let parentChildren=children.get(parent);if(!parentChildren){parentChildren=[];children.set(parent,parentChildren);}
parentChildren.push(this);}
async mount(target,options){if(options&&options.position==='self'){throw new Error('Unsupported position: "self" is not allowed for wrapper components. '+'Contact the JS Framework team or open an issue if your use case is relevant.');}
this._mountArgs=arguments;return super.mount(...arguments);}
get $el(){return $(this.el);}}
ComponentWrapper.template=xml`<t t-component="Component" t-props="props" t-ref="component"/>`;return{ComponentAdapter,ComponentWrapper,WidgetAdapterMixin,};});;

/* /web/static/src/legacy/js/services/session.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web.session',function(require){"use strict";var Session=require('web.Session');var session=new Session(undefined,undefined,{use_cors:false});session.is_bound=session.session_bind();return session;});;

/* /web/static/src/legacy/js/public/public_env.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define("web.public_env",function(require){"use strict";const commonEnv=require("web.commonEnv");return commonEnv;});;

/* /web/static/src/legacy/js/public/public_root.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/legacy/js/public/public_root',async function(require){'use strict';let __exports={};const ajax=require('web.ajax');const dom=require('web.dom');const env=require('web.public_env');const session=require('web.session');const utils=require('web.utils');const publicWidget=require('web.public.widget');const{registry}=require('@web/core/registry');const AbstractService=require("web.AbstractService");const legacyEnv=require("web.public_env");const lazyloader=require("web.public.lazyloader");const{makeLegacyNotificationService,makeLegacyRpcService,makeLegacySessionService,makeLegacyDialogMappingService,mapLegacyEnvToWowlEnv,makeLegacyRainbowManService,}=require("@web/legacy/utils");const{ComponentAdapter}=require("web.OwlCompatibility");const{loadBundleTemplates}=require("@web/core/assets");const{makeEnv,startServices}=require("@web/env");const{MainComponentsContainer}=require("@web/core/main_components_container");const serviceRegistry=registry.category("services");function getLang(){var html=document.documentElement;return(html.getAttribute('lang')||'en_US').replace('-','_');}
var lang=utils.get_cookie('frontend_lang')||getLang();var localeDef=lang!=='en_US'?ajax.loadJS('/web/webclient/locale/'+lang.replace('-','_')):Promise.resolve();const PublicRoot=__exports.PublicRoot=publicWidget.RootWidget.extend({events:_.extend({},publicWidget.RootWidget.prototype.events||{},{'submit .js_website_submit_form':'_onWebsiteFormSubmit','click .js_disable_on_click':'_onDisableOnClick',}),custom_events:_.extend({},publicWidget.RootWidget.prototype.custom_events||{},{call_service:'_onCallService',context_get:'_onContextGet',main_object_request:'_onMainObjectRequest',widgets_start_request:'_onWidgetsStartRequest',widgets_stop_request:'_onWidgetsStopRequest',}),init:function(){this._super.apply(this,arguments);this.env=env;this.publicWidgets=[];},willStart:function(){return Promise.all([this._super.apply(this,arguments),session.is_bound,localeDef]);},start:function(){var defs=[this._super.apply(this,arguments),this._startWidgets()];this.$(".o_image[data-mimetype^='image']").each(function(){var $img=$(this);if(/gif|jpe|jpg|png/.test($img.data('mimetype'))&&$img.data('src')){$img.css('background-image',"url('"+$img.data('src')+"')");}});if(window.location.hash.indexOf("scrollTop=")>-1){this.el.scrollTop=+window.location.hash.match(/scrollTop=([0-9]+)/)[1];}
if($.fn.placeholder){$('input, textarea').placeholder();}
this.$el.children().on('error.datetimepicker',this._onDateTimePickerError.bind(this));return Promise.all(defs);},_getContext:function(context){return _.extend({'lang':getLang(),},context||{});},_getExtraContext:function(context){return this._getContext(context);},_getPublicWidgetsRegistry:function(options){return publicWidget.registry;},_getRegistry:function(){return registry.category("public_root_widgets");},_startWidgets:function($from,options){var self=this;if($from===undefined){$from=this.$('#wrapwrap');if(!$from.length){$from=this.$el;}}
options=Object.assign({},options,{wysiwyg:$('#wrapwrap').data('wysiwyg'),});this._stopWidgets($from);var defs=_.map(this._getPublicWidgetsRegistry(options),function(PublicWidget){var selector=PublicWidget.prototype.selector||'';var $target=dom.cssFind($from,selector,true);var defs=_.map($target,function(el){var widget=new PublicWidget(self,options);self.publicWidgets.push(widget);return widget.attachTo($(el));});return Promise.all(defs);});return Promise.all(defs);},_stopWidgets:function($from){var removedWidgets=_.map(this.publicWidgets,function(widget){if(!$from||$from.filter(widget.el).length||$from.find(widget.el).length){widget.destroy();return widget;}
return null;});this.publicWidgets=_.difference(this.publicWidgets,removedWidgets);},_onCallService:function(ev){function _computeContext(context,noContextKeys){context=_.extend({},this._getContext(),context);if(noContextKeys){context=_.omit(context,noContextKeys);}
return JSON.parse(JSON.stringify(context));}
const payload=ev.data;let args=payload.args||[];if(payload.service==='ajax'&&payload.method==='rpc'){args=args.concat(ev.target);var route=args[0];if(_.str.startsWith(route,'/web/dataset/call_kw/')){var params=args[1];var options=args[2];var noContextKeys;if(options){noContextKeys=options.noContextKeys;args[2]=_.omit(options,'noContextKeys');}
params.kwargs.context=_computeContext.call(this,params.kwargs.context,noContextKeys);}}else if(payload.service==='ajax'&&payload.method==='loadLibs'){args[1]=_computeContext.call(this,args[1]);}else{return;}
const service=this.env.services[payload.service];const result=service[payload.method].apply(service,args);payload.callback(result);ev.stopPropagation();},_onContextGet:function(ev){if(ev.data.extra){ev.data.callback(this._getExtraContext(ev.data.context));}else{ev.data.callback(this._getContext(ev.data.context));}},_onMainObjectRequest:function(ev){var repr=$('html').data('main-object');var m=repr.match(/(.+)\((\d+),(.*)\)/);ev.data.callback({model:m[1],id:m[2]|0,});},_onWidgetsStartRequest:function(ev){this._startWidgets(ev.data.$target,ev.data.options).then(ev.data.onSuccess).guardedCatch(ev.data.onFailure);},_onWidgetsStopRequest:function(ev){this._stopWidgets(ev.data.$target);},_onWebsiteFormSubmit:function(ev){var $buttons=$(ev.currentTarget).find('button[type="submit"], a.a-submit');_.each($buttons,function(btn){var $btn=$(btn);$btn.prepend('<i class="fa fa-circle-o-notch fa-spin"></i> ');$btn.prop('disabled',true);});},_onDisableOnClick:function(ev){$(ev.currentTarget).addClass('disabled');},_onDateTimePickerError:function(ev){return false;},});const{Component,mount}=owl;owl.config.mode=legacyEnv.isDebug()?"dev":"prod";owl.Component.env=legacyEnv;__exports.createPublicRoot=createPublicRoot;async function createPublicRoot(RootWidget){await lazyloader.allScriptsLoaded;AbstractService.prototype.deployServices(legacyEnv);serviceRegistry.add("legacy_rpc",makeLegacyRpcService(legacyEnv));serviceRegistry.add("legacy_session",makeLegacySessionService(legacyEnv,session));serviceRegistry.add("legacy_notification",makeLegacyNotificationService(legacyEnv));serviceRegistry.add("legacy_dialog_mapping",makeLegacyDialogMappingService(legacyEnv));serviceRegistry.add("legacy_rainbowman_service",makeLegacyRainbowManService(legacyEnv));await Promise.all([owl.utils.whenReady(),session.is_bound]);const wowlEnv=makeEnv();wowlEnv.qweb.addTemplates(await loadBundleTemplates("web.assets_frontend"));await startServices(wowlEnv);mapLegacyEnvToWowlEnv(legacyEnv,wowlEnv);const adapter=new ComponentAdapter(null,{Component});const publicRoot=new RootWidget(adapter);await Promise.all([mount(MainComponentsContainer,{target:document.body,env:wowlEnv,}),publicRoot.attachTo(document.body),]);return publicRoot;}
__exports[Symbol.for("default")]={PublicRoot,createPublicRoot};return __exports;});odoo.define(`web.public.root`,async function(require){return require('@web/legacy/js/public/public_root')[Symbol.for("default")];});;

/* /website/static/src/js/content/website_root_instance.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website/js/content/website_root_instance',async function(require){'use strict';let __exports={};const{createPublicRoot}=require("@web/legacy/js/public/public_root");const{WebsiteRoot}=require("@website/js/content/website_root");__exports[Symbol.for("default")]=createPublicRoot(WebsiteRoot);return __exports;});odoo.define(`root.widget`,async function(require){return require('@website/js/content/website_root_instance')[Symbol.for("default")];});;

/* /web/static/src/legacy/js/public/public_widget.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/legacy/js/public/public_widget',async function(require){'use strict';let __exports={};const dom=require('web.dom');const session=require('web.session');const Widget=require('web.Widget');var RootWidget=Widget.extend({init:function(){this._super.apply(this,arguments);this._widgets=[];},start:function(){var defs=[this._super.apply(this,arguments)];defs.push(this._attachComponents());this._getRegistry().on("UPDATE",this,({operation,value})=>{if(operation==="add"){this._attachComponent(value);}});return Promise.all(defs);},_attachComponent:function(childInfo,$from){var self=this;var $elements=dom.cssFind($from||this.$el,childInfo.selector);var defs=_.map($elements,function(element){var w=new childInfo.Widget(self);self._widgets.push(w);return w.attachTo(element);});return Promise.all(defs);},_attachComponents:function($from){var self=this;var childInfos=this._getRegistry().getAll();var defs=_.map(childInfos,function(childInfo){return self._attachComponent(childInfo,$from);});return Promise.all(defs);},_getRegistry:function(){},});var PublicWidget=Widget.extend({selector:false,events:{},init:function(parent,options){this._super.apply(this,arguments);this.options=options||{};},destroy:function(){if(this.selector){var $oldel=this.$el;this.setElement(null);}
this._super.apply(this,arguments);if(this.selector){this.$el=$oldel;this.el=$oldel[0];this.$target=this.$el;this.target=this.el;}},setElement:function(){this._super.apply(this,arguments);if(this.selector){this.$target=this.$el;this.target=this.el;}},_delegateEvents:function(){var self=this;var originalEvents=this.events;var events={};_.each(this.events,function(method,event){if(typeof method!=='string'){events[event]=method;return;}
var methodOptions=method.split(' ');if(methodOptions.length<=1){events[event]=method;return;}
var isAsync=_.contains(methodOptions,'async');if(!isAsync){events[event]=method;return;}
method=self.proxy(methodOptions[methodOptions.length-1]);if(_.str.startsWith(event,'click')){method=dom.makeButtonHandler(method);}else{method=dom.makeAsyncHandler(method);}
events[event]=method;});this.events=events;this._super.apply(this,arguments);this.events=originalEvents;},_getContext:function(extra,extraContext){var context;this.trigger_up('context_get',{extra:extra||false,context:extraContext,callback:function(ctx){context=ctx;},});return context;},});var registry={};registry._fixAppleCollapse=PublicWidget.extend({selector:'div[data-toggle="collapse"]',events:{'click':function(){},},});__exports[Symbol.for("default")]={RootWidget:RootWidget,Widget:PublicWidget,registry:registry,};return __exports;});odoo.define(`web.public.widget`,async function(require){return require('@web/legacy/js/public/public_widget')[Symbol.for("default")];});;

/* /web/static/src/legacy/legacy_promise_error_handler.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/legacy/legacy_promise_error_handler',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");function legacyRejectPromiseHandler(env,error,originalError){if(error.name==="UncaughtPromiseError"){const isLegitError=originalError&&originalError instanceof Error;const isLegacyRPC=originalError&&originalError.legacy;if(!isLegitError&&!isLegacyRPC){error.unhandledRejectionEvent.preventDefault();return true;}}
return false;}
registry.category("error_handlers").add("legacyRejectPromiseHandler",legacyRejectPromiseHandler,{sequence:1});return __exports;});;

/* /web/static/src/legacy/legacy_rpc_error_handler.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@web/legacy/legacy_rpc_error_handler',async function(require){'use strict';let __exports={};const{registry}=require("@web/core/registry");const{ConnectionLostError,RPCError}=require("@web/core/network/rpc_service");const{lostConnectionHandler,rpcErrorHandler}=require("@web/core/errors/error_handlers");const errorHandlerRegistry=registry.category("error_handlers");function legacyRPCErrorHandler(env,error,originalError){if(originalError&&originalError.legacy&&originalError.message&&(originalError.message instanceof RPCError||originalError.message instanceof ConnectionLostError)){const event=originalError.event;originalError=originalError.message;if(event.isDefaultPrevented()){error.unhandledRejectionEvent.preventDefault();return true;}
event.preventDefault();if(originalError instanceof ConnectionLostError){return lostConnectionHandler(env,error,originalError);}
return rpcErrorHandler(env,error,originalError);}
return false;}
errorHandlerRegistry.add("legacyRPCErrorHandler",legacyRPCErrorHandler,{sequence:2});return __exports;});;

/* /web/static/src/legacy/frontend/keyboard_navigation_mixin.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web.KeyboardNavigationMixin',function(require){"use strict";var BrowserDetection=require('web.BrowserDetection');const core=require('web.core');var knownUnusableAccessKeys=[' ','A','B','C','H','J','K','L','N','P','S','Q','E','F','D','0','1','2','3','4','5','6','7','8','9'];var KeyboardNavigationMixin={events:{'keydown':'_onKeyDown','keyup':'_onKeyUp',},init:function(options){this.options=Object.assign({autoAccessKeys:true,},options);this._areAccessKeyVisible=false;this.BrowserDetection=new BrowserDetection();},start:function(){const temp=this._hideAccessKeyOverlay.bind(this);this._hideAccessKeyOverlay=()=>temp();window.addEventListener('blur',this._hideAccessKeyOverlay);core.bus.on('click',null,this._hideAccessKeyOverlay);},destroy:function(){window.removeEventListener('blur',this._hideAccessKeyOverlay);core.bus.off('click',null,this._hideAccessKeyOverlay);},_addAccessKeyOverlays:function(){var accesskeyElements=$(document).find('[accesskey]').filter(':visible');_.each(accesskeyElements,function(elem){var overlay=$(_.str.sprintf("<div class='o_web_accesskey_overlay'>%s</div>",$(elem).attr('accesskey').toUpperCase()));var $overlayParent;if(elem.tagName.toUpperCase()==="INPUT"){$overlayParent=$(elem).parent();}else{$overlayParent=$(elem);}
if($overlayParent.css('position')!=='absolute'){$overlayParent.css('position','relative');}
overlay.appendTo($overlayParent);});},_getAllUsedAccessKeys:function(){var usedAccessKeys=knownUnusableAccessKeys.slice();this.$el.find('[accesskey]').each(function(_,elem){usedAccessKeys.push(elem.accessKey.toUpperCase());});return usedAccessKeys;},_hideAccessKeyOverlay:function(){this._areAccessKeyVisible=false;var overlays=this.$el.find('.o_web_accesskey_overlay');if(overlays.length){return overlays.remove();}},_setAccessKeyOnTopNavigation:function(){this.$el.find('.o_menu_sections>li>a').each(function(number,item){item.accessKey=number+1;});},_onKeyDown:function(keyDownEvent){if($('body.o_ui_blocked').length&&(keyDownEvent.altKey||keyDownEvent.key==='Alt')&&!keyDownEvent.ctrlKey){if(keyDownEvent.preventDefault)keyDownEvent.preventDefault();else keyDownEvent.returnValue=false;if(keyDownEvent.stopPropagation)keyDownEvent.stopPropagation();if(keyDownEvent.cancelBubble)keyDownEvent.cancelBubble=true;return false;}
if(!this._areAccessKeyVisible&&(keyDownEvent.altKey||keyDownEvent.key==='Alt')&&!keyDownEvent.ctrlKey){this._areAccessKeyVisible=true;this._setAccessKeyOnTopNavigation();var usedAccessKey=this._getAllUsedAccessKeys();if(this.options.autoAccessKeys){var buttonsWithoutAccessKey=this.$el.find('button.btn:visible').not('[accesskey]').not('[disabled]').not('[tabindex="-1"]');_.each(buttonsWithoutAccessKey,function(elem){var buttonString=[elem.innerText,elem.title,"ABCDEFGHIJKLMNOPQRSTUVWXYZ"].join('');for(var letterIndex=0;letterIndex<buttonString.length;letterIndex++){var candidateAccessKey=buttonString[letterIndex].toUpperCase();if(candidateAccessKey>='A'&&candidateAccessKey<='Z'&&!_.includes(usedAccessKey,candidateAccessKey)){elem.accessKey=candidateAccessKey;usedAccessKey.push(candidateAccessKey);break;}}});}
var elementsWithoutAriaKeyshortcut=this.$el.find('[accesskey]').not('[aria-keyshortcuts]');_.each(elementsWithoutAriaKeyshortcut,function(elem){elem.setAttribute('aria-keyshortcuts','Alt+Shift+'+elem.accessKey);});this._addAccessKeyOverlays();}
if(this.BrowserDetection.isOsMac())
return;if(keyDownEvent.altKey&&!keyDownEvent.ctrlKey&&keyDownEvent.key.length===1){var elementWithAccessKey=[];if(keyDownEvent.keyCode>=65&&keyDownEvent.keyCode<=90||keyDownEvent.keyCode>=97&&keyDownEvent.keyCode<=122){elementWithAccessKey=document.querySelectorAll('[accesskey="'+String.fromCharCode(keyDownEvent.keyCode).toLowerCase()+'"], [accesskey="'+String.fromCharCode(keyDownEvent.keyCode).toUpperCase()+'"]');if(elementWithAccessKey.length){if(this.BrowserDetection.isOsMac()||!this.BrowserDetection.isBrowserChrome()){elementWithAccessKey[0].focus();elementWithAccessKey[0].click();if(keyDownEvent.preventDefault)keyDownEvent.preventDefault();else keyDownEvent.returnValue=false;if(keyDownEvent.stopPropagation)keyDownEvent.stopPropagation();if(keyDownEvent.cancelBubble)keyDownEvent.cancelBubble=true;return false;}}}
else{var numberKey;if(keyDownEvent.originalEvent.code&&keyDownEvent.originalEvent.code.indexOf('Digit')===0){numberKey=keyDownEvent.originalEvent.code[keyDownEvent.originalEvent.code.length-1];}else if(keyDownEvent.originalEvent.key&&keyDownEvent.originalEvent.key.length===1&&keyDownEvent.originalEvent.key>='0'&&keyDownEvent.originalEvent.key<='9'){numberKey=keyDownEvent.originalEvent.key;}else if(keyDownEvent.keyCode>=48&&keyDownEvent.keyCode<=57){numberKey=keyDownEvent.keyCode-48;}
if(numberKey>='0'&&numberKey<='9'){elementWithAccessKey=document.querySelectorAll('[accesskey="'+numberKey+'"]');if(elementWithAccessKey.length){elementWithAccessKey[0].click();if(keyDownEvent.preventDefault)keyDownEvent.preventDefault();else keyDownEvent.returnValue=false;if(keyDownEvent.stopPropagation)keyDownEvent.stopPropagation();if(keyDownEvent.cancelBubble)keyDownEvent.cancelBubble=true;return false;}}}}},_onKeyUp:function(keyUpEvent){if((keyUpEvent.altKey||keyUpEvent.key==='Alt')&&!keyUpEvent.ctrlKey){this._hideAccessKeyOverlay();if(keyUpEvent.preventDefault)keyUpEvent.preventDefault();else keyUpEvent.returnValue=false;if(keyUpEvent.stopPropagation)keyUpEvent.stopPropagation();if(keyUpEvent.cancelBubble)keyUpEvent.cancelBubble=true;return false;}},};return KeyboardNavigationMixin;});;

/* /bus/static/src/js/longpolling_bus.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('bus.Longpolling',function(require){"use strict";var Bus=require('web.Bus');var ServicesMixin=require('web.ServicesMixin');var LongpollingBus=Bus.extend(ServicesMixin,{PARTNERS_PRESENCE_CHECK_PERIOD:30000,ERROR_RETRY_DELAY:10000,POLL_ROUTE:'/longpolling/poll',_isActive:null,_lastNotificationID:0,_isOdooFocused:true,_pollRetryTimeout:null,init:function(parent,params){this._super.apply(this,arguments);this._id=_.uniqueId('bus');this._longPollingBusId=this._id;this._options={};this._channels=[];this._lastPresenceTime=new Date().getTime();$(window).on("focus."+this._longPollingBusId,this._onFocusChange.bind(this,{focus:true}));$(window).on("blur."+this._longPollingBusId,this._onFocusChange.bind(this,{focus:false}));$(window).on("unload."+this._longPollingBusId,this._onFocusChange.bind(this,{focus:false}));$(window).on("click."+this._longPollingBusId,this._onPresence.bind(this));$(window).on("keydown."+this._longPollingBusId,this._onPresence.bind(this));$(window).on("keyup."+this._longPollingBusId,this._onPresence.bind(this));},destroy:function(){this.stopPolling();$(window).off("focus."+this._longPollingBusId);$(window).off("blur."+this._longPollingBusId);$(window).off("unload."+this._longPollingBusId);$(window).off("click."+this._longPollingBusId);$(window).off("keydown."+this._longPollingBusId);$(window).off("keyup."+this._longPollingBusId);this._super();},addChannel:function(channel){if(this._channels.indexOf(channel)===-1){this._channels.push(channel);this._restartPolling();}},deleteChannel:function(channel){var index=this._channels.indexOf(channel);if(index!==-1){this._channels.splice(index,1);if(this._pollRpc){this._pollRpc.abort();}}},isOdooFocused:function(){return this._isOdooFocused;},startPolling:function(){if(this._isActive===null){this._poll=this._poll.bind(this);}
if(!this._isActive){this._isActive=true;this._poll();}},stopPolling:function(){this._isActive=false;this._channels=[];clearTimeout(this._pollRetryTimeout);if(this._pollRpc){this._pollRpc.abort();}},updateOption:function(key,value){this._options[key]=value;},_getLastPresence:function(){return this._lastPresenceTime;},_poll:function(){var self=this;if(!this._isActive){return;}
var now=new Date().getTime();var options=_.extend({},this._options,{bus_inactivity:now-this._getLastPresence(),});var data={channels:this._channels,last:this._lastNotificationID,options:options};this._pollRpc=this._makePoll(data);this._pollRpc.then(function(result){self._pollRpc=false;self._onPoll(result);self._poll();}).guardedCatch(function(result){self._pollRpc=false;result.event.preventDefault();if(result.message==="XmlHttpRequestError abort"){self._poll();}else{self._pollRetryTimeout=setTimeout(self._poll,self.ERROR_RETRY_DELAY+(Math.floor((Math.random()*20)+1)*1000));}});},_makePoll:function(data){return this._rpc({route:this.POLL_ROUTE,params:data},{shadow:true,timeout:60000});},_onFocusChange:function(params){this._isOdooFocused=params.focus;if(params.focus){this._lastPresenceTime=new Date().getTime();this.trigger('window_focus',this._isOdooFocused);}},_onPoll:function(notifications){var self=this;var notifs=_.map(notifications,function(notif){if(notif.id>self._lastNotificationID){self._lastNotificationID=notif.id;}
return notif.message;});this.trigger("notification",notifs);return notifs;},_onPresence:function(){this._lastPresenceTime=new Date().getTime();},_restartPolling(){if(this._pollRpc){this._pollRpc.abort();}else{this.startPolling();}},});return LongpollingBus;});;

/* /bus/static/src/js/crosstab_bus.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('bus.CrossTab',function(require){"use strict";var Longpolling=require('bus.Longpolling');var session=require('web.session');var CrossTabBus=Longpolling.extend({TAB_HEARTBEAT_PERIOD:10000,MASTER_TAB_HEARTBEAT_PERIOD:1500,HEARTBEAT_OUT_OF_DATE_PERIOD:5000,HEARTBEAT_KILL_OLD_PERIOD:15000,LOCAL_STORAGE_PREFIX:'bus',_isMasterTab:false,_isRegistered:false,init:function(){this._super.apply(this,arguments);var now=new Date().getTime();this._sanitizedOrigin=session.origin.replace(/:\/{0,2}/g,'_');this._currentTabChannels=new Set();this._id=_.uniqueId(this.LOCAL_STORAGE_PREFIX)+':'+now;if(this._callLocalStorage('getItem','last_ts',0)+50000<now){this._callLocalStorage('removeItem','last');}
this._lastNotificationID=this._callLocalStorage('getItem','last',0);this.call('local_storage','onStorage',this,this._onStorage);},destroy:function(){this._super();clearTimeout(this._heartbeatTimeout);},addChannel:function(channel){this._currentTabChannels.add(channel);this._super.apply(this,arguments);this._updateChannels();},deleteChannel:function(channel){this._currentTabChannels.delete(channel);this._super.apply(this,arguments);this._updateChannels();},getTabId:function(){return this._id;},isMasterTab:function(){return this._isMasterTab;},startPolling:function(){if(this._isActive===null){this._heartbeat=this._heartbeat.bind(this);}
if(!this._isRegistered){this._isRegistered=true;var peers=this._callLocalStorage('getItem','peers',{});peers[this._id]=new Date().getTime();this._callLocalStorage('setItem','peers',peers);this._registerWindowUnload();if(!this._callLocalStorage('getItem','master')){this._startElection();}
this._heartbeat();if(this._isMasterTab){this._callLocalStorage('setItem','options',this._options);}else{this._options=this._callLocalStorage('getItem','options',this._options);}
this._updateChannels();return;}
if(this._isMasterTab){this._super.apply(this,arguments);}},updateOption:function(){this._super.apply(this,arguments);this._callLocalStorage('setItem','options',this._options);},_callLocalStorage:function(method,key,param){return this.call('local_storage',method,this._generateKey(key),param);},_generateKey:function(key){return this.LOCAL_STORAGE_PREFIX+'.'+this._sanitizedOrigin+'.'+key;},_getLastPresence:function(){return this._callLocalStorage('getItem','lastPresence')||this._super();},_heartbeat:function(){var now=new Date().getTime();var heartbeatValue=parseInt(this._callLocalStorage('getItem','heartbeat',0));var peers=this._callLocalStorage('getItem','peers',{});if((heartbeatValue+this.HEARTBEAT_OUT_OF_DATE_PERIOD)<now){this._startElection();heartbeatValue=parseInt(this._callLocalStorage('getItem','heartbeat',0));}
if(this._isMasterTab){var cleanedPeers={};for(var peerName in peers){if(peers[peerName]+this.HEARTBEAT_KILL_OLD_PERIOD>now){cleanedPeers[peerName]=peers[peerName];}}
if(heartbeatValue!==this.lastHeartbeat){this._isMasterTab=false;this.lastHeartbeat=0;peers[this._id]=now;this._callLocalStorage('setItem','peers',peers);this.stopPolling();this.trigger('no_longer_master');}else{this.lastHeartbeat=now;this._callLocalStorage('setItem','heartbeat',now);this._callLocalStorage('setItem','peers',cleanedPeers);}}else{peers[this._id]=now;this._callLocalStorage('setItem','peers',peers);}
var hbPeriod=this._isMasterTab?this.MASTER_TAB_HEARTBEAT_PERIOD:this.TAB_HEARTBEAT_PERIOD;if(this._lastPresenceTime+hbPeriod>now){this._callLocalStorage('setItem','lastPresence',this._lastPresenceTime);}
this._heartbeatTimeout=setTimeout(this._heartbeat.bind(this),hbPeriod);},_registerWindowUnload:function(){$(window).on('unload.'+this._id,this._onUnload.bind(this));},_startElection:function(){if(this._isMasterTab){return;}
var now=new Date().getTime();var peers=this._callLocalStorage('getItem','peers',{});var heartbeatKillOld=now-this.HEARTBEAT_KILL_OLD_PERIOD;var newMaster;for(var peerName in peers){if(peers[peerName]<heartbeatKillOld){continue;}
newMaster=peerName;break;}
if(newMaster===this._id){this.lastHeartbeat=now;this._callLocalStorage('setItem','heartbeat',this.lastHeartbeat);this._callLocalStorage('setItem','master',true);this._isMasterTab=true;this.startPolling();this.trigger('become_master');delete peers[newMaster];this._callLocalStorage('setItem','peers',peers);}},_updateChannels:function(){const currentPeerIds=new Set(Object.keys(this._callLocalStorage('getItem','peers')||{}));const peerChannels=this._callLocalStorage('getItem','channels')||{};const peerChannelsBefore=JSON.stringify(peerChannels);peerChannels[this._id]=Array.from(this._currentTabChannels);for(const channelPeerId of Object.keys(peerChannels)){if(!currentPeerIds.has(channelPeerId)){delete peerChannels[channelPeerId];}}
const peerChannelsAfter=JSON.stringify(peerChannels);if(peerChannelsBefore===peerChannelsAfter){return false;}
this._callLocalStorage('setItem','channels',peerChannels);const allChannels=new Set();for(const channels of Object.values(peerChannels)){for(const channel of channels){allChannels.add(channel);}}
for(const channel of this._currentTabChannels){allChannels.add(channel);}
this._channels=Array.from(allChannels);return true;},_onFocusChange:function(params){this._super.apply(this,arguments);this._callLocalStorage('setItem','focus',params.focus);},_onPoll:function(notifications){var notifs=this._super(notifications);if(this._isMasterTab&&notifs.length){this._callLocalStorage('setItem','last',this._lastNotificationID);this._callLocalStorage('setItem','last_ts',new Date().getTime());this._callLocalStorage('setItem','notification',notifs);}},_onStorage:function(e){var value=JSON.parse(e.newValue);var key=e.key;if(this._isRegistered&&key===this._generateKey('master')&&!value){this._startElection();}
if(key===this._generateKey('last')){this._lastNotificationID=value||0;}
else if(key===this._generateKey('notification')){if(!this._isMasterTab){this.trigger("notification",value);}}
else if(key===this._generateKey('channels')){if(this._updateChannels()){this._restartPolling();};}
else if(key===this._generateKey('options')){this._options=value;}
else if(key===this._generateKey('focus')){this._isOdooFocused=value;this.trigger('window_focus',this._isOdooFocused);}},_onUnload:function(){var peers=this._callLocalStorage('getItem','peers')||{};delete peers[this._id];this._callLocalStorage('setItem','peers',peers);this._currentTabChannels.clear();this._updateChannels();if(this._isMasterTab){this._callLocalStorage('removeItem','master');}},});return CrossTabBus;});;

/* /bus/static/src/js/services/bus_service.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('bus.BusService',function(require){"use strict";var CrossTab=require('bus.CrossTab');var core=require('web.core');var ServicesMixin=require('web.ServicesMixin');const session=require('web.session');var BusService=CrossTab.extend(ServicesMixin,{dependencies:['local_storage'],_audio:null,init:function(env){this.env=env;this._super();},_trigger_up:function(ev){if(ev.name==='call_service'){const payload=ev.data;let args=payload.args||[];if(payload.service==='ajax'&&payload.method==='rpc'){args=args.concat(ev.target);}
const service=this.env.services[payload.service];const result=service[payload.method].apply(service,args);payload.callback(result);}},start:function(){},sendNotification(options,callback){if(window.Notification&&Notification.permission==="granted"){if(this.isMasterTab()){try{this._sendNativeNotification(options.title,options.message,callback);}catch(error){if(error.message.indexOf('ServiceWorkerRegistration')>-1){this.displayNotification(options);this._beep();}else{throw error;}}}}else{this.displayNotification(options);if(this.isMasterTab()){this._beep();}}},onNotification:function(){this.on.apply(this,["notification"].concat(Array.prototype.slice.call(arguments)));},_beep:function(){if(typeof(Audio)!=="undefined"){if(!this._audio){this._audio=new Audio();var ext=this._audio.canPlayType("audio/ogg; codecs=vorbis")?".ogg":".mp3";this._audio.src=session.url("/mail/static/src/audio/ting"+ext);}
Promise.resolve(this._audio.play()).catch(_.noop);}},_sendNativeNotification:function(title,content,callback){var notification=new Notification(_.unescape(title),{body:_.unescape(content),icon:"/mail/static/src/img/odoobot_transparent.png"});notification.onclick=function(){window.focus();if(this.cancel){this.cancel();}else if(this.close){this.close();}
if(callback){callback();}};},});core.serviceRegistry.add('bus_service',BusService);return BusService;});;

/* /web_tour/static/src/js/public/tour_manager.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web_tour.public.TourManager',function(require){'use strict';var TourManager=require('web_tour.TourManager');var lazyloader=require('web.public.lazyloader');TourManager.include({_waitBeforeTourStart:function(){return this._super.apply(this,arguments).then(function(){return lazyloader.allScriptsLoaded;}).then(function(){return new Promise(function(resolve){setTimeout(resolve);});});},});});;

/* /web_editor/static/src/js/wysiwyg/dialog.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('wysiwyg.widgets.Dialog',function(require){'use strict';var config=require('web.config');var core=require('web.core');var Dialog=require('web.Dialog');var _t=core._t;var WysiwygDialog=Dialog.extend({init:function(parent,options){this.options=options||{};if(config.device.isMobile){options.fullscreen=true;}
this._super(parent,_.extend({},{buttons:[{text:this.options.save_text||_t("Save"),classes:'btn-primary',click:this.save,},{text:_t("Discard"),close:true,}]},this.options));this.destroyAction='cancel';var self=this;this.opened(function(){self.$('input:visible:first').focus();self.$el.closest('.modal').addClass('o_web_editor_dialog');self.$el.closest('.modal').on('hidden.bs.modal',self.options.onClose);});this.on('closed',this,function(){self._toggleFullScreen();this.trigger(this.destroyAction,this.final_data||null);});},_toggleFullScreen:function(){if(config.device.isMobile&&!this.hasFullScreen){$('#iframe_target[isMobile="true"] #web_editor-top-edit .o_fullscreen').click();}},save:function(){this.destroyAction="save";this.close();},open:function(){this.hasFullScreen=$(window.top.document.body).hasClass('o_field_widgetTextHtml_fullscreen');this._toggleFullScreen();return this._super.apply(this,arguments);},});return WysiwygDialog;});;

/* /web_editor/static/src/js/frontend/loader.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web_editor.loader',function(require){'use strict';var ajax=require('web.ajax');let wysiwygPromise;const exports={};function loadWysiwyg(additionnalAssets=[]){return ajax.loadLibs({assetLibs:['web_editor.compiled_assets_wysiwyg',...additionnalAssets]},undefined,'/web_editor/public_render_template');}
exports.loadWysiwyg=loadWysiwyg;exports.createWysiwyg=async(parent,options,additionnalAssets=[])=>{if(!wysiwygPromise){wysiwygPromise=new Promise(async(resolve)=>{await loadWysiwyg(additionnalAssets);const stringFunction=`return new Promise(resolve => {
                odoo.define('web_editor.wysiwig.loaded', require => {
                    `+'require'+`('web_editor.wysiwyg');
                    resolve();
                });
            });`;await new Function(stringFunction)();resolve();});}
await wysiwygPromise;const Wysiwyg=odoo.__DEBUG__.services['web_editor.wysiwyg'];return new Wysiwyg(parent,options);};exports.loadFromTextarea=async(parent,textarea,options)=>{var loading=textarea.nextElementSibling;if(loading&&!loading.classList.contains('o_wysiwyg_loading')){loading=null;}
const $textarea=$(textarea);const currentOptions=Object.assign({},options);currentOptions.value=currentOptions.value||$textarea.val()||'';if(!currentOptions.value.trim()){currentOptions.value='<p><br></p>';}
const wysiwyg=await exports.createWysiwyg(parent,currentOptions);const $wysiwygWrapper=$textarea.closest('.o_wysiwyg_textarea_wrapper');const $form=$textarea.closest('form');$textarea.hide();$form.append($textarea);$wysiwygWrapper.html('');await wysiwyg.appendTo($wysiwygWrapper);$form.find('.note-editable').data('wysiwyg',wysiwyg);$form.find('.note-editable').find('img.o_we_selected_image').removeClass('o_we_selected_image');$form.on('click','button[type=submit]',(e)=>{$form.find('.note-editable').find('img.o_we_selected_image').removeClass('o_we_selected_image');$form.find('.note-editable').find('img.float-left').removeClass('float-left');$textarea.html(wysiwyg.getValue());});return wysiwyg;};return exports;});;

/* /auth_signup/static/src/js/signup.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('auth_signup.signup',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.SignUpForm=publicWidget.Widget.extend({selector:'.oe_signup_form',events:{'submit':'_onSubmit',},_onSubmit:function(){var $btn=this.$('.oe_login_buttons > button[type="submit"]');$btn.attr('disabled','disabled');$btn.prepend('<i class="fa fa-refresh fa-spin"/> ');},});});;

/* /portal/static/src/js/portal.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.portal',function(require){'use strict';var publicWidget=require('web.public.widget');const Dialog=require('web.Dialog');const{_t,qweb}=require('web.core');const ajax=require('web.ajax');publicWidget.registry.portalDetails=publicWidget.Widget.extend({selector:'.o_portal_details',events:{'change select[name="country_id"]':'_onCountryChange',},start:function(){var def=this._super.apply(this,arguments);this.$state=this.$('select[name="state_id"]');this.$stateOptions=this.$state.filter(':enabled').find('option:not(:first)');this._adaptAddressForm();return def;},_adaptAddressForm:function(){var $country=this.$('select[name="country_id"]');var countryID=($country.val()||0);this.$stateOptions.detach();var $displayedState=this.$stateOptions.filter('[data-country_id='+countryID+']');var nb=$displayedState.appendTo(this.$state).show().length;this.$state.parent().toggle(nb>=1);},_onCountryChange:function(){this._adaptAddressForm();},});publicWidget.registry.PortalHomeCounters=publicWidget.Widget.extend({selector:'.o_portal_my_home',start:function(){var def=this._super.apply(this,arguments);this._updateCounters();return def;},async _updateCounters(elem){const numberRpc=3;const needed=this.$('[data-placeholder_count]').map((i,o)=>$(o).data('placeholder_count')).toArray();const counterByRpc=Math.ceil(needed.length/numberRpc);const proms=[...Array(Math.min(numberRpc,needed.length)).keys()].map(async i=>{await this._rpc({route:"/my/counters",params:{counters:needed.slice(i*counterByRpc,(i+1)*counterByRpc)},}).then(data=>{Object.keys(data).map(k=>this.$("[data-placeholder_count='"+k+"']").text(data[k]));});});return Promise.all(proms);},});publicWidget.registry.portalSearchPanel=publicWidget.Widget.extend({selector:'.o_portal_search_panel',events:{'click .dropdown-item':'_onDropdownItemClick','submit':'_onSubmit',},start:function(){var def=this._super.apply(this,arguments);this._adaptSearchLabel(this.$('.dropdown-item.active'));return def;},_adaptSearchLabel:function(elem){var $label=$(elem).clone();$label.find('span.nolabel').remove();this.$('input[name="search"]').attr('placeholder',$label.text().trim());},_search:function(){var search=$.deparam(window.location.search.substring(1));search['search_in']=this.$('.dropdown-item.active').attr('href').replace('#','');search['search']=this.$('input[name="search"]').val();window.location.search=$.param(search);},_onDropdownItemClick:function(ev){ev.preventDefault();var $item=$(ev.currentTarget);$item.closest('.dropdown-menu').find('.dropdown-item').removeClass('active');$item.addClass('active');this._adaptSearchLabel(ev.currentTarget);},_onSubmit:function(ev){ev.preventDefault();this._search();},});function handleCheckIdentity(rpc,wrapped){return wrapped.then((r)=>{if(!_.isMatch(r,{type:'ir.actions.act_window',res_model:'res.users.identitycheck'})){return r;}
const check_id=r.res_id;return ajax.loadXML('/portal/static/src/xml/portal_security.xml',qweb).then(()=>new Promise((resolve,reject)=>{const d=new Dialog(null,{title:_t("Security Control"),$content:qweb.render('portal.identitycheck'),buttons:[{text:_t("Confirm Password"),classes:'btn btn-primary',click(){const password_input=this.el.querySelector('[name=password]');if(!password_input.reportValidity()){password_input.classList.add('is-invalid');return;}
return rpc({model:'res.users.identitycheck',method:'write',args:[check_id,{password:password_input.value}]}).then(()=>rpc({model:'res.users.identitycheck',method:'run_check',args:[check_id]})).then((r)=>{this.close();resolve(r);},(err)=>{err.event.preventDefault();password_input.classList.add('is-invalid');password_input.setCustomValidity(_t("Check failed"));password_input.reportValidity();});}},{text:_t('Cancel'),close:true}]}).on('close',null,()=>{reject();});d.opened(()=>{const pw=d.el.querySelector('[name="password"]');pw.focus();pw.addEventListener('input',()=>{pw.classList.remove('is-invalid');pw.setCustomValidity('');});d.el.addEventListener('submit',(e)=>{e.preventDefault();d.$footer.find('.btn-primary').click();});});d.open();}));});}
return{handleCheckIdentity,}});;

/* /portal/static/src/js/portal_chatter.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.chatter',function(require){'use strict';var core=require('web.core');const dom=require('web.dom');var publicWidget=require('web.public.widget');var time=require('web.time');var portalComposer=require('portal.composer');const{Markup}=require('web.utils');var qweb=core.qweb;var _t=core._t;var PortalChatter=publicWidget.Widget.extend({template:'portal.Chatter',xmlDependencies:['/portal/static/src/xml/portal_chatter.xml'],events:{'click .o_portal_chatter_pager_btn':'_onClickPager','click .o_portal_chatter_js_is_internal':'async _onClickUpdateIsInternal',},init:function(parent,options){var self=this;this.options={};this._super.apply(this,arguments);this._setOptions(options);this.set('messages',[]);this.set('message_count',this.options['message_count']);this.set('pager',{});this.set('domain',this.options['domain']);this._currentPage=this.options['pager_start'];},willStart:function(){return Promise.all([this._super.apply(this,arguments),this._chatterInit()]);},start:function(){this.on("change:messages",this,this._renderMessages);this.on("change:message_count",this,function(){this._renderMessageCount();this.set('pager',this._pager(this._currentPage));});this.on("change:pager",this,this._renderPager);this.on("change:domain",this,this._onChangeDomain);this.set('message_count',this.options['message_count']);this.set('messages',this.preprocessMessages(this.result['messages']));core.bus.on('reload_chatter_content',this,this._reloadChatterContent);return Promise.all([this._super.apply(this,arguments),this._reloadComposer()]);},messageFetch:function(domain){var self=this;return this._rpc({route:'/mail/chatter_fetch',params:self._messageFetchPrepareParams(),}).then(function(result){self.set('messages',self.preprocessMessages(result['messages']));self.set('message_count',result['message_count']);return result;});},preprocessMessages(messages){_.each(messages,function(m){m['author_avatar_url']=_.str.sprintf('/web/image/%s/%s/author_avatar/50x50','mail.message',m.id);m['published_date_str']=_.str.sprintf(_t('Published on %s'),moment(time.str_to_datetime(m.date)).format('MMMM Do YYYY, h:mm:ss a'));m['body']=Markup(m.body);});return messages;},_setOptions:function(options){const defaultOptions=Object.assign({'allow_composer':true,'display_composer':false,'csrf_token':odoo.csrf_token,'message_count':0,'pager_step':10,'pager_scope':5,'pager_start':1,'is_user_public':true,'is_user_employee':false,'is_user_publisher':false,'hash':false,'pid':false,'domain':[],'two_columns':false,},this.options||{});this.options=Object.entries(options).reduce((acc,[key,value])=>{acc[_.str.underscored(key)]=value;return acc;},defaultOptions);},_reloadChatterContent:function(data){this.messageFetch();this._reloadComposer();},_createComposerWidget:function(){return new portalComposer.PortalComposer(this,this.options);},_reloadComposer:async function(){if(this._composer){this._composer.destroy();}
if(this.options.display_composer){this._composer=this._createComposerWidget();await this._composer.appendTo(this.$('.o_portal_chatter_composer'));}},_chatterInit:function(){var self=this;return this._rpc({route:'/mail/chatter_init',params:this._messageFetchPrepareParams()}).then(function(result){self.result=result;self.options=_.extend(self.options,self.result['options']||{});return result;});},_changeCurrentPage:function(page,domain){this._currentPage=page;var d=domain?domain:_.clone(this.get('domain'));this.set('domain',d);},_messageFetchPrepareParams:function(){var self=this;var data={'res_model':this.options['res_model'],'res_id':this.options['res_id'],'limit':this.options['pager_step'],'offset':(this._currentPage-1)*this.options['pager_step'],'allow_composer':this.options['allow_composer'],};if(self.options['token']){data['token']=self.options['token'];}
if(this.get('domain')){data['domain']=this.get('domain');}
return data;},_pager:function(page){page=page||1;var total=this.get('message_count');var scope=this.options['pager_scope'];var step=this.options['pager_step'];var pageCount=Math.ceil(parseFloat(total)/step);page=Math.max(1,Math.min(parseInt(page),pageCount));scope-=1;var pmin=Math.max(page-parseInt(Math.floor(scope/2)),1);var pmax=Math.min(pmin+scope,pageCount);if(pmax-scope>0){pmin=pmax-scope;}else{pmin=1;}
var pages=[];_.each(_.range(pmin,pmax+1),function(index){pages.push(index);});return{"page_count":pageCount,"offset":(page-1)*step,"page":page,"page_start":pmin,"page_previous":Math.max(pmin,page-1),"page_next":Math.min(pmax,page+1),"page_end":pmax,"pages":pages};},_renderMessages:function(){this.$('.o_portal_chatter_messages').html(qweb.render("portal.chatter_messages",{widget:this}));},_renderMessageCount:function(){this.$('.o_message_counter').replaceWith(qweb.render("portal.chatter_message_count",{widget:this}));},_renderPager:function(){this.$('.o_portal_chatter_pager').replaceWith(qweb.render("portal.pager",{widget:this}));},_onChangeDomain:function(){var self=this;this.messageFetch().then(function(){var p=self._currentPage;self.set('pager',self._pager(p));});},_onClickPager:function(ev){ev.preventDefault();var page=$(ev.currentTarget).data('page');this._changeCurrentPage(page);},_onClickUpdateIsInternal:function(ev){ev.preventDefault();var $elem=$(ev.currentTarget);return this._rpc({route:'/mail/update_is_internal',params:{message_id:$elem.data('message-id'),is_internal:!$elem.data('is-internal'),},}).then(function(result){$elem.data('is-internal',result);if(result===true){$elem.addClass('o_portal_message_internal_on');$elem.removeClass('o_portal_message_internal_off');}else{$elem.addClass('o_portal_message_internal_off');$elem.removeClass('o_portal_message_internal_on');}});},});publicWidget.registry.portalChatter=publicWidget.Widget.extend({selector:'.o_portal_chatter',async start(){const proms=[this._super.apply(this,arguments)];const chatter=new PortalChatter(this,this.$el.data());proms.push(chatter.appendTo(this.$el));await Promise.all(proms);if(window.location.hash===`#${this.el.id}`){dom.scrollTo(this.el,{duration:0});}},});return{PortalChatter:PortalChatter,};});;

/* /portal/static/src/js/portal_composer.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.composer',function(require){'use strict';var ajax=require('web.ajax');var core=require('web.core');var publicWidget=require('web.public.widget');var qweb=core.qweb;var _t=core._t;var PortalComposer=publicWidget.Widget.extend({template:'portal.Composer',xmlDependencies:['/portal/static/src/xml/portal_chatter.xml'],events:{'change .o_portal_chatter_file_input':'_onFileInputChange','click .o_portal_chatter_attachment_btn':'_onAttachmentButtonClick','click .o_portal_chatter_attachment_delete':'async _onAttachmentDeleteClick','click .o_portal_chatter_composer_btn':'async _onSubmitButtonClick',},init:function(parent,options){this._super.apply(this,arguments);this.options=_.defaults(options||{},{'allow_composer':true,'display_composer':false,'csrf_token':odoo.csrf_token,'token':false,'res_model':false,'res_id':false,});this.attachments=[];},start:function(){var self=this;this.$attachmentButton=this.$('.o_portal_chatter_attachment_btn');this.$fileInput=this.$('.o_portal_chatter_file_input');this.$sendButton=this.$('.o_portal_chatter_composer_btn');this.$attachments=this.$('.o_portal_chatter_composer_input .o_portal_chatter_attachments');this.$inputTextarea=this.$('.o_portal_chatter_composer_input textarea[name="message"]');return this._super.apply(this,arguments).then(function(){if(self.options.default_attachment_ids){self.attachments=self.options.default_attachment_ids||[];_.each(self.attachments,function(attachment){attachment.state='done';});self._updateAttachments();}
return Promise.resolve();});},_onAttachmentButtonClick:function(){this.$fileInput.click();},_onAttachmentDeleteClick:function(ev){var self=this;var attachmentId=$(ev.currentTarget).closest('.o_portal_chatter_attachment').data('id');var accessToken=_.find(this.attachments,{'id':attachmentId}).access_token;ev.preventDefault();ev.stopPropagation();this.$sendButton.prop('disabled',true);return this._rpc({route:'/portal/attachment/remove',params:{'attachment_id':attachmentId,'access_token':accessToken,},}).then(function(){self.attachments=_.reject(self.attachments,{'id':attachmentId});self._updateAttachments();self.$sendButton.prop('disabled',false);});},_prepareAttachmentData:function(file){return{'name':file.name,'file':file,'res_id':this.options.res_id,'res_model':this.options.res_model,'access_token':this.options.token,};},_onFileInputChange:function(){var self=this;this.$sendButton.prop('disabled',true);return Promise.all(_.map(this.$fileInput[0].files,function(file){return new Promise(function(resolve,reject){var data=self._prepareAttachmentData(file);ajax.post('/portal/attachment/add',data).then(function(attachment){attachment.state='pending';self.attachments.push(attachment);self._updateAttachments();resolve();}).guardedCatch(function(error){self.displayNotification({message:_.str.sprintf(_t("Could not save file <strong>%s</strong>"),_.escape(file.name)),type:'warning',sticky:true,});resolve();});});})).then(function(){self.$fileInput[0].value=null;self.$sendButton.prop('disabled',false);});},_prepareMessageData:function(){return Object.assign(this.options||{},{'message':this.$('textarea[name="message"]').val(),'attachment_ids':_.pluck(this.attachments,'id'),'attachment_tokens':_.pluck(this.attachments,'access_token'),});},_onSubmitButtonClick:function(ev){ev.preventDefault();if(!this.$inputTextarea.val().trim()&&!this.attachments.length){this.$inputTextarea.addClass('border-danger');const error=_t('Some fields are required. Please make sure to write a message or attach a document');this.$(".o_portal_chatter_composer_error").text(error).removeClass('d-none');return Promise.reject();}else{return this._chatterPostMessage(ev.currentTarget.getAttribute('data-action'));}},_updateAttachments:function(){this.$attachments.html(qweb.render('portal.Chatter.Attachments',{attachments:this.attachments,showDelete:true,}));},_chatterPostMessage:async function(route){const result=await this._rpc({route:route,params:this._prepareMessageData(),});core.bus.trigger('reload_chatter_content',result);return result;},});return{PortalComposer:PortalComposer,};});;

/* /portal/static/src/js/portal_signature.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.signature_form',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var NameAndSignature=require('web.name_and_signature').NameAndSignature;var qweb=core.qweb;var _t=core._t;var SignatureForm=publicWidget.Widget.extend({template:'portal.portal_signature',xmlDependencies:['/portal/static/src/xml/portal_signature.xml'],events:{'click .o_portal_sign_submit':'async _onClickSignSubmit',},custom_events:{'signature_changed':'_onChangeSignature',},init:function(parent,options){this._super.apply(this,arguments);this.csrf_token=odoo.csrf_token;this.callUrl=options.callUrl||'';this.rpcParams=options.rpcParams||{};this.sendLabel=options.sendLabel||_t("Accept & Sign");this.nameAndSignature=new NameAndSignature(this,options.nameAndSignatureOptions||{});},start:function(){var self=this;this.$confirm_btn=this.$('.o_portal_sign_submit');this.$controls=this.$('.o_portal_sign_controls');var subWidgetStart=this.nameAndSignature.replace(this.$('.o_web_sign_name_and_signature'));return Promise.all([subWidgetStart,this._super.apply(this,arguments)]).then(function(){self.nameAndSignature.resetSignature();});},focusName:function(){this.nameAndSignature.focusName();},resetSignature:function(){return this.nameAndSignature.resetSignature();},_onClickSignSubmit:function(ev){var self=this;ev.preventDefault();if(!this.nameAndSignature.validateSignature()){return;}
var name=this.nameAndSignature.getName();var signature=this.nameAndSignature.getSignatureImage()[1];return this._rpc({route:this.callUrl,params:_.extend(this.rpcParams,{'name':name,'signature':signature,}),}).then(function(data){if(data.error){self.$('.o_portal_sign_error_msg').remove();self.$controls.prepend(qweb.render('portal.portal_signature_error',{widget:data}));}else if(data.success){var $success=qweb.render('portal.portal_signature_success',{widget:data});self.$el.empty().append($success);}
if(data.force_refresh){if(data.redirect_url){window.location=data.redirect_url;}else{window.location.reload();}
return new Promise(function(){});}});},_onChangeSignature:function(){var isEmpty=this.nameAndSignature.isSignatureEmpty();this.$confirm_btn.prop('disabled',isEmpty);},});publicWidget.registry.SignatureForm=publicWidget.Widget.extend({selector:'.o_portal_signature_form',start:function(){var hasBeenReset=false;var callUrl=this.$el.data('call-url');var nameAndSignatureOptions={defaultName:this.$el.data('default-name'),mode:this.$el.data('mode'),displaySignatureRatio:this.$el.data('signature-ratio'),signatureType:this.$el.data('signature-type'),fontColor:this.$el.data('font-color')||'black',};var sendLabel=this.$el.data('send-label');var form=new SignatureForm(this,{callUrl:callUrl,nameAndSignatureOptions:nameAndSignatureOptions,sendLabel:sendLabel,});this.$el.closest('.modal').on('shown.bs.modal',function(ev){if(!hasBeenReset){hasBeenReset=true;form.resetSignature();}else{form.focusName();}});return Promise.all([this._super.apply(this,arguments),form.appendTo(this.$el)]);},});return{SignatureForm:SignatureForm,};});;

/* /portal/static/src/js/portal_sidebar.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.PortalSidebar',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var time=require('web.time');var session=require('web.session');var _t=core._t;var PortalSidebar=publicWidget.Widget.extend({start:function(){this._setDelayLabel();return this._super.apply(this,arguments);},_setDelayLabel:function(){var $sidebarTimeago=this.$el.find('.o_portal_sidebar_timeago');_.each($sidebarTimeago,function(el){var dateTime=moment(time.auto_str_to_date($(el).attr('datetime'))),today=moment().startOf('day'),diff=dateTime.diff(today,'days',true),displayStr;session.is_bound.then(function(){if(diff===0){displayStr=_t('Due today');}else if(diff>0){displayStr=_.str.sprintf(_t('Due in %1d days'),Math.abs(diff));}else{displayStr=_.str.sprintf(_t('%1d days overdue'),Math.abs(diff));}
$(el).text(displayStr);});});},_printIframeContent:function(href){if($.browser.mozilla){window.open(href,'_blank');return;}
if(!this.printContent){this.printContent=$('<iframe id="print_iframe_content" src="'+href+'" style="display:none"></iframe>');this.$el.append(this.printContent);this.printContent.on('load',function(){$(this).get(0).contentWindow.print();});}else{this.printContent.get(0).contentWindow.print();}},});return PortalSidebar;});;

/* /account/static/src/js/account_portal_sidebar.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('account.AccountPortalSidebar',function(require){'use strict';const dom=require('web.dom');var publicWidget=require('web.public.widget');var PortalSidebar=require('portal.PortalSidebar');var utils=require('web.utils');publicWidget.registry.AccountPortalSidebar=PortalSidebar.extend({selector:'.o_portal_invoice_sidebar',events:{'click .o_portal_invoice_print':'_onPrintInvoice',},start:function(){var def=this._super.apply(this,arguments);var $invoiceHtml=this.$el.find('iframe#invoice_html');var updateIframeSize=this._updateIframeSize.bind(this,$invoiceHtml);$(window).on('resize',updateIframeSize);var iframeDoc=$invoiceHtml[0].contentDocument||$invoiceHtml[0].contentWindow.document;if(iframeDoc.readyState==='complete'){updateIframeSize();}else{$invoiceHtml.on('load',updateIframeSize);}
return def;},_updateIframeSize:function($el){var $wrapwrap=$el.contents().find('div#wrapwrap');$el.height(0);$el.height($wrapwrap[0].scrollHeight);if(!utils.isValidAnchor(window.location.hash)){return;}
var $target=$(window.location.hash);if(!$target.length){return;}
dom.scrollTo($target[0],{duration:0});},_onPrintInvoice:function(ev){ev.preventDefault();var href=$(ev.currentTarget).attr('href');this._printIframeContent(href);},});});;

/* /payment/static/lib/jquery.payment/jquery.payment.js defined in bundle 'web.assets_frontend_lazy' */
(function(){var $,cardFromNumber,cardFromType,cards,defaultFormat,formatBackCardNumber,formatBackExpiry,formatCardNumber,formatExpiry,formatForwardExpiry,formatForwardSlashAndSpace,hasTextSelected,luhnCheck,reFormatCVC,reFormatCardNumber,reFormatExpiry,reFormatNumeric,replaceFullWidthChars,restrictCVC,restrictCardNumber,restrictExpiry,restrictNumeric,safeVal,setCardType,__slice=[].slice,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i;}return-1;};$=window.jQuery||window.Zepto||window.$;$.payment={};$.payment.fn={};$.fn.payment=function(){var args,method;method=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];return $.payment.fn[method].apply(this,args);};defaultFormat=/(\d{1,4})/g;$.payment.cards=cards=[{type:'maestro',patterns:[5018,502,503,506,56,58,639,6220,67],format:defaultFormat,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:true},{type:'forbrugsforeningen',patterns:[600],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'dankort',patterns:[5019],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'visa',patterns:[4],format:defaultFormat,length:[13,16],cvcLength:[3],luhn:true},{type:'mastercard',patterns:[51,52,53,54,55,22,23,24,25,26,27],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'amex',patterns:[34,37],format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:true},{type:'dinersclub',patterns:[30,36,38,39],format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:true},{type:'discover',patterns:[60,64,65,622],format:defaultFormat,length:[16],cvcLength:[3],luhn:true},{type:'unionpay',patterns:[62,88],format:defaultFormat,length:[16,17,18,19],cvcLength:[3],luhn:false},{type:'jcb',patterns:[35],format:defaultFormat,length:[16],cvcLength:[3],luhn:true}];cardFromNumber=function(num){var card,p,pattern,_i,_j,_len,_len1,_ref;num=(num+'').replace(/\D/g,'');for(_i=0,_len=cards.length;_i<_len;_i++){card=cards[_i];_ref=card.patterns;for(_j=0,_len1=_ref.length;_j<_len1;_j++){pattern=_ref[_j];p=pattern+'';if(num.substr(0,p.length)===p){return card;}}}};cardFromType=function(type){var card,_i,_len;for(_i=0,_len=cards.length;_i<_len;_i++){card=cards[_i];if(card.type===type){return card;}}};luhnCheck=function(num){var digit,digits,odd,sum,_i,_len;odd=true;sum=0;digits=(num+'').split('').reverse();for(_i=0,_len=digits.length;_i<_len;_i++){digit=digits[_i];digit=parseInt(digit,10);if((odd=!odd)){digit*=2;}
if(digit>9){digit-=9;}
sum+=digit;}
return sum%10===0;};hasTextSelected=function($target){var _ref;if(($target.prop('selectionStart')!=null)&&$target.prop('selectionStart')!==$target.prop('selectionEnd')){return true;}
if((typeof document!=="undefined"&&document!==null?(_ref=document.selection)!=null?_ref.createRange:void 0:void 0)!=null){if(document.selection.createRange().text){return true;}}
return false;};safeVal=function(value,$target){var currPair,cursor,digit,error,last,prevPair;try{cursor=$target.prop('selectionStart');}catch(_error){error=_error;cursor=null;}
last=$target.val();$target.val(value);if(cursor!==null&&$target.is(":focus")){if(cursor===last.length){cursor=value.length;}
if(last!==value){prevPair=last.slice(cursor-1,+cursor+1||9e9);currPair=value.slice(cursor-1,+cursor+1||9e9);digit=value[cursor];if(/\d/.test(digit)&&prevPair===(""+digit+" ")&&currPair===(" "+digit)){cursor=cursor+1;}}
$target.prop('selectionStart',cursor);return $target.prop('selectionEnd',cursor);}};replaceFullWidthChars=function(str){var chars,chr,fullWidth,halfWidth,idx,value,_i,_len;if(str==null){str='';}
fullWidth='\uff10\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\uff19';halfWidth='0123456789';value='';chars=str.split('');for(_i=0,_len=chars.length;_i<_len;_i++){chr=chars[_i];idx=fullWidth.indexOf(chr);if(idx>-1){chr=halfWidth[idx];}
value+=chr;}
return value;};reFormatNumeric=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=value.replace(/\D/g,'');return safeVal(value,$target);});};reFormatCardNumber=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=$.payment.formatCardNumber(value);return safeVal(value,$target);});};formatCardNumber=function(e){var $target,card,digit,length,re,upperLength,value;digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
$target=$(e.currentTarget);value=$target.val();card=cardFromNumber(value+digit);length=(value.replace(/\D/g,'')+digit).length;upperLength=16;if(card){upperLength=card.length[card.length.length-1];}
if(length>=upperLength){return;}
if(($target.prop('selectionStart')!=null)&&$target.prop('selectionStart')!==value.length){return;}
if(card&&card.type==='amex'){re=/^(\d{4}|\d{4}\s\d{6})$/;}else{re=/(?:^|\s)(\d{4})$/;}
if(re.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value+' '+digit);});}else if(re.test(value+digit)){e.preventDefault();return setTimeout(function(){return $target.val(value+digit+' ');});}};formatBackCardNumber=function(e){var $target,value;$target=$(e.currentTarget);value=$target.val();if(e.which!==8){return;}
if(($target.prop('selectionStart')!=null)&&$target.prop('selectionStart')!==value.length){return;}
if(/\d\s$/.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value.replace(/\d\s$/,''));});}else if(/\s\d?$/.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value.replace(/\d$/,''));});}};reFormatExpiry=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=$.payment.formatExpiry(value);return safeVal(value,$target);});};formatExpiry=function(e){var $target,digit,val;digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
$target=$(e.currentTarget);val=$target.val()+digit;if(/^\d$/.test(val)&&(val!=='0'&&val!=='1')){e.preventDefault();return setTimeout(function(){return $target.val("0"+val+" / ");});}else if(/^\d\d$/.test(val)){e.preventDefault();return setTimeout(function(){var m1,m2;m1=parseInt(val[0],10);m2=parseInt(val[1],10);if(m2>2&&m1!==0){return $target.val("0"+m1+" / "+m2);}else{return $target.val(""+val+" / ");}});}};formatForwardExpiry=function(e){var $target,digit,val;digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
$target=$(e.currentTarget);val=$target.val();if(/^\d\d$/.test(val)){return $target.val(""+val+" / ");}};formatForwardSlashAndSpace=function(e){var $target,val,which;which=String.fromCharCode(e.which);if(!(which==='/'||which===' ')){return;}
$target=$(e.currentTarget);val=$target.val();if(/^\d$/.test(val)&&val!=='0'){return $target.val("0"+val+" / ");}};formatBackExpiry=function(e){var $target,value;$target=$(e.currentTarget);value=$target.val();if(e.which!==8){return;}
if(($target.prop('selectionStart')!=null)&&$target.prop('selectionStart')!==value.length){return;}
if(/\d\s\/\s$/.test(value)){e.preventDefault();return setTimeout(function(){return $target.val(value.replace(/\d\s\/\s$/,''));});}};reFormatCVC=function(e){var $target;$target=$(e.currentTarget);return setTimeout(function(){var value;value=$target.val();value=replaceFullWidthChars(value);value=value.replace(/\D/g,'').slice(0,4);return safeVal(value,$target);});};restrictNumeric=function(e){var input;if(e.metaKey||e.ctrlKey){return true;}
if(e.which===32){return false;}
if(e.which===0){return true;}
if(e.which<33){return true;}
input=String.fromCharCode(e.which);return!!/[\d\s]/.test(input);};restrictCardNumber=function(e){var $target,card,digit,value;$target=$(e.currentTarget);digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
if(hasTextSelected($target)){return;}
value=($target.val()+digit).replace(/\D/g,'');card=cardFromNumber(value);if(card){return value.length<=card.length[card.length.length-1];}else{return value.length<=16;}};restrictExpiry=function(e){var $target,digit,value;$target=$(e.currentTarget);digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
if(hasTextSelected($target)){return;}
value=$target.val()+digit;value=value.replace(/\D/g,'');if(value.length>6){return false;}};restrictCVC=function(e){var $target,digit,val;$target=$(e.currentTarget);digit=String.fromCharCode(e.which);if(!/^\d+$/.test(digit)){return;}
if(hasTextSelected($target)){return;}
val=$target.val()+digit;return val.length<=4;};setCardType=function(e){var $target,allTypes,card,cardType,val;$target=$(e.currentTarget);val=$target.val();cardType=$.payment.cardType(val)||'unknown';if(!$target.hasClass(cardType)){allTypes=(function(){var _i,_len,_results;_results=[];for(_i=0,_len=cards.length;_i<_len;_i++){card=cards[_i];_results.push(card.type);}
return _results;})();$target.removeClass('unknown');$target.removeClass(allTypes.join(' '));$target.addClass(cardType);$target.toggleClass('identified',cardType!=='unknown');return $target.trigger('payment.cardType',cardType);}};$.payment.fn.formatCardCVC=function(){this.on('keypress',restrictNumeric);this.on('keypress',restrictCVC);this.on('paste',reFormatCVC);this.on('change',reFormatCVC);this.on('input',reFormatCVC);return this;};$.payment.fn.formatCardExpiry=function(){this.on('keypress',restrictNumeric);this.on('keypress',restrictExpiry);this.on('keypress',formatExpiry);this.on('keypress',formatForwardSlashAndSpace);this.on('keypress',formatForwardExpiry);this.on('keydown',formatBackExpiry);this.on('change',reFormatExpiry);this.on('input',reFormatExpiry);return this;};$.payment.fn.formatCardNumber=function(){this.on('keypress',restrictNumeric);this.on('keypress',restrictCardNumber);this.on('keypress',formatCardNumber);this.on('keydown',formatBackCardNumber);this.on('keyup',setCardType);this.on('paste',reFormatCardNumber);this.on('change',reFormatCardNumber);this.on('input',reFormatCardNumber);this.on('input',setCardType);return this;};$.payment.fn.restrictNumeric=function(){this.on('keypress',restrictNumeric);this.on('paste',reFormatNumeric);this.on('change',reFormatNumeric);this.on('input',reFormatNumeric);return this;};$.payment.fn.cardExpiryVal=function(){return $.payment.cardExpiryVal($(this).val());};$.payment.cardExpiryVal=function(value){var month,prefix,year,_ref;_ref=value.split(/[\s\/]+/,2),month=_ref[0],year=_ref[1];if((year!=null?year.length:void 0)===2&&/^\d+$/.test(year)){prefix=(new Date).getFullYear();prefix=prefix.toString().slice(0,2);year=prefix+year;}
month=parseInt(month,10);year=parseInt(year,10);return{month:month,year:year};};$.payment.validateCardNumber=function(num){var card,_ref;num=(num+'').replace(/\s+|-/g,'');if(!/^\d+$/.test(num)){return false;}
card=cardFromNumber(num);if(!card){return false;}
return(_ref=num.length,__indexOf.call(card.length,_ref)>=0)&&(card.luhn===false||luhnCheck(num));};$.payment.validateCardExpiry=function(month,year){var currentTime,expiry,_ref;if(typeof month==='object'&&'month'in month){_ref=month,month=_ref.month,year=_ref.year;}
if(!(month&&year)){return false;}
month=$.trim(month);year=$.trim(year);if(!/^\d+$/.test(month)){return false;}
if(!/^\d+$/.test(year)){return false;}
if(!((1<=month&&month<=12))){return false;}
if(year.length===2){if(year<70){year="20"+year;}else{year="19"+year;}}
if(year.length!==4){return false;}
expiry=new Date(year,month);currentTime=new Date;expiry.setMonth(expiry.getMonth()-1);expiry.setMonth(expiry.getMonth()+1,1);return expiry>currentTime;};$.payment.validateCardCVC=function(cvc,type){var card,_ref;cvc=$.trim(cvc);if(!/^\d+$/.test(cvc)){return false;}
card=cardFromType(type);if(card!=null){return _ref=cvc.length,__indexOf.call(card.cvcLength,_ref)>=0;}else{return cvc.length>=3&&cvc.length<=4;}};$.payment.cardType=function(num){var _ref;if(!num){return null;}
return((_ref=cardFromNumber(num))!=null?_ref.type:void 0)||null;};$.payment.formatCardNumber=function(num){var card,groups,upperLength,_ref;num=num.replace(/\D/g,'');card=cardFromNumber(num);if(!card){return num;}
upperLength=card.length[card.length.length-1];num=num.slice(0,upperLength);if(card.format.global){return(_ref=num.match(card.format))!=null?_ref.join(' '):void 0;}else{groups=card.format.exec(num);if(groups==null){return;}
groups.shift();groups=$.grep(groups,function(n){return n;});return groups.join(' ');}};$.payment.formatExpiry=function(expiry){var mon,parts,sep,year;parts=expiry.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/);if(!parts){return'';}
mon=parts[1]||'';sep=parts[2]||'';year=parts[3]||'';if(year.length>0){sep=' / ';}else if(sep===' /'){mon=mon.substring(0,1);sep='';}else if(mon.length===2||sep.length>0){sep=' / ';}else if(mon.length===1&&(mon!=='0'&&mon!=='1')){mon="0"+mon;sep=' / ';}
return mon+sep+year;};}).call(this);;

/* /payment/static/src/js/checkout_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('payment.checkout_form',require=>{'use strict';const publicWidget=require('web.public.widget');const paymentFormMixin=require('payment.payment_form_mixin');publicWidget.registry.PaymentCheckoutForm=publicWidget.Widget.extend(paymentFormMixin,{selector:'form[name="o_payment_checkout"]',events:Object.assign({},publicWidget.Widget.prototype.events,{'click div[name="o_payment_option_card"]':'_onClickPaymentOption','click a[name="o_payment_icon_more"]':'_onClickMorePaymentIcons','click a[name="o_payment_icon_less"]':'_onClickLessPaymentIcons','click button[name="o_payment_submit_button"]':'_onClickPay','submit':'_onSubmit',}),init:function(){const preventDoubleClick=handlerMethod=>{return _.debounce(handlerMethod,500,true);};this._super(...arguments);this._onClickLessPaymentIcons=preventDoubleClick(this._onClickLessPaymentIcons);this._onClickMorePaymentIcons=preventDoubleClick(this._onClickMorePaymentIcons);this._onClickPay=preventDoubleClick(this._onClickPay);this._onClickPaymentOption=preventDoubleClick(this._onClickPaymentOption);this._onSubmit=preventDoubleClick(this._onSubmit);},_onClickPay:async function(ev){ev.stopPropagation();ev.preventDefault();const $checkedRadios=this.$('input[name="o_payment_radio"]:checked');if(!this._ensureRadioIsChecked($checkedRadios)){return;}
const checkedRadio=$checkedRadios[0];const provider=this._getProviderFromRadio(checkedRadio);const paymentOptionId=this._getPaymentOptionIdFromRadio(checkedRadio);const flow=this._getPaymentFlowFromRadio(checkedRadio);if(flow!=='token'){const $tokenizeCheckbox=this.$(`#o_payment_acquirer_inline_form_${paymentOptionId}`).find('input[name="o_payment_save_as_token"]');this.txContext.tokenizationRequested=$tokenizeCheckbox.length===1&&$tokenizeCheckbox[0].checked;}else{this.txContext.tokenizationRequested=false;}
this._hideError();this._disableButton(true);this._processPayment(provider,paymentOptionId,flow);},_onSubmit:function(ev){ev.stopPropagation();ev.preventDefault();this._onClickPay(ev);},});return publicWidget.registry.PaymentCheckoutForm;});;

/* /payment/static/src/js/manage_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('payment.manage_form',require=>{'use strict';const core=require('web.core');const publicWidget=require('web.public.widget');const Dialog=require('web.Dialog');const paymentFormMixin=require('payment.payment_form_mixin');const _t=core._t;publicWidget.registry.PaymentManageForm=publicWidget.Widget.extend(paymentFormMixin,{selector:'form[name="o_payment_manage"]',events:Object.assign({},publicWidget.Widget.prototype.events,{'click div[name="o_payment_option_card"]':'_onClickPaymentOption','click a[name="o_payment_icon_more"]':'_onClickMorePaymentIcons','click a[name="o_payment_icon_less"]':'_onClickLessPaymentIcons','click button[name="o_payment_submit_button"]':'_onClickSaveToken','click button[name="o_payment_delete_token"]':'_onClickDeleteToken','submit':'_onSubmit',}),init:function(){const preventDoubleClick=handlerMethod=>{return _.debounce(handlerMethod,500,true);};this._super(...arguments);this._onClickDeleteToken=preventDoubleClick(this._onClickDeleteToken);this._onClickLessPaymentIcons=preventDoubleClick(this._onClickLessPaymentIcons);this._onClickMorePaymentIcons=preventDoubleClick(this._onClickMorePaymentIcons);this._onClickPaymentOption=preventDoubleClick(this._onClickPaymentOption);this._onClickSaveToken=preventDoubleClick(this._onClickSaveToken);this._onSubmit=preventDoubleClick(this._onSubmit);},_assignToken:function(tokenId){this._rpc({route:this.txContext.assignTokenRoute,params:{'token_id':tokenId,'csrf_token':core.csrf_token,}}).then(()=>{window.location=this.txContext.landingRoute;}).guardedCatch(error=>{error.event.preventDefault();this._displayError(_t("Server Error"),_t("We are not able to save your payment method."),error.message.data.message);});},_deleteToken:function(tokenId){const execute=()=>{this._rpc({route:'/payment/archive_token',params:{'token_id':tokenId,},}).then(()=>{const $tokenCard=this.$(`input[name="o_payment_radio"][data-payment-option-id="${tokenId}"]`+`[data-payment-option-type="token"]`).closest('div[name="o_payment_option_card"]');$tokenCard.siblings(`#o_payment_token_inline_form_${tokenId}`).remove();$tokenCard.remove();this._disableButton(false);}).guardedCatch(error=>{error.event.preventDefault();this._displayError(_t("Server Error"),_t("We are not able to delete your payment method."),error.message.data.message);});};this._rpc({model:'payment.token',method:'get_linked_records_info',args:[tokenId],}).then(result=>{const $dialogContentMessage=$('<span>',{text:_t("Are you sure you want to delete this payment method?")});if(result.length>0){$dialogContentMessage.append($('<br>'));$dialogContentMessage.append($('<span>',{text:_t("It is currently linked to the following documents:")}));const $documentInfoList=$('<ul>');result.forEach(documentInfo=>{$documentInfoList.append($('<li>').append($('<a>',{href:documentInfo.url,target:'_blank',title:documentInfo.description,text:documentInfo.name})));});$dialogContentMessage.append($documentInfoList);}
new Dialog(this,{title:_t("Warning!"),size:'medium',$content:$('<div>').append($dialogContentMessage),buttons:[{text:_t("Confirm Deletion"),classes:'btn-primary',close:true,click:execute},{text:_t("Cancel"),close:true},],}).open();}).guardedCatch(error=>{this._displayError(_t("Server Error"),_t("We are not able to delete your payment method."),error.message.data.message);});},_onClickDeleteToken:function(ev){ev.preventDefault();const linkedRadio=$(ev.currentTarget).siblings().find('input[name="o_payment_radio"]')[0];const tokenId=this._getPaymentOptionIdFromRadio(linkedRadio);this._deleteToken(tokenId);},_onClickSaveToken:async function(ev){ev.stopPropagation();ev.preventDefault();const $checkedRadios=this.$('input[name="o_payment_radio"]:checked');if(!this._ensureRadioIsChecked($checkedRadios)){return;}
const checkedRadio=$checkedRadios[0];const provider=this._getProviderFromRadio(checkedRadio);const paymentOptionId=this._getPaymentOptionIdFromRadio(checkedRadio);const flow=this._getPaymentFlowFromRadio(checkedRadio);this._hideError();this._disableButton(true);if(flow!=='token'){this.txContext.tokenizationRequested=true;this.txContext.isValidation=true;this._processPayment(provider,paymentOptionId,flow);}else if(this.txContext.allowTokenSelection){this._assignToken(paymentOptionId);}},_onSubmit:function(ev){ev.stopPropagation();ev.preventDefault();this._onClickSaveToken(ev);},});return publicWidget.registry.PaymentManageForm;});;

/* /payment/static/src/js/payment_form_mixin.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('payment.payment_form_mixin',require=>{'use strict';const core=require('web.core');const Dialog=require('web.Dialog');const _t=core._t;return{start:async function(){await this._super(...arguments);window.addEventListener('pageshow',function(event){if(event.persisted){window.location.reload();}});this.$('[data-toggle="tooltip"]').tooltip();this.txContext={};Object.assign(this.txContext,this.$el.data());const $checkedRadios=this.$('input[name="o_payment_radio"]:checked');if($checkedRadios.length===1){const checkedRadio=$checkedRadios[0];this._displayInlineForm(checkedRadio);this._enableButton();}else{this._setPaymentFlow();}},_disableButton:(showLoadingAnimation=true)=>{const $submitButton=this.$('button[name="o_payment_submit_button"]');const iconClass=$submitButton.data('icon-class');$submitButton.attr('disabled',true);if(showLoadingAnimation){$submitButton.find('i').removeClass(iconClass);$submitButton.prepend('<span class="o_loader"><i class="fa fa-refresh fa-spin"></i>&nbsp;</span>');}},_displayError:function(title,description='',error=''){const $checkedRadios=this.$('input[name="o_payment_radio"]:checked');if($checkedRadios.length!==1){return new Dialog(null,{title:_.str.sprintf(_t("Error: %s"),title),size:'medium',$content:`<p>${_.str.escapeHTML(description) || ''}</p>`,buttons:[{text:_t("Ok"),close:true}]}).open();}else{this._hideError();let errorHtml=`<div class="alert alert-danger mb4" name="o_payment_error">
                                 <b>${_.str.escapeHTML(title)}</b>`;if(description!==''){errorHtml+=`</br>${_.str.escapeHTML(description)}`;}
if(error!==''){errorHtml+=`</br>${_.str.escapeHTML(error)}`;}
errorHtml+='</div>';const checkedRadio=$checkedRadios[0];const paymentOptionId=this._getPaymentOptionIdFromRadio(checkedRadio);const formType=$(checkedRadio).data('payment-option-type');const $inlineForm=this.$(`#o_payment_${formType}_inline_form_${paymentOptionId}`);$inlineForm.removeClass('d-none');$inlineForm.append(errorHtml).find('div[name="o_payment_error"]')[0].scrollIntoView({behavior:'smooth',block:'center'});}
this._enableButton();},_displayInlineForm:function(radio){this._hideInlineForms();this._hideError();this._setPaymentFlow();const provider=this._getProviderFromRadio(radio);const paymentOptionId=this._getPaymentOptionIdFromRadio(radio);const flow=this._getPaymentFlowFromRadio(radio);this._prepareInlineForm(provider,paymentOptionId,flow);const formType=$(radio).data('payment-option-type');const $inlineForm=this.$(`#o_payment_${formType}_inline_form_${paymentOptionId}`);if($inlineForm.children().length>0){$inlineForm.removeClass('d-none');}},_enableButton:function(){if(this._isButtonReady()){const $submitButton=this.$('button[name="o_payment_submit_button"]');const iconClass=$submitButton.data('icon-class');$submitButton.attr('disabled',false);$submitButton.find('i').addClass(iconClass);$submitButton.find('span.o_loader').remove();return true;}
return false;},_ensureRadioIsChecked:function($checkedRadios){if($checkedRadios.length===0){this._displayError(_t("No payment option selected"),_t("Please select a payment option."));return false;}else if($checkedRadios.length>1){this._displayError(_t("Multiple payment options selected"),_t("Please select only one payment option."));return false;}
return true;},_getPaymentFlowFromRadio:function(radio){if($(radio).data('payment-option-type')==='token'||this.txContext.flow==='token'){return'token';}else if(this.txContext.flow==='redirect'){return'redirect';}else{return'direct';}},_getPaymentOptionIdFromRadio:radio=>$(radio).data('payment-option-id'),_getProviderFromRadio:radio=>$(radio).data('provider'),_hideError:()=>this.$('div[name="o_payment_error"]').remove(),_hideInlineForms:()=>this.$('[name="o_payment_inline_form"]').addClass('d-none'),_hideInputs:function(){const $submitButton=this.$('button[name="o_payment_submit_button"]');const $tokenizeCheckboxes=this.$('input[name="o_payment_save_as_token"]');$submitButton.addClass('d-none');$tokenizeCheckboxes.closest('label').addClass('d-none');},_isButtonReady:function(){const $checkedRadios=this.$('input[name="o_payment_radio"]:checked');if($checkedRadios.length===1){const checkedRadio=$checkedRadios[0];const flow=this._getPaymentFlowFromRadio(checkedRadio);return flow!=='token'||this.txContext.allowTokenSelection;}else{return false;}},_prepareTransactionRouteParams:function(provider,paymentOptionId,flow){return{'payment_option_id':paymentOptionId,'reference_prefix':this.txContext.referencePrefix,'amount':this.txContext.amount!==undefined?parseFloat(this.txContext.amount):null,'currency_id':this.txContext.currencyId?parseInt(this.txContext.currencyId):null,'partner_id':parseInt(this.txContext.partnerId),'invoice_id':this.txContext.invoiceId?parseInt(this.txContext.invoiceId):null,'flow':flow,'tokenization_requested':this.txContext.tokenizationRequested,'landing_route':this.txContext.landingRoute,'is_validation':this.txContext.isValidation,'access_token':this.txContext.accessToken?this.txContext.accessToken:undefined,'csrf_token':core.csrf_token,};},_prepareInlineForm:(provider,paymentOptionId,flow)=>Promise.resolve(),_processPayment:function(provider,paymentOptionId,flow){return this._rpc({route:this.txContext.transactionRoute,params:this._prepareTransactionRouteParams(provider,paymentOptionId,flow),}).then(processingValues=>{if(flow==='redirect'){return this._processRedirectPayment(provider,paymentOptionId,processingValues);}else if(flow==='direct'){return this._processDirectPayment(provider,paymentOptionId,processingValues);}else if(flow==='token'){return this._processTokenPayment(provider,paymentOptionId,processingValues);}}).guardedCatch(error=>{error.event.preventDefault();this._displayError(_t("Server Error"),_t("We are not able to process your payment."),error.message.data.message);});},_processDirectPayment:(provider,acquirerId,processingValues)=>Promise.resolve(),_processRedirectPayment:(provider,acquirerId,processingValues)=>{const $redirectForm=$(processingValues.redirect_form_html).attr('id','o_payment_redirect_form');$(document.getElementsByTagName('body')[0]).append($redirectForm);$redirectForm.submit();},_processTokenPayment:(provider,tokenId,processingValues)=>{window.location='/payment/status';},_setPaymentFlow:function(flow='redirect'){if(flow!=='redirect'&&flow!=='direct'&&flow!=='token'){console.warn(`payment_form_mixin: method '_setPaymentFlow' was called with invalid flow: 
                    ${flow}. Falling back to 'redirect'.`);this.txContext.flow='redirect';}else{this.txContext.flow=flow;}},_showInputs:function(){const $submitButton=this.$('button[name="o_payment_submit_button"]');const $tokenizeCheckboxes=this.$('input[name="o_payment_save_as_token"]');$submitButton.removeClass('d-none');$tokenizeCheckboxes.closest('label').removeClass('d-none');},_onClickLessPaymentIcons:ev=>{ev.preventDefault();ev.stopPropagation();const $itemList=$(ev.currentTarget).parents('ul');const maxIconNumber=$itemList.data('max-icons');$itemList.children('li').slice(maxIconNumber).addClass('d-none');$itemList.find('a[name="o_payment_icon_more"]').parents('li').removeClass('d-none');},_onClickMorePaymentIcons:ev=>{ev.preventDefault();ev.stopPropagation();$(ev.currentTarget).parents('ul').children('li').removeClass('d-none');$(ev.currentTarget).parents('li').addClass('d-none');},_onClickPaymentOption:function(ev){this.$('input[name="o_payment_radio"]').prop('checked',false);const checkedRadio=$(ev.currentTarget).find('input[name="o_payment_radio"]')[0];$(checkedRadio).prop('checked',true);this._showInputs();this._disableButton(false);this._displayInlineForm(checkedRadio);this._enableButton();},};});;

/* /payment/static/src/js/post_processing.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('payment.post_processing',function(require){'use strict';var publicWidget=require('web.public.widget');var core=require('web.core');const{Markup}=require('web.utils');var _t=core._t;$.blockUI.defaults.css.border='0';$.blockUI.defaults.css["background-color"]='';$.blockUI.defaults.overlayCSS["opacity"]='0.9';publicWidget.registry.PaymentPostProcessing=publicWidget.Widget.extend({selector:'div[name="o_payment_status"]',xmlDependencies:['/payment/static/src/xml/payment_post_processing.xml'],_pollCount:0,start:function(){this.displayLoading();this.poll();return this._super.apply(this,arguments);},startPolling:function(){var timeout=3000;if(this._pollCount>=10&&this._pollCount<20){timeout=10000;}
else if(this._pollCount>=20){timeout=30000;}
setTimeout(this.poll.bind(this),timeout);this._pollCount++;},poll:function(){var self=this;this._rpc({route:'/payment/status/poll',params:{'csrf_token':core.csrf_token,}}).then(function(data){if(data.success===true){self.processPolledData(data.display_values_list);}
else{switch(data.error){case"tx_process_retry":break;case"no_tx_found":self.displayContent("payment.no_tx_found",{});break;default:self.displayContent("payment.exception",{exception_msg:data.error});break;}}
self.startPolling();}).guardedCatch(function(){self.displayContent("payment.rpc_error",{});self.startPolling();});},processPolledData:function(display_values_list){var render_values={'tx_draft':[],'tx_pending':[],'tx_authorized':[],'tx_done':[],'tx_cancel':[],'tx_error':[],};if(display_values_list.length>0){window.location=display_values_list[0].landing_route;return;}
display_values_list.forEach(function(display_values){var key='tx_'+display_values.state;if(key in render_values){if(display_values["display_message"]){display_values.display_message=Markup(display_values.display_message)}
render_values[key].push(display_values);}});function countTxInState(states){var nbTx=0;for(var prop in render_values){if(states.indexOf(prop)>-1&&render_values.hasOwnProperty(prop)){nbTx+=render_values[prop].length;}}
return nbTx;}
if(countTxInState(['tx_done','tx_error','tx_pending','tx_authorized'])===1){var tx=render_values['tx_done'][0]||render_values['tx_authorized'][0]||render_values['tx_error'][0];if(tx){window.location=tx.landing_route;return;}}
this.displayContent("payment.display_tx_list",render_values);},displayContent:function(xmlid,render_values){var html=core.qweb.render(xmlid,render_values);$.unblockUI();this.$el.find('div[name="o_payment_status_content"]').html(html);},displayLoading:function(){var msg=_t("We are processing your payment, please wait ...");$.blockUI({'message':'<h2 class="text-white"><img src="/web/static/img/spin.png" class="fa-pulse"/>'+'    <br />'+msg+'</h2>'});},});});;

/* /sale/static/src/js/sale_portal_sidebar.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('sale.SalePortalSidebar',function(require){'use strict';var publicWidget=require('web.public.widget');var PortalSidebar=require('portal.PortalSidebar');publicWidget.registry.SalePortalSidebar=PortalSidebar.extend({selector:'.o_portal_sale_sidebar',init:function(parent,options){this._super.apply(this,arguments);this.authorizedTextTag=['em','b','i','u'];this.spyWatched=$('body[data-target=".navspy"]');},start:function(){var def=this._super.apply(this,arguments);var $spyWatcheElement=this.$el.find('[data-id="portal_sidebar"]');this._setElementId($spyWatcheElement);this._generateMenu();if($.bbq.getState('allow_payment')==='yes'&&this.$('#o_sale_portal_paynow').length){this.$('#o_sale_portal_paynow').trigger('click');$.bbq.removeState('allow_payment');}
return def;},_setElementId:function(prefix,$el){var id=_.uniqueId(prefix);this.spyWatched.find($el).attr('id',id);return id;},_generateMenu:function(){var self=this,lastLI=false,lastUL=null,$bsSidenav=this.$el.find('.bs-sidenav');$("#quote_content [id^=quote_header_], #quote_content [id^=quote_]",this.spyWatched).attr("id","");_.each(this.spyWatched.find("#quote_content h2, #quote_content h3"),function(el){var id,text;switch(el.tagName.toLowerCase()){case"h2":id=self._setElementId('quote_header_',el);text=self._extractText($(el));if(!text){break;}
lastLI=$("<li class='nav-item'>").append($('<a class="nav-link" style="max-width: 200px;" href="#'+id+'"/>').text(text)).appendTo($bsSidenav);lastUL=false;break;case"h3":id=self._setElementId('quote_',el);text=self._extractText($(el));if(!text){break;}
if(lastLI){if(!lastUL){lastUL=$("<ul class='nav flex-column'>").appendTo(lastLI);}
$("<li class='nav-item'>").append($('<a class="nav-link" style="max-width: 200px;" href="#'+id+'"/>').text(text)).appendTo(lastUL);}
break;}
el.setAttribute('data-anchor',true);});this.trigger_up('widgets_start_request',{$target:$bsSidenav});},_extractText:function($node){var self=this;var rawText=[];_.each($node.contents(),function(el){var current=$(el);if($.trim(current.text())){var tagName=current.prop("tagName");if(_.isUndefined(tagName)||(!_.isUndefined(tagName)&&_.contains(self.authorizedTextTag,tagName.toLowerCase()))){rawText.push($.trim(current.text()));}}});return rawText.join(' ');},});});;

/* /sale/static/src/js/payment_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('sale.payment_form',require=>{'use strict';const checkoutForm=require('payment.checkout_form');const manageForm=require('payment.manage_form');const salePaymentMixin={_prepareTransactionRouteParams:function(provider,paymentOptionId,flow){const transactionRouteParams=this._super(...arguments);return Object.assign({},transactionRouteParams,{'sale_order_id':this.txContext.saleOrderId?parseInt(this.txContext.saleOrderId):undefined,});},};checkoutForm.include(salePaymentMixin);manageForm.include(salePaymentMixin);});;

/* /sale_management/static/src/js/sale_management.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('sale_management.sale_management',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.SaleUpdateLineButton=publicWidget.Widget.extend({selector:'.o_portal_sale_sidebar',events:{'click a.js_update_line_json':'_onClick','click a.js_add_optional_products':'_onClickOptionalProduct','change .js_quantity':'_onChangeQuantity'},async start(){await this._super(...arguments);this.orderDetail=this.$el.find('table#sales_order_table').data();this.elems=this._getUpdatableElements();},_onChangeQuantity(ev){ev.preventDefault();let self=this,$target=$(ev.currentTarget),quantity=parseInt($target.val());this._callUpdateLineRoute(self.orderDetail.orderId,{'line_id':$target.data('lineId'),'input_quantity':quantity>=0?quantity:false,'access_token':self.orderDetail.token}).then((data)=>{self._updateOrderLineValues($target.closest('tr'),data);self._updateOrderValues(data);});},_onClick(ev){ev.preventDefault();let self=this,$target=$(ev.currentTarget);this._callUpdateLineRoute(self.orderDetail.orderId,{'line_id':$target.data('lineId'),'remove':$target.data('remove'),'unlink':$target.data('unlink'),'access_token':self.orderDetail.token}).then((data)=>{var $saleTemplate=$(data['sale_template']);if($saleTemplate.length&&data['unlink']){self.$('#portal_sale_content').html($saleTemplate);self.elems=self._getUpdatableElements();}
self._updateOrderLineValues($target.closest('tr'),data);self._updateOrderValues(data);});},_onClickOptionalProduct(ev){ev.preventDefault();let self=this,$target=$(ev.currentTarget);$target.css('pointer-events','none');this._rpc({route:"/my/orders/"+self.orderDetail.orderId+"/add_option/"+$target.data('optionId'),params:{access_token:self.orderDetail.token}}).then((data)=>{if(data){self.$('#portal_sale_content').html($(data['sale_template']));self.elems=self._getUpdatableElements();self._updateOrderValues(data);}});},_callUpdateLineRoute(order_id,params){return this._rpc({route:"/my/orders/"+order_id+"/update_line_dict",params:params,});},_updateOrderLineValues($orderLine,data){let linePriceTotal=data.order_line_price_total,linePriceSubTotal=data.order_line_price_subtotal,$linePriceTotal=$orderLine.find('.oe_order_line_price_total .oe_currency_value'),$linePriceSubTotal=$orderLine.find('.oe_order_line_price_subtotal .oe_currency_value');if(!$linePriceTotal.length&&!$linePriceSubTotal.length){$linePriceTotal=$linePriceSubTotal=$orderLine.find('.oe_currency_value').last();}
$orderLine.find('.js_quantity').val(data.order_line_product_uom_qty);if($linePriceTotal.length&&linePriceTotal!==undefined){$linePriceTotal.text(linePriceTotal);}
if($linePriceSubTotal.length&&linePriceSubTotal!==undefined){$linePriceSubTotal.text(linePriceSubTotal);}},_updateOrderValues(data){let orderAmountTotal=data.order_amount_total,orderAmountUntaxed=data.order_amount_untaxed,orderAmountUndiscounted=data.order_amount_undiscounted,$orderTotalsTable=$(data.order_totals_table);if(orderAmountUntaxed!==undefined){this.elems.$orderAmountUntaxed.text(orderAmountUntaxed);}
if(orderAmountTotal!==undefined){this.elems.$orderAmountTotal.text(orderAmountTotal);}
if(orderAmountUndiscounted!==undefined){this.elems.$orderAmountUndiscounted.text(orderAmountUndiscounted);}
if($orderTotalsTable.length){this.elems.$orderTotalsTable.find('table').replaceWith($orderTotalsTable);}},_getUpdatableElements(){let $orderAmountUntaxed=$('[data-id="total_untaxed"]').find('span, b'),$orderAmountTotal=$('[data-id="total_amount"]').find('span, b'),$orderAmountUndiscounted=$('[data-id="amount_undiscounted"]').find('span, b');if(!$orderAmountUntaxed.length){$orderAmountUntaxed=$orderAmountTotal.eq(1);$orderAmountTotal=$orderAmountTotal.eq(0).add($orderAmountTotal.eq(2));}
return{$orderAmountUntaxed:$orderAmountUntaxed,$orderAmountTotal:$orderAmountTotal,$orderTotalsTable:$('#total'),$orderAmountUndiscounted:$orderAmountUndiscounted,};}});});;

/* /google_recaptcha/static/src/js/recaptcha.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('google_recaptcha.ReCaptchaV3',function(require){"use strict";const ajax=require('web.ajax');const Class=require('web.Class');const core=require('web.core');const{session}=require('@web/session');const _t=core._t;const ReCaptcha=Class.extend({init:function(){this._publicKey=session.recaptcha_public_key;},loadLibs:function(){if(this._publicKey){this._recaptchaReady=ajax.loadJS(`https://www.recaptcha.net/recaptcha/api.js?render=${this._publicKey}`).then(()=>new Promise(resolve=>window.grecaptcha.ready(()=>resolve())));return this._recaptchaReady.then(()=>!!document.querySelector('.grecaptcha-badge'));}
return false;},getToken:async function(action){if(!this._publicKey){return{message:_t("No recaptcha site key set."),};}
await this._recaptchaReady;try{return{token:await window.grecaptcha.execute(this._publicKey,{action:action})};}catch(e){return{error:_t("The recaptcha site key is invalid."),};}},});return{ReCaptcha:ReCaptcha,};});;

/* /website/static/src/js/utils.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.utils',function(require){'use strict';var ajax=require('web.ajax');var core=require('web.core');const{qweb,_t}=core;function loadAnchors(url){return new Promise(function(resolve,reject){if(url===window.location.pathname||url[0]==='#'){resolve(document.body.outerHTML);}else if(url.length&&!url.startsWith("http")){$.get(window.location.origin+url).then(resolve,reject);}else{resolve();}}).then(function(response){return _.map($(response).find('[id][data-anchor=true]'),function(el){return'#'+el.id;});}).catch(error=>{console.debug(error);return[];});}
function autocompleteWithPages(self,$input,options){$.widget("website.urlcomplete",$.ui.autocomplete,{options:options||{},_create:function(){this._super();this.widget().menu("option","items","> :not(.ui-autocomplete-category)");},_renderMenu:function(ul,items){const self=this;items.forEach(item=>{if(item.separator){self._renderSeparator(ul,item);}
else{self._renderItem(ul,item);}});},_renderSeparator:function(ul,item){return $("<li class='ui-autocomplete-category font-weight-bold text-capitalize p-2'>").append(`<div>${item.separator}</div>`).appendTo(ul);},_renderItem:function(ul,item){return $("<li>").data('ui-autocomplete-item',item).append(`<div>${item.label}</div>`).appendTo(ul);},});$input.urlcomplete({source:function(request,response){if(request.term[0]==='#'){loadAnchors(request.term).then(function(anchors){response(anchors);});}else if(request.term.startsWith('http')||request.term.length===0){response();}else{return self._rpc({route:'/website/get_suggested_links',params:{needle:request.term,limit:15,}}).then(function(res){let choices=res.matching_pages;res.others.forEach(other=>{if(other.values.length){choices=choices.concat([{separator:other.title}],other.values,);}});response(choices);});}},select:function(ev,ui){ev.target.value=ui.item.value;self.trigger_up('website_url_chosen');ev.preventDefault();},});}
function onceAllImagesLoaded($element,$excluded){var defs=_.map($element.find('img').addBack('img'),function(img){if(img.complete||$excluded&&($excluded.is(img)||$excluded.has(img).length)){return;}
var def=new Promise(function(resolve,reject){$(img).one('load',function(){resolve();});});return def;});return Promise.all(defs);}
function prompt(options,_qweb){if(typeof options==='string'){options={text:options};}
var xmlDef;if(_.isUndefined(_qweb)){_qweb='website.prompt';xmlDef=ajax.loadXML('/website/static/src/xml/website.xml',core.qweb);}
options=_.extend({window_title:'',field_name:'','default':'',init:function(){},btn_primary_title:_t('Create'),btn_secondary_title:_t('Cancel'),},options||{});var type=_.intersection(Object.keys(options),['input','textarea','select']);type=type.length?type[0]:'input';options.field_type=type;options.field_name=options.field_name||options[type];var def=new Promise(function(resolve,reject){Promise.resolve(xmlDef).then(function(){var dialog=$(qweb.render(_qweb,options)).appendTo('body');options.$dialog=dialog;var field=dialog.find(options.field_type).first();field.val(options['default']);field.fillWith=function(data){if(field.is('select')){var select=field[0];data.forEach(function(item){select.options[select.options.length]=new window.Option(item[1],item[0]);});}else{field.val(data);}};var init=options.init(field,dialog);Promise.resolve(init).then(function(fill){if(fill){field.fillWith(fill);}
dialog.modal('show');field.focus();dialog.on('click','.btn-primary',function(){var backdrop=$('.modal-backdrop');resolve({val:field.val(),field:field,dialog:dialog});dialog.modal('hide').remove();backdrop.remove();});});dialog.on('hidden.bs.modal',function(){var backdrop=$('.modal-backdrop');reject();dialog.remove();backdrop.remove();});if(field.is('input[type="text"], select')){field.keypress(function(e){if(e.which===13){e.preventDefault();dialog.find('.btn-primary').trigger('click');}});}});});return def;}
function websiteDomain(self){var websiteID;self.trigger_up('context_get',{callback:function(ctx){websiteID=ctx['website_id'];},});return['|',['website_id','=',false],['website_id','=',websiteID]];}
function sendRequest(route,params){function _addInput(form,name,value){let param=document.createElement('input');param.setAttribute('type','hidden');param.setAttribute('name',name);param.setAttribute('value',value);form.appendChild(param);}
let form=document.createElement('form');form.setAttribute('action',route);form.setAttribute('method',params.method||'POST');if(core.csrf_token){_addInput(form,'csrf_token',core.csrf_token);}
for(const key in params){const value=params[key];if(Array.isArray(value)&&value.length){for(const val of value){_addInput(form,key,val);}}else{_addInput(form,key,value);}}
document.body.appendChild(form);form.submit();}
async function svgToPNG(src){function checkImg(imgEl){return(imgEl.naturalHeight!==0);}
function toPNGViaCanvas(imgEl){const canvas=document.createElement('canvas');canvas.width=imgEl.width;canvas.height=imgEl.height;canvas.getContext('2d').drawImage(imgEl,0,0);return canvas.toDataURL('image/png');}
if(src instanceof HTMLImageElement){const loadedImgEl=src;if(checkImg(loadedImgEl)){return toPNGViaCanvas(loadedImgEl);}
src=loadedImgEl.src;}
return new Promise(resolve=>{const imgEl=new Image();imgEl.onload=()=>{if(checkImg(imgEl)){resolve(imgEl);return;}
imgEl.height=1000;imgEl.style.opacity=0;document.body.appendChild(imgEl);const request=new XMLHttpRequest();request.open('GET',imgEl.src,true);request.onload=()=>{const parser=new DOMParser();const result=parser.parseFromString(request.responseText,'text/xml');const svgEl=result.getElementsByTagName("svg")[0];svgEl.setAttribute('width',imgEl.width);svgEl.setAttribute('height',imgEl.height);imgEl.remove();const svg64=btoa(new XMLSerializer().serializeToString(svgEl));const finalImg=new Image();finalImg.onload=()=>{resolve(finalImg);};finalImg.src=`data:image/svg+xml;base64,${svg64}`;};request.send();};imgEl.src=src;}).then(loadedImgEl=>toPNGViaCanvas(loadedImgEl));}
return{loadAnchors:loadAnchors,autocompleteWithPages:autocompleteWithPages,onceAllImagesLoaded:onceAllImagesLoaded,prompt:prompt,sendRequest:sendRequest,websiteDomain:websiteDomain,svgToPNG:svgToPNG,};});;

/* /website/static/src/js/content/website_root.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website/js/content/website_root',async function(require){'use strict';let __exports={};const ajax=require('web.ajax');const{_t}=require('web.core');const KeyboardNavigationMixin=require('web.KeyboardNavigationMixin');const{Markup}=require('web.utils');const session=require('web.session');const publicRootData=require('web.public.root');require("web.zoomodoo");const{FullscreenIndication}=require('@website/js/widgets/fullscreen_indication');const WebsiteRoot=__exports.WebsiteRoot=publicRootData.PublicRoot.extend(KeyboardNavigationMixin,{events:_.extend({},KeyboardNavigationMixin.events,publicRootData.PublicRoot.prototype.events||{},{'click .js_change_lang':'_onLangChangeClick','click .js_publish_management .js_publish_btn':'_onPublishBtnClick','click .js_multi_website_switch':'_onWebsiteSwitch','shown.bs.modal':'_onModalShown',}),custom_events:_.extend({},publicRootData.PublicRoot.prototype.custom_events||{},{'gmap_api_request':'_onGMapAPIRequest','gmap_api_key_request':'_onGMapAPIKeyRequest','ready_to_clean_for_save':'_onWidgetsStopRequest','seo_object_request':'_onSeoObjectRequest',}),init(){this.isFullscreen=false;KeyboardNavigationMixin.init.call(this,{autoAccessKeys:false,});return this._super(...arguments);},willStart:async function(){this.fullscreenIndication=new FullscreenIndication(this);return Promise.all([this._super(...arguments),this.fullscreenIndication.appendTo(document.body),]);},start:function(){KeyboardNavigationMixin.start.call(this);if(!this.$('.js_change_lang').length){var $links=this.$('.js_language_selector a:not([data-oe-id])');var m=$(_.min($links,function(l){return $(l).attr('href').length;})).attr('href');$links.each(function(){var $link=$(this);var t=$link.attr('href');var l=(t===m)?"default":t.split('/')[1];$link.data('lang',l).addClass('js_change_lang');});}
this.$('.zoomable img[data-zoom]').zoomOdoo();return this._super.apply(this,arguments);},destroy(){KeyboardNavigationMixin.destroy.call(this);return this._super(...arguments);},_getContext:function(context){var html=document.documentElement;return _.extend({'website_id':html.getAttribute('data-website-id')|0,},this._super.apply(this,arguments));},_getExtraContext:function(context){var html=document.documentElement;return _.extend({'editable':!!(html.dataset.editable||$('[data-oe-model]').length),'translatable':!!html.dataset.translatable,'edit_translations':!!html.dataset.edit_translations,},this._super.apply(this,arguments));},async _getGMapAPIKey(refetch){if(refetch||!this._gmapAPIKeyProm){this._gmapAPIKeyProm=new Promise(async resolve=>{const data=await this._rpc({route:'/website/google_maps_api_key',});resolve(JSON.parse(data).google_maps_api_key||'');});}
return this._gmapAPIKeyProm;},_getPublicWidgetsRegistry:function(options){var registry=this._super.apply(this,arguments);if(options.editableMode){return _.pick(registry,function(PublicWidget){return!PublicWidget.prototype.disabledInEditableMode;});}
return registry;},async _loadGMapAPI(editableMode,refetch){if(refetch||!this._gmapAPILoading){this._gmapAPILoading=new Promise(async resolve=>{const key=await this._getGMapAPIKey(refetch);window.odoo_gmap_api_post_load=(async function odoo_gmap_api_post_load(){await this._startWidgets(undefined,{editableMode:editableMode});resolve(key);}).bind(this);if(!key){if(!editableMode&&session.is_admin){const message=_t("Cannot load google map.");const urlTitle=_t("Check your configuration.");this.displayNotification({type:'warning',sticky:true,message:Markup`<div>
                                    <span>${message}</span><br/>
                                    <a href="/web#action=website.action_website_configuration">${urlTitle}</a>
                                </div>`,});}
resolve(false);this._gmapAPILoading=false;return;}
await ajax.loadJS(`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&callback=odoo_gmap_api_post_load&key=${key}`);});}
return this._gmapAPILoading;},_toggleFullscreen(state){this.isFullscreen=state;if(this.isFullscreen){this.fullscreenIndication.show();}else{this.fullscreenIndication.hide();}
document.body.classList.add('o_fullscreen_transition');document.body.classList.toggle('o_fullscreen',this.isFullscreen);document.body.style.overflowX='hidden';let resizing=true;window.requestAnimationFrame(function resizeFunction(){window.dispatchEvent(new Event('resize'));if(resizing){window.requestAnimationFrame(resizeFunction);}});let stopResizing;const onTransitionEnd=ev=>{if(ev.target===document.body&&ev.propertyName==='padding-top'){stopResizing();}};stopResizing=()=>{resizing=false;document.body.style.overflowX='';document.body.removeEventListener('transitionend',onTransitionEnd);document.body.classList.remove('o_fullscreen_transition');};document.body.addEventListener('transitionend',onTransitionEnd);window.setTimeout(()=>stopResizing(),500);},_onWidgetsStartRequest:function(ev){ev.data.options=_.clone(ev.data.options||{});ev.data.options.editableMode=ev.data.editableMode;this._super.apply(this,arguments);},_onLangChangeClick:function(ev){ev.preventDefault();var $target=$(ev.currentTarget);var redirect={lang:$target.data('url_code'),url:encodeURIComponent($target.attr('href').replace(/[&?]edit_translations[^&?]+/,'')),hash:encodeURIComponent(window.location.hash)};window.location.href=_.str.sprintf("/website/lang/%(lang)s?r=%(url)s%(hash)s",redirect);},async _onGMapAPIRequest(ev){ev.stopPropagation();const apiKey=await this._loadGMapAPI(ev.data.editableMode,ev.data.refetch);ev.data.onSuccess(apiKey);},async _onGMapAPIKeyRequest(ev){ev.stopPropagation();const apiKey=await this._getGMapAPIKey(ev.data.refetch);ev.data.onSuccess(apiKey);},_onSeoObjectRequest:function(ev){var res=this._unslugHtmlDataObject('seo-object');ev.data.callback(res);},_unslugHtmlDataObject:function(dataAttr){var repr=$('html').data(dataAttr);var match=repr&&repr.match(/(.+)\((\d+),(.*)\)/);if(!match){return null;}
return{model:match[1],id:match[2]|0,};},_onPublishBtnClick:function(ev){ev.preventDefault();if(document.body.classList.contains('editor_enable')){return;}
var self=this;var $data=$(ev.currentTarget).parents(".js_publish_management:first");this._rpc({route:$data.data('controller')||'/website/publish',params:{id:+$data.data('id'),object:$data.data('object'),},}).then(function(result){$data.toggleClass("css_unpublished css_published");$data.find('input').prop("checked",result);$data.parents("[data-publish]").attr("data-publish",+result?'on':'off');});},_onWebsiteSwitch:function(ev){var websiteId=ev.currentTarget.getAttribute('website-id');var websiteDomain=ev.currentTarget.getAttribute('domain');let url=`/website/force/${websiteId}`;if(websiteDomain&&window.location.hostname!==websiteDomain){url=websiteDomain+url;}
const path=window.location.pathname+window.location.search+window.location.hash;window.location.href=$.param.querystring(url,{'path':path});},_onModalShown:function(ev){$(ev.target).addClass('modal_shown');},_onKeyDown(ev){if(!session.user_id){return;}
if(ev.keyCode!==$.ui.keyCode.ESCAPE||!document.body.contains(ev.target)||ev.target.closest('.modal')){return KeyboardNavigationMixin._onKeyDown.apply(this,arguments);}
this._toggleFullscreen(!this.isFullscreen);},});__exports[Symbol.for("default")]={WebsiteRoot:WebsiteRoot,};return __exports;});odoo.define(`website.root`,async function(require){return require('@website/js/content/website_root')[Symbol.for("default")];});;

/* /website/static/src/js/widgets/fullscreen_indication.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website/js/widgets/fullscreen_indication',async function(require){'use strict';let __exports={};const Widget=require('web.Widget');const FullscreenIndication=__exports.FullscreenIndication=Widget.extend({xmlDependencies:['/website/static/src/xml/website.xml'],template:'website.fullscreen_indication',init:function(){this.visible=false;this.displayTime=2000;this._super(...arguments);},show:function(){clearTimeout(this.autofade);this.visible=true;this.el.classList.add('o_transition','o_visible');this.autofade=setTimeout(()=>{this.hide(true);},this.displayTime);},hide:function(withTransition=false){this.el.classList.toggle('o_transition',withTransition);this.el.classList.remove('o_visible');this.visible=false;},});return __exports;});;

/* /website/static/src/js/content/compatibility.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.content.compatibility',function(require){'use strict';require('web.dom_ready');var browser=_.findKey($.browser,function(v){return v===true;});if($.browser.mozilla&&+$.browser.version.replace(/^([0-9]+\.[0-9]+).*/,'\$1')<20){browser='msie';}
browser+=(','+$.browser.version);var mobileRegex=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i;if(mobileRegex.test(window.navigator.userAgent.toLowerCase())){browser+=',mobile';}
document.documentElement.setAttribute('data-browser',browser);var htmlStyle=document.documentElement.style;var isFlexSupported=(('flexWrap'in htmlStyle)||('WebkitFlexWrap'in htmlStyle)||('msFlexWrap'in htmlStyle));if(!isFlexSupported){document.documentElement.setAttribute('data-no-flex','');}
return{browser:browser,isFlexSupported:isFlexSupported,};});;

/* /website/static/src/js/content/menu.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.content.menu',function(require){'use strict';const config=require('web.config');var dom=require('web.dom');var publicWidget=require('web.public.widget');var animations=require('website.content.snippets.animation');const extraMenuUpdateCallbacks=[];const BaseAnimatedHeader=animations.Animation.extend({disabledInEditableMode:false,effects:[{startEvents:'scroll',update:'_updateHeaderOnScroll',},{startEvents:'resize',update:'_updateHeaderOnResize',}],init:function(){this._super(...arguments);this.fixedHeader=false;this.scrolledPoint=0;this.hasScrolled=false;this.closeOpenedMenus=false;},start:function(){this.$main=this.$el.next('main');this.isOverlayHeader=!!this.$el.closest('.o_header_overlay, .o_header_overlay_theme').length;this.$dropdowns=this.$el.find('.dropdown, .dropdown-menu');this.$navbarCollapses=this.$el.find('.navbar-collapse');this.$navbarCollapses.on('show.bs.collapse.BaseAnimatedHeader',function(){if(config.device.size_class<=config.device.SIZES.SM){$(document.body).addClass('overflow-hidden');}}).on('hide.bs.collapse.BaseAnimatedHeader',function(){$(document.body).removeClass('overflow-hidden');});this._transitionCount=0;this.$el.on('odoo-transitionstart.BaseAnimatedHeader',()=>this._adaptToHeaderChangeLoop(1));this.$el.on('transitionend.BaseAnimatedHeader',()=>this._adaptToHeaderChangeLoop(-1));return this._super(...arguments);},destroy:function(){this._toggleFixedHeader(false);this.$el.removeClass('o_header_affixed o_header_is_scrolled o_header_no_transition');this.$navbarCollapses.off('.BaseAnimatedHeader');this.$el.off('.BaseAnimatedHeader');this._super(...arguments);},_adaptFixedHeaderPosition(){dom.compensateScrollbar(this.el,this.fixedHeader,false,'right');},_adaptToHeaderChange:function(){this._updateMainPaddingTop();this.el.classList.toggle('o_top_fixed_element',this.fixedHeader&&this._isShown());for(const callback of extraMenuUpdateCallbacks){callback();}},_adaptToHeaderChangeLoop:function(addCount=0){this._adaptToHeaderChange();this._transitionCount+=addCount;this._transitionCount=Math.max(0,this._transitionCount);if(this._transitionCount>0){window.requestAnimationFrame(()=>this._adaptToHeaderChangeLoop());if(addCount!==0){clearTimeout(this._changeLoopTimer);this._changeLoopTimer=setTimeout(()=>{this._adaptToHeaderChangeLoop(-this._transitionCount);},500);}}else{clearTimeout(this._changeLoopTimer);}},_computeTopGap(){return 0;},_isShown(){return true;},_toggleFixedHeader:function(useFixed=true){this.fixedHeader=useFixed;this._adaptToHeaderChange();this.el.classList.toggle('o_header_affixed',useFixed);this._adaptFixedHeaderPosition();},_updateMainPaddingTop:function(){this.headerHeight=this.$el.outerHeight();this.topGap=this._computeTopGap();if(this.isOverlayHeader){return;}
this.$main.css('padding-top',this.fixedHeader?this.headerHeight:'');},_updateHeaderOnScroll:function(scroll){if(!this.hasScrolled){this.hasScrolled=true;if(scroll>0){this.$el.addClass('o_header_no_transition');}}else{this.$el.removeClass('o_header_no_transition');this.closeOpenedMenus=true;}
const headerIsScrolled=(scroll>this.scrolledPoint);if(this.headerIsScrolled!==headerIsScrolled){this.el.classList.toggle('o_header_is_scrolled',headerIsScrolled);this.$el.trigger('odoo-transitionstart');this.headerIsScrolled=headerIsScrolled;}
if(this.closeOpenedMenus){this.$dropdowns.removeClass('show');this.$navbarCollapses.removeClass('show').attr('aria-expanded',false);}},_updateHeaderOnResize:function(){this._adaptFixedHeaderPosition();if(document.body.classList.contains('overflow-hidden')&&config.device.size_class>config.device.SIZES.SM){document.body.classList.remove('overflow-hidden');this.$el.find('.navbar-collapse').removeClass('show');}},});publicWidget.registry.StandardAffixedHeader=BaseAnimatedHeader.extend({selector:'header.o_header_standard:not(.o_header_sidebar)',init:function(){this._super(...arguments);this.fixedHeaderShow=false;this.scrolledPoint=300;},start:function(){this.headerHeight=this.$el.outerHeight();return this._super.apply(this,arguments);},_isShown(){return!this.fixedHeader||this.fixedHeaderShow;},_updateHeaderOnScroll:function(scroll){this._super(...arguments);const mainPosScrolled=(scroll>this.headerHeight+this.topGap);const reachPosScrolled=(scroll>this.scrolledPoint+this.topGap);const fixedUpdate=(this.fixedHeader!==mainPosScrolled);const showUpdate=(this.fixedHeaderShow!==reachPosScrolled);if(fixedUpdate||showUpdate){this.$el.css('transform',reachPosScrolled?`translate(0, -${this.topGap}px)`:mainPosScrolled?'translate(0, -100%)':'');void this.$el[0].offsetWidth;}
this.fixedHeaderShow=reachPosScrolled;if(fixedUpdate){this._toggleFixedHeader(mainPosScrolled);}else if(showUpdate){this._adaptToHeaderChange();}},});publicWidget.registry.FixedHeader=BaseAnimatedHeader.extend({selector:'header.o_header_fixed:not(.o_header_sidebar)',_updateHeaderOnScroll:function(scroll){this._super(...arguments);if(scroll>(this.scrolledPoint+this.topGap)){if(!this.$el.hasClass('o_header_affixed')){this.$el.css('transform',`translate(0, -${this.topGap}px)`);void this.$el[0].offsetWidth;this._toggleFixedHeader(true);}}else{this._toggleFixedHeader(false);void this.$el[0].offsetWidth;this.$el.css('transform','');}},});const BaseDisappearingHeader=publicWidget.registry.FixedHeader.extend({init:function(){this._super(...arguments);this.scrollingDownwards=true;this.hiddenHeader=false;this.position=0;this.atTop=true;this.checkPoint=0;this.scrollOffsetLimit=200;},destroy:function(){this._showHeader();this._super.apply(this,arguments);},_hideHeader:function(){this.$el.trigger('odoo-transitionstart');},_isShown(){return!this.fixedHeader||!this.hiddenHeader;},_showHeader:function(){this.$el.trigger('odoo-transitionstart');},_updateHeaderOnScroll:function(scroll){this._super(...arguments);const scrollingDownwards=(scroll>this.position);const atTop=(scroll<=0);if(scrollingDownwards!==this.scrollingDownwards){this.checkPoint=scroll;}
this.scrollingDownwards=scrollingDownwards;this.position=scroll;this.atTop=atTop;if(scrollingDownwards){if(!this.hiddenHeader&&scroll-this.checkPoint>(this.scrollOffsetLimit+this.topGap)){this.hiddenHeader=true;this._hideHeader();}}else{if(this.hiddenHeader&&scroll-this.checkPoint<-(this.scrollOffsetLimit+this.topGap)/2){this.hiddenHeader=false;this._showHeader();}}
if(atTop&&!this.atTop){this._showHeader();}},});publicWidget.registry.DisappearingHeader=BaseDisappearingHeader.extend({selector:'header.o_header_disappears:not(.o_header_sidebar)',_hideHeader:function(){this._super(...arguments);this.$el.css('transform','translate(0, -100%)');},_showHeader:function(){this._super(...arguments);this.$el.css('transform',this.atTop?'':`translate(0, -${this.topGap}px)`);},});publicWidget.registry.FadeOutHeader=BaseDisappearingHeader.extend({selector:'header.o_header_fade_out:not(.o_header_sidebar)',_hideHeader:function(){this._super(...arguments);this.$el.stop(false,true).fadeOut();},_showHeader:function(){this._super(...arguments);this.$el.css('transform',this.atTop?'':`translate(0, -${this.topGap}px)`);this.$el.stop(false,true).fadeIn();},});publicWidget.registry.menuDirection=publicWidget.Widget.extend({selector:'header .navbar .nav',disabledInEditableMode:false,events:{'show.bs.dropdown':'_onDropdownShow',},start:function(){this.defaultAlignment=this.$el.is('.ml-auto, .ml-auto ~ *')?'right':'left';return this._super.apply(this,arguments);},_checkOpening:function(alignment,liOffset,liWidth,menuWidth,pageWidth){if(alignment==='left'){return(liOffset+menuWidth<=pageWidth);}else{return(liOffset+liWidth-menuWidth>=0);}},_onDropdownShow:function(ev){var $li=$(ev.target);var $menu=$li.children('.dropdown-menu');var liOffset=$li.offset().left;var liWidth=$li.outerWidth();var menuWidth=$menu.outerWidth();var pageWidth=$('#wrapwrap').outerWidth();$menu.removeClass('dropdown-menu-left dropdown-menu-right');var alignment=this.defaultAlignment;if($li.nextAll(':visible').length===0){alignment='right';}
for(var i=0;i<2;i++){if(!this._checkOpening(alignment,liOffset,liWidth,menuWidth,pageWidth)){alignment=(alignment==='left'?'right':'left');}}
$menu.addClass('dropdown-menu-'+alignment);},});publicWidget.registry.hoverableDropdown=animations.Animation.extend({selector:'header.o_hoverable_dropdown',disabledInEditableMode:false,effects:[{startEvents:'resize',update:'_dropdownHover',}],events:{'mouseenter .dropdown':'_onMouseEnter','mouseleave .dropdown':'_onMouseLeave',},start:function(){this.$dropdownMenus=this.$el.find('.dropdown-menu');this.$dropdownToggles=this.$el.find('.dropdown-toggle');this._dropdownHover();return this._super.apply(this,arguments);},_dropdownHover:function(){if(config.device.size_class>config.device.SIZES.SM){this.$dropdownMenus.css('margin-top','0');this.$dropdownMenus.css('top','unset');}else{this.$dropdownMenus.css('margin-top','');this.$dropdownMenus.css('top','');}},_onMouseEnter:function(ev){if(config.device.size_class<=config.device.SIZES.SM){return;}
const $dropdown=$(ev.currentTarget);$dropdown.addClass('show');$dropdown.find(this.$dropdownToggles).attr('aria-expanded','true');$dropdown.find(this.$dropdownMenus).addClass('show');},_onMouseLeave:function(ev){if(config.device.size_class<=config.device.SIZES.SM){return;}
const $dropdown=$(ev.currentTarget);$dropdown.removeClass('show');$dropdown.find(this.$dropdownToggles).attr('aria-expanded','false');$dropdown.find(this.$dropdownMenus).removeClass('show');},});publicWidget.registry.HeaderMainCollapse=publicWidget.Widget.extend({selector:'header#top',events:{'show.bs.collapse #top_menu_collapse':'_onCollapseShow','hidden.bs.collapse #top_menu_collapse':'_onCollapseHidden',},_onCollapseShow(){this.el.classList.add('o_top_menu_collapse_shown');},_onCollapseHidden(){this.el.classList.remove('o_top_menu_collapse_shown');},});return{extraMenuUpdateCallbacks:extraMenuUpdateCallbacks,};});;

/* /website/static/src/js/content/snippets.animation.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.content.snippets.animation',function(require){'use strict';var Class=require('web.Class');var config=require('web.config');var core=require('web.core');const dom=require('web.dom');var mixins=require('web.mixins');var publicWidget=require('web.public.widget');var utils=require('web.utils');var qweb=core.qweb;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;if(!window.performance||!window.performance.now){window.performance={now:function(){return Date.now();}};}
publicWidget.Widget.include({disabledInEditableMode:true,edit_events:null,read_events:null,init:function(parent,options){this._super.apply(this,arguments);this.editableMode=this.options.editableMode||false;var extraEvents=this.editableMode?this.edit_events:this.read_events;if(extraEvents){this.events=_.extend({},this.events||{},extraEvents);}},});var AnimationEffect=Class.extend(mixins.ParentedMixin,{init:function(parent,updateCallback,startEvents,$startTarget,options){mixins.ParentedMixin.init.call(this);this.setParent(parent);options=options||{};this._minFrameTime=1000/(options.maxFPS||100);this._updateCallback=updateCallback;this.startEvents=startEvents||'scroll';const mainScrollingElement=$().getScrollingElement()[0];const mainScrollingTarget=mainScrollingElement===document.documentElement?window:mainScrollingElement;this.$startTarget=$($startTarget?$startTarget:this.startEvents==='scroll'?mainScrollingTarget:window);if(options.getStateCallback){this._getStateCallback=options.getStateCallback;}else if(this.startEvents==='scroll'&&this.$startTarget[0]===mainScrollingTarget){const $scrollable=this.$startTarget;this._getStateCallback=function(){return $scrollable.scrollTop();};}else if(this.startEvents==='resize'&&this.$startTarget[0]===window){this._getStateCallback=function(){return{width:window.innerWidth,height:window.innerHeight,};};}else{this._getStateCallback=function(){return undefined;};}
this.endEvents=options.endEvents||false;this.$endTarget=options.$endTarget?$(options.$endTarget):this.$startTarget;this._updateCallback=this._updateCallback.bind(parent);this._getStateCallback=this._getStateCallback.bind(parent);this._uid='_animationEffect'+_.uniqueId();this.startEvents=_processEvents(this.startEvents,this._uid);if(this.endEvents){this.endEvents=_processEvents(this.endEvents,this._uid);}
function _processEvents(events,namespace){events=events.split(' ');return _.each(events,function(e,index){events[index]+=('.'+namespace);}).join(' ');}},destroy:function(){mixins.ParentedMixin.destroy.call(this);this.stop();},start:function(){this._paused=false;this._rafID=window.requestAnimationFrame((function(t){this._update(t);this._paused=true;}).bind(this));if(this.endEvents){this.$startTarget.on(this.startEvents,(function(e){if(this._paused){_.defer(this.play.bind(this,e));}}).bind(this));this.$endTarget.on(this.endEvents,(function(){if(!this._paused){_.defer(this.pause.bind(this));}}).bind(this));}else{var pauseTimer=null;this.$startTarget.on(this.startEvents,_.throttle((function(e){this.play(e);clearTimeout(pauseTimer);pauseTimer=_.delay((function(){this.pause();pauseTimer=null;}).bind(this),2000);}).bind(this),250,{trailing:false}));}},stop:function(){this.$startTarget.off(this.startEvents);if(this.endEvents){this.$endTarget.off(this.endEvents);}
this.pause();},play:function(e){this._newEvent=e;if(!this._paused){return;}
this._paused=false;this._rafID=window.requestAnimationFrame(this._update.bind(this));this._lastUpdateTimestamp=undefined;},pause:function(){if(this._paused){return;}
this._paused=true;window.cancelAnimationFrame(this._rafID);this._lastUpdateTimestamp=undefined;},_update:function(timestamp){if(this._paused){return;}
this._rafID=window.requestAnimationFrame(this._update.bind(this));var elapsedTime=0;if(this._lastUpdateTimestamp){elapsedTime=timestamp-this._lastUpdateTimestamp;if(elapsedTime<this._minFrameTime){return;}}
var animationState=this._getStateCallback(elapsedTime,this._newEvent);if(!this._newEvent&&animationState!==undefined&&_.isEqual(animationState,this._animationLastState)){return;}
this._animationLastState=animationState;this._updateCallback(this._animationLastState,elapsedTime,this._newEvent);this._lastUpdateTimestamp=timestamp;this._newEvent=undefined;},});var Animation=publicWidget.Widget.extend({maxFPS:100,effects:[],start:function(){this._prepareEffects();_.each(this._animationEffects,function(effect){effect.start();});return this._super.apply(this,arguments);},_prepareEffects:function(){this._animationEffects=[];var self=this;_.each(this.effects,function(desc){self._addEffect(self[desc.update],desc.startEvents,_findTarget(desc.startTarget),{getStateCallback:desc.getState&&self[desc.getState],endEvents:desc.endEvents||undefined,$endTarget:_findTarget(desc.endTarget),maxFPS:self.maxFPS,});function _findTarget(selector){if(selector){if(selector==='selector'){return self.$target;}
return self.$(selector);}
return undefined;}});},_addEffect:function(updateCallback,startEvents,$startTarget,options){this._animationEffects.push(new AnimationEffect(this,updateCallback,startEvents,$startTarget,options));},});var registry=publicWidget.registry;registry.slider=publicWidget.Widget.extend({selector:'.carousel',disabledInEditableMode:false,edit_events:{'content_changed':'_onContentChanged',},start:function(){this.$('img').on('load.slider',()=>this._computeHeights());this._computeHeights();this.$target.carousel(this.editableMode?'pause':undefined);$(window).on('resize.slider',_.debounce(()=>this._computeHeights(),250));return this._super.apply(this,arguments);},destroy:function(){this._super.apply(this,arguments);this.$('img').off('.slider');this.$target.carousel('pause');this.$target.removeData('bs.carousel');_.each(this.$('.carousel-item'),function(el){$(el).css('min-height','');});$(window).off('.slider');},_computeHeights:function(){var maxHeight=0;var $items=this.$('.carousel-item');$items.css('min-height','');_.each($items,function(el){var $item=$(el);var isActive=$item.hasClass('active');$item.addClass('active');var height=$item.outerHeight();if(height>maxHeight){maxHeight=height;}
$item.toggleClass('active',isActive);});$items.css('min-height',maxHeight);},_onContentChanged:function(ev){this._computeHeights();},});registry.Parallax=Animation.extend({selector:'.parallax',disabledInEditableMode:false,effects:[{startEvents:'scroll',update:'_onWindowScroll',}],start:function(){this._rebuild();$(window).on('resize.animation_parallax',_.debounce(this._rebuild.bind(this),500));return this._super.apply(this,arguments);},destroy:function(){this._super.apply(this,arguments);$(window).off('.animation_parallax');},_rebuild:function(){this.$bg=this.$('> .s_parallax_bg');this.speed=parseFloat(this.$target.attr('data-scroll-background-ratio')||0);var noParallaxSpeed=(this.speed===0||this.speed===1);if(noParallaxSpeed){this.$bg.css({transform:'',top:'',bottom:'',});return;}
this.viewport=document.body.clientHeight-$('#wrapwrap').position().top;this.visibleArea=[this.$target.offset().top];this.visibleArea.push(this.visibleArea[0]+this.$target.innerHeight()+this.viewport);this.ratio=this.speed*(this.viewport/10);const absoluteRatio=Math.abs(this.ratio);this.$bg.css({top:-absoluteRatio,bottom:-absoluteRatio,});},_onWindowScroll:function(scrollOffset){if(this.speed===0||this.speed===1){return;}
var vpEndOffset=scrollOffset+this.viewport;if(vpEndOffset>=this.visibleArea[0]&&vpEndOffset<=this.visibleArea[1]){this.$bg.css('transform','translateY('+_getNormalizedPosition.call(this,vpEndOffset)+'px)');}
function _getNormalizedPosition(pos){var r=(pos-this.visibleArea[1])/(this.visibleArea[0]-this.visibleArea[1]);return Math.round(this.ratio*(2*r-1));}},});registry.mediaVideo=publicWidget.Widget.extend({selector:'.media_iframe_video',start:function(){var def=this._super.apply(this,arguments);if(this.$target.children('iframe').length){return def;}
this.$target.empty();this.$target.append('<div class="css_editable_mode_display">&nbsp;</div>'+'<div class="media_iframe_video_size">&nbsp;</div>');var src=_.escape(this.$target.data('oe-expression')||this.$target.data('src'));var m=src.match(/^(?:https?:)?\/\/([^/?#]+)/);if(!m){return def;}
var domain=m[1].replace(/^www\./,'');var supportedDomains=['youtu.be','youtube.com','youtube-nocookie.com','instagram.com','vine.co','player.vimeo.com','vimeo.com','dailymotion.com','player.youku.com','youku.com'];if(!_.contains(supportedDomains,domain)){return def;}
this.$target.append($('<iframe/>',{src:src,frameborder:'0',allowfullscreen:'allowfullscreen',}));return def;},});registry.backgroundVideo=publicWidget.Widget.extend({selector:'.o_background_video',xmlDependencies:['/website/static/src/xml/website.background.video.xml'],disabledInEditableMode:false,start:function(){var proms=[this._super(...arguments)];this.videoSrc=this.el.dataset.bgVideoSrc;this.iframeID=_.uniqueId('o_bg_video_iframe_');this.isYoutubeVideo=this.videoSrc.indexOf('youtube')>=0;this.isMobileEnv=config.device.size_class<=config.device.SIZES.LG&&config.device.touch;if(this.isYoutubeVideo&&this.isMobileEnv){this.videoSrc=this.videoSrc+"&enablejsapi=1";if(!window.YT){var oldOnYoutubeIframeAPIReady=window.onYouTubeIframeAPIReady;proms.push(new Promise(resolve=>{window.onYouTubeIframeAPIReady=()=>{if(oldOnYoutubeIframeAPIReady){oldOnYoutubeIframeAPIReady();}
return resolve();};}));$('<script/>',{src:'https://www.youtube.com/iframe_api',}).appendTo('head');}}
var throttledUpdate=_.throttle(()=>this._adjustIframe(),50);var $dropdownMenu=this.$el.closest('.dropdown-menu');if($dropdownMenu.length){this.$dropdownParent=$dropdownMenu.parent();this.$dropdownParent.on('shown.bs.dropdown.backgroundVideo',throttledUpdate);}
$(window).on('resize.'+this.iframeID,throttledUpdate);const $modal=this.$target.closest('.modal');if($modal.length){$modal.on('show.bs.modal',()=>{const videoContainerEl=this.$target[0].querySelector('.o_bg_video_container');videoContainerEl.classList.add('d-none');});$modal.on('shown.bs.modal',()=>{this._adjustIframe();const videoContainerEl=this.$target[0].querySelector('.o_bg_video_container');videoContainerEl.classList.remove('d-none');});}
return Promise.all(proms).then(()=>this._appendBgVideo());},destroy:function(){this._super.apply(this,arguments);if(this.$dropdownParent){this.$dropdownParent.off('.backgroundVideo');}
$(window).off('resize.'+this.iframeID);if(this.$bgVideoContainer){this.$bgVideoContainer.remove();}},_adjustIframe:function(){if(!this.$iframe){return;}
this.$iframe.removeClass('show');var wrapperWidth=this.$target.innerWidth();var wrapperHeight=this.$target.innerHeight();var relativeRatio=(wrapperWidth/wrapperHeight)/(16/9);var style={};if(relativeRatio>=1.0){style['width']='100%';style['height']=(relativeRatio*100)+'%';style['left']='0';style['top']=(-(relativeRatio-1.0)/2*100)+'%';}else{style['width']=((1/relativeRatio)*100)+'%';style['height']='100%';style['left']=(-((1/relativeRatio)-1.0)/2*100)+'%';style['top']='0';}
this.$iframe.css(style);void this.$iframe[0].offsetWidth;this.$iframe.addClass('show');},_appendBgVideo:function(){var $oldContainer=this.$bgVideoContainer||this.$('> .o_bg_video_container');this.$bgVideoContainer=$(qweb.render('website.background.video',{videoSrc:this.videoSrc,iframeID:this.iframeID,}));this.$iframe=this.$bgVideoContainer.find('.o_bg_video_iframe');this.$iframe.one('load',()=>{this.$bgVideoContainer.find('.o_bg_video_loading').remove();});this.$bgVideoContainer.prependTo(this.$target);$oldContainer.remove();this._adjustIframe();if(this.isMobileEnv&&this.isYoutubeVideo){new window.YT.Player(this.iframeID,{events:{onReady:ev=>ev.target.playVideo(),}});}},});registry.socialShare=publicWidget.Widget.extend({selector:'.oe_social_share',xmlDependencies:['/website/static/src/xml/website.share.xml'],events:{'mouseenter':'_onMouseEnter',},_bindSocialEvent:function(){this.$('.oe_social_facebook').click($.proxy(this._renderSocial,this,'facebook'));this.$('.oe_social_twitter').click($.proxy(this._renderSocial,this,'twitter'));this.$('.oe_social_linkedin').click($.proxy(this._renderSocial,this,'linkedin'));},_render:function(){this.$el.popover({content:qweb.render('website.social_hover',{medias:this.socialList}),placement:'bottom',container:this.$el,html:true,trigger:'manual',animation:false,}).popover("show");this.$el.off('mouseleave.socialShare').on('mouseleave.socialShare',function(){var self=this;setTimeout(function(){if(!$(".popover:hover").length){$(self).popover('dispose');}},200);});},_renderSocial:function(social){var url=this.$el.data('urlshare')||document.URL.split(/[?#]/)[0];url=encodeURIComponent(url);var title=document.title.split(" | ")[0];var hashtags=' #'+document.title.split(" | ")[1].replace(' ','')+' '+this.hashtags;var socialNetworks={'facebook':'https://www.facebook.com/sharer/sharer.php?u='+url,'twitter':'https://twitter.com/intent/tweet?original_referer='+url+'&text='+encodeURIComponent(title+hashtags+' - ')+url,'linkedin':'https://www.linkedin.com/sharing/share-offsite/?url='+url,};if(!_.contains(_.keys(socialNetworks),social)){return;}
var wHeight=500;var wWidth=500;window.open(socialNetworks[social],'','menubar=no, toolbar=no, resizable=yes, scrollbar=yes, height='+wHeight+',width='+wWidth);},_onMouseEnter:function(){var social=this.$el.data('social');this.socialList=social?social.split(','):['facebook','twitter','linkedin'];this.hashtags=this.$el.data('hashtags')||'';this._render();this._bindSocialEvent();},});registry.anchorSlide=publicWidget.Widget.extend({selector:'a[href^="/"][href*="#"], a[href^="#"]',events:{'click':'_onAnimateClick',},async _scrollTo($el,scrollValue='true'){return dom.scrollTo($el[0],{duration:scrollValue==='true'?500:0,extraOffset:this._computeExtraOffset(),});},_computeExtraOffset(){return 0;},_onAnimateClick:function(ev){if(this.$target[0].pathname!==window.location.pathname){return;}
var hash=this.$target[0].hash;if(!utils.isValidAnchor(hash)){return;}
var $anchor=$(hash);const scrollValue=$anchor.attr('data-anchor');if(!$anchor.length||!scrollValue){return;}
ev.preventDefault();this._scrollTo($anchor,scrollValue);},});registry.FullScreenHeight=publicWidget.Widget.extend({selector:'.o_full_screen_height',disabledInEditableMode:false,start(){this.inModal=!!this.el.closest('.modal');if(this.$el.is(':not(:visible)')||this.$el.outerHeight()>this._computeIdealHeight()){this._adaptSize();$(window).on('resize.FullScreenHeight',_.debounce(()=>this._adaptSize(),250));}
return this._super(...arguments);},destroy(){this._super(...arguments);$(window).off('.FullScreenHeight');this.el.style.setProperty('min-height','');},_adaptSize(){const height=this._computeIdealHeight();this.el.style.setProperty('min-height',`${height}px`,'important');},_computeIdealHeight(){const windowHeight=$(window).outerHeight();if(this.inModal){return(windowHeight-$('#wrapwrap').position().top);}
const firstContentEl=$('#wrapwrap > main > :first-child')[0];const mainTopPos=firstContentEl.getBoundingClientRect().top+dom.closestScrollable(firstContentEl.parentNode).scrollTop;return(windowHeight-mainTopPos);},});registry.ScrollButton=registry.anchorSlide.extend({selector:'.o_scroll_button',_onAnimateClick:function(ev){ev.preventDefault();const $nextElement=this.$el.closest('section').next();if($nextElement.length){this._scrollTo($nextElement);}},});registry.FooterSlideout=publicWidget.Widget.extend({selector:'#wrapwrap:has(.o_footer_slideout)',disabledInEditableMode:false,async start(){const $main=this.$('> main');const slideoutEffect=$main.outerHeight()>=$(window).outerHeight();this.el.classList.toggle('o_footer_effect_enable',slideoutEffect);this.__pixelEl=document.createElement('div');this.__pixelEl.style.width=`1px`;this.__pixelEl.style.height=`1px`;this.__pixelEl.style.marginTop=`-1px`;this.el.appendChild(this.__pixelEl);return this._super(...arguments);},destroy(){this._super(...arguments);this.el.classList.remove('o_footer_effect_enable');this.__pixelEl.remove();},});registry.HeaderHamburgerFull=publicWidget.Widget.extend({selector:'header:has(.o_header_hamburger_full_toggler):not(:has(.o_offcanvas_menu_toggler))',events:{'click .o_header_hamburger_full_toggler':'_onToggleClick',},_onToggleClick(){document.body.classList.add('overflow-hidden');setTimeout(()=>$(window).trigger('scroll'),100);},});registry.BottomFixedElement=publicWidget.Widget.extend({selector:'#wrapwrap',async start(){this.$scrollingElement=$().getScrollingElement();this.__hideBottomFixedElements=_.debounce(()=>this._hideBottomFixedElements(),500);this.$scrollingElement.on('scroll.bottom_fixed_element',this.__hideBottomFixedElements);$(window).on('resize.bottom_fixed_element',this.__hideBottomFixedElements);return this._super(...arguments);},destroy(){this._super(...arguments);this.$scrollingElement.off('.bottom_fixed_element');$(window).off('.bottom_fixed_element');$('.o_bottom_fixed_element').removeClass('o_bottom_fixed_element_hidden');},_hideBottomFixedElements(){const $bottomFixedElements=$('.o_bottom_fixed_element');if(!$bottomFixedElements.length){return;}
$bottomFixedElements.removeClass('o_bottom_fixed_element_hidden');if((this.$scrollingElement[0].offsetHeight+this.$scrollingElement[0].scrollTop)>=(this.$scrollingElement[0].scrollHeight-2)){const buttonEls=[...this.$('.btn:visible')];for(const el of $bottomFixedElements){if(buttonEls.some(button=>dom.areColliding(button,el))){el.classList.add('o_bottom_fixed_element_hidden');}}}},});registry.WebsiteAnimate=publicWidget.Widget.extend({selector:'#wrapwrap',disabledInEditableMode:false,offsetRatio:0.3,offsetMin:10,start(){this.lastScroll=0;this.$scrollingElement=$().getScrollingElement(this.ownerDocument);this.$animatedElements=this.$target.find('.o_animate');_.each(this.$animatedElements,el=>{this._resetAnimation($(el));});this.$animatedElements.css("visibility","visible");this.__onScrollWebsiteAnimate=_.throttle(this._onScrollWebsiteAnimate.bind(this),200);this.$scrollingElement[0].addEventListener('scroll',this.__onScrollWebsiteAnimate,{capture:true});$(window).on('resize.o_animate, shown.bs.modal.o_animate, slid.bs.carousel.o_animate, shown.bs.dropdown.o_animate',()=>{this.windowsHeight=$(window).height();let $scrollingElement=this.$scrollingElement;const $openDropdown=$('.dropdown-menu.show:has(.o_animate)');if($openDropdown.length){$scrollingElement=$openDropdown;}
this._scrollWebsiteAnimate($scrollingElement[0]);}).trigger("resize");return this._super(...arguments);},destroy(){this._super(...arguments);this.$target.find('.o_animate').removeClass('o_animating o_animated o_animate_preview').css({'animation-name':'','animation-play-state':'','visibility':'',});$(window).off('.o_animate');this.$scrollingElement[0].removeEventListener('scroll',this.__onScrollWebsiteAnimate,{capture:true});this.$scrollingElement[0].classList.remove('o_wanim_overflow_x_hidden');},_startAnimation($el){setTimeout(()=>{this._toggleOverflowXHidden(true);$el.css({"animation-play-state":"running"}).addClass("o_animating").one('webkitAnimationEnd oanimationend msAnimationEnd animationend',()=>{$el.addClass("o_animated").removeClass("o_animating");this._toggleOverflowXHidden(false);$(window).trigger("resize");});});},_resetAnimation($el){const animationName=$el.css("animation-name");$el.css({"animation-name":"dummy-none","animation-play-state":""}).removeClass("o_animated o_animating");this._toggleOverflowXHidden(false);void $el[0].offsetWidth;$el.css({'animation-name':animationName,'animation-play-state':'paused'});},_toggleOverflowXHidden(add){if(add){this.$scrollingElement[0].classList.add('o_wanim_overflow_x_hidden');}else if(!this.$scrollingElement.find('.o_animating').length){this.$scrollingElement[0].classList.remove('o_wanim_overflow_x_hidden');}},_getElementOffsetTop(el){var top=0;do{top+=el.offsetTop||0;el=el.offsetParent;}while(el);return top;},_scrollWebsiteAnimate(el){const scroll=$(el).scrollTop();const direction=(scroll<this.lastScroll)?-1:1;this.lastScroll=scroll;_.each(this.$target.find('.o_animate'),el=>{const $el=$(el);const elHeight=$el.height();const elOffset=direction*Math.max((elHeight*this.offsetRatio),this.offsetMin);const state=$el.css("animation-play-state");const $openModal=this.$target.find('.modal:visible');const scrollTop=$openModal.length?$openModal.scrollTop():this.$scrollingElement.scrollTop();const elTop=this._getElementOffsetTop($el[0])-scrollTop;const visible=this.windowsHeight>(elTop+elOffset)&&0<(elTop+elHeight-elOffset);if(visible&&state==="paused"){$el.addClass("o_visible");this._startAnimation($el);}else if(!visible&&$el.hasClass("o_animate_both_scroll")&&state==="running"){$el.removeClass("o_visible");this._resetAnimation($el);}});},_onScrollWebsiteAnimate(ev){this._scrollWebsiteAnimate(ev.currentTarget);},});return{Widget:publicWidget.Widget,Animation:Animation,registry:registry,Class:Animation,};});;

/* /website/static/src/js/menu/navbar.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website/js/menu/navbar',async function(require){'use strict';let __exports={};const core=require('web.core');const dom=require('web.dom');const publicWidget=require('web.public.widget');const concurrency=require('web.concurrency');const Widget=require('web.Widget');const{initAutoMoreMenu}=require('@web/legacy/js/core/menu');const{registry}=require("@web/core/registry");var WebsiteNavbar=publicWidget.RootWidget.extend({xmlDependencies:['/website/static/src/xml/website.xml'],events:_.extend({},publicWidget.RootWidget.prototype.events||{},{'click [data-action]':'_onActionMenuClick','mouseover > ul > li.dropdown:not(.show)':'_onMenuHovered','click .o_mobile_menu_toggle':'_onMobileMenuToggleClick','mouseenter #oe_applications:not(:has(.dropdown-item))':'_onOeApplicationsHovered','show.bs.dropdown #oe_applications:not(:has(.dropdown-item))':'_onOeApplicationsShow',}),custom_events:_.extend({},publicWidget.RootWidget.prototype.custom_events||{},{'action_demand':'_onActionDemand','edit_mode':'_onEditMode','readonly_mode':'_onReadonlyMode','ready_to_save':'_onSave',}),init:function(){this._super.apply(this,arguments);var self=this;var initPromise=new Promise(function(resolve){self.resolveInit=resolve;});this._widgetDefs=[initPromise];},start:function(){var self=this;initAutoMoreMenu(this.el.querySelector('.o_menu_sections'),{maxWidth:function(){return self.$el.width()
-(self.$('.o_menu_systray').outerWidth(true)||0)
-(self.$('#oe_applications').outerWidth(true)||0)
-(self.$('.o_menu_toggle').outerWidth(true)||0)
-(self.$('.o_menu_brand').outerWidth(true)||0);},});return this._super.apply(this,arguments).then(function(){self.resolveInit();});},_attachComponent:function(){var def=this._super.apply(this,arguments);this._widgetDefs.push(def);return def;},_getRegistry:function(){return registry.category("website_navbar_widgets");},_handleAction:function(actionName,params,_i){var self=this;return this._whenReadyForActions().then(function(){var defs=[];_.each(self._widgets,function(w){if(!w.handleAction){return;}
var def=w.handleAction(actionName,params);if(def!==null){defs.push(def);}});if(!defs.length){if(_i>50){console.warn(_.str.sprintf("Action '%s' was not able to be handled.",actionName));return Promise.reject();}
return concurrency.delay(100).then(function(){return self._handleAction(actionName,params,(_i||0)+1);});}
return Promise.all(defs).then(function(values){if(values.length===1){return values[0];}
return values;});});},async _loadAppMenus(){if(!this._loadAppMenusProm){this._loadAppMenusProm=this._rpc({model:'ir.ui.menu',method:'load_menus_root',args:[],});const result=await this._loadAppMenusProm;const menus=core.qweb.render('website.oe_applications_menu',{'menu_data':result,});this.$('#oe_applications .dropdown-menu').html(menus);}
return this._loadAppMenusProm;},_whenReadyForActions:function(){return Promise.all(this._widgetDefs);},_onOeApplicationsHovered:function(){this._loadAppMenus();},_onOeApplicationsShow:function(){this._loadAppMenus();},_onActionMenuClick:function(ev){const restore=dom.addButtonLoadingEffect(ev.currentTarget);this._handleAction($(ev.currentTarget).data('action')).then(restore).guardedCatch(restore);},_onActionDemand:function(ev){var def=this._handleAction(ev.data.actionName,ev.data.params);if(ev.data.onSuccess){def.then(ev.data.onSuccess);}
if(ev.data.onFailure){def.guardedCatch(ev.data.onFailure);}},_onEditMode:function(){this.$el.addClass('editing_mode');this.do_hide();},_onMenuHovered:function(ev){var $opened=this.$('> ul > li.dropdown.show');if($opened.length){$opened.find('.dropdown-toggle').dropdown('toggle');$(ev.currentTarget).find('.dropdown-toggle').dropdown('toggle');}},_onMobileMenuToggleClick:function(){this.$el.parent().toggleClass('o_mobile_menu_opened');},_onReadonlyMode:function(){this.$el.removeClass('editing_mode');this.do_show();},_onSave:function(ev){ev.data.defs.push(this._handleAction('on_save'));},});var WebsiteNavbarActionWidget=Widget.extend({actions:{},handleAction:function(actionName,params){var action=this[this.actions[actionName]];if(action){return Promise.resolve(action.apply(this,params||[]));}
return null;},});registry.category("public_root_widgets").add("WebsiteNavbar",{Widget:WebsiteNavbar,selector:'#oe_main_menu_navbar',});__exports[Symbol.for("default")]={WebsiteNavbar:WebsiteNavbar,WebsiteNavbarActionWidget:WebsiteNavbarActionWidget,};return __exports;});odoo.define(`website.navbar`,async function(require){return require('@website/js/menu/navbar')[Symbol.for("default")];});;

/* /website/static/src/js/show_password.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.show_password',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.ShowPassword=publicWidget.Widget.extend({selector:'#showPass',events:{'mousedown':'_onShowText','touchstart':'_onShowText',},destroy:function(){this._super(...arguments);$('body').off(".ShowPassword");},_onShowPassword:function(){this.$el.closest('.input-group').find('#password').attr('type','password');},_onShowText:function(){$('body').one('mouseup.ShowPassword touchend.ShowPassword',this._onShowPassword.bind(this));this.$el.closest('.input-group').find('#password').attr('type','text');},});return publicWidget.registry.ShowPassword;});;

/* /website/static/src/js/post_link.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.post_link',function(require){'use strict';const publicWidget=require('web.public.widget');const wUtils=require('website.utils');publicWidget.registry.postLink=publicWidget.Widget.extend({selector:'.post_link',events:{'click':'_onClickPost',},_onClickPost:function(ev){ev.preventDefault();const url=this.el.dataset.post||this.el.href;let data={};for(let[key,value]of Object.entries(this.el.dataset)){if(key.startsWith('post_')){data[key.slice(5)]=value;}};wUtils.sendRequest(url,data);},});});;

/* /website/static/src/js/user_custom_javascript.js defined in bundle 'web.assets_frontend_lazy' */
;

/* /purchase/static/src/js/purchase_datetimepicker.js defined in bundle 'web.assets_frontend_lazy' */
$(function(){$('input.o-purchase-datetimepicker').datetimepicker();$('input.o-purchase-datetimepicker').on("hide.datetimepicker",function(){$(this).parents('form').submit();});});

/* /purchase/static/src/js/purchase_portal_sidebar.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('purchase.PurchasePortalSidebar',function(require){'use strict';var publicWidget=require('web.public.widget');var PortalSidebar=require('portal.PortalSidebar');publicWidget.registry.PurchasePortalSidebar=PortalSidebar.extend({selector:'.o_portal_purchase_sidebar',init:function(parent,options){this._super.apply(this,arguments);this.authorizedTextTag=['em','b','i','u'];this.spyWatched=$('body[data-target=".navspy"]');},start:function(){var def=this._super.apply(this,arguments);var $spyWatcheElement=this.$el.find('[data-id="portal_sidebar"]');this._setElementId($spyWatcheElement);this._generateMenu();return def;},_setElementId:function(prefix,$el){var id=_.uniqueId(prefix);this.spyWatched.find($el).attr('id',id);return id;},_generateMenu:function(){var self=this,lastLI=false,lastUL=null,$bsSidenav=this.$el.find('.bs-sidenav');$("#quote_content [id^=quote_header_], #quote_content [id^=quote_]",this.spyWatched).attr("id","");_.each(this.spyWatched.find("#quote_content h2, #quote_content h3"),function(el){var id,text;switch(el.tagName.toLowerCase()){case"h2":id=self._setElementId('quote_header_',el);text=self._extractText($(el));if(!text){break;}
lastLI=$("<li class='nav-item'>").append($('<a class="nav-link" style="max-width: 200px;" href="#'+id+'"/>').text(text)).appendTo($bsSidenav);lastUL=false;break;case"h3":id=self._setElementId('quote_',el);text=self._extractText($(el));if(!text){break;}
if(lastLI){if(!lastUL){lastUL=$("<ul class='nav flex-column'>").appendTo(lastLI);}
$("<li class='nav-item'>").append($('<a class="nav-link" style="max-width: 200px;" href="#'+id+'"/>').text(text)).appendTo(lastUL);}
break;}
el.setAttribute('data-anchor',true);});this.trigger_up('widgets_start_request',{$target:$bsSidenav});},_extractText:function($node){var self=this;var rawText=[];_.each($node.contents(),function(el){var current=$(el);if($.trim(current.text())){var tagName=current.prop("tagName");if(_.isUndefined(tagName)||(!_.isUndefined(tagName)&&_.contains(self.authorizedTextTag,tagName.toLowerCase()))){rawText.push($.trim(current.text()));}}});return rawText.join(' ');},});});;

/* /project/static/src/js/portal_rating.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@project/js/portal_rating',async function(require){'use strict';let __exports={};const time=require('web.time');const publicWidget=require('web.public.widget');publicWidget.registry.ProjectRatingImage=publicWidget.Widget.extend({selector:'.o_portal_project_rating .o_rating_image',start:function(){this.$el.popover({placement:'bottom',trigger:'hover',html:true,content:function(){var $elem=$(this);var id=$elem.data('id');var ratingDate=$elem.data('rating-date');var baseDate=time.auto_str_to_date(ratingDate);var duration=moment(baseDate).fromNow();var $rating=$('#rating_'+id);$rating.find('.rating_timeduration').text(duration);return $rating.html();},});return this._super.apply(this,arguments);},});return __exports;});;

/* /website_payment/static/src/js/website_payment_donation.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_payment/js/website_payment_donation',async function(require){'use strict';let __exports={};const publicWidget=require('web.public.widget');publicWidget.registry.WebsitePaymentDonation=publicWidget.Widget.extend({selector:'.o_donation_payment_form',events:{'focus .o_amount_input':'_onFocusAmountInput','change #donation_comment_checkbox':'_onChangeDonationComment'},_onFocusAmountInput(ev){this.$target.find('#other_amount').prop("checked",true);},_onChangeDonationComment(ev){const $donationComment=this.$target.find('#donation_comment');const checked=$(ev.currentTarget).is(':checked');$donationComment.toggleClass('d-none',!checked);if(!checked){$donationComment.val('');}},});return __exports;});;

/* /website_payment/static/src/js/website_payment_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_payment/js/website_payment_form',async function(require){'use strict';let __exports={};const core=require('web.core');const{_t}=require('web.core');const checkoutForm=require('payment.checkout_form');checkoutForm.include({events:_.extend({},checkoutForm.prototype.events||{},{'change .o_wpayment_fee_impact':'_onFeeParameterChange',}),start:function(){core.bus.on('update_shipping_cost',this,this._updateShippingCost);return this._super.apply(this,arguments);},_processPayment:function(provider,paymentOptionId,flow){if($('.o_donation_payment_form').length){const errorFields={};if(!this.$('input[name="email"]')[0].checkValidity()){errorFields['email']=_t("Email is invalid");}
const mandatoryFields={'name':_t('Name'),'email':_t('Email'),'country_id':_t('Country'),};for(const id in mandatoryFields){const $field=this.$('input[name="'+id+'"],select[name="'+id+'"]');$field.removeClass('is-invalid').popover('dispose');if(!$field.val().trim()){errorFields[id]=_.str.sprintf(_t("Field '%s' is mandatory"),mandatoryFields[id]);}}
if(Object.keys(errorFields).length){for(const id in errorFields){const $field=this.$('input[name="'+id+'"],select[name="'+id+'"]');$field.addClass('is-invalid');$field.popover({content:errorFields[id],trigger:'hover',container:'body',placement:'top'});$field.data("bs.popover").config.content=errorFields[id];}
this._displayError(_t("Validation Error"),_t("Some information is missing to process your payment."));return Promise.resolve();}}
return this._super(...arguments);},_prepareTransactionRouteParams:function(provider,paymentOptionId,flow){const transactionRouteParams=this._super(...arguments);return $('.o_donation_payment_form').length?{...transactionRouteParams,'partner_details':{'name':this.$('input[name="name"]').val(),'email':this.$('input[name="email"]').val(),'country_id':this.$('select[name="country_id"]').val(),},'donation_comment':this.$('#donation_comment').val(),'donation_recipient_email':this.$('input[name="donation_recipient_email"]').val(),}:transactionRouteParams;},_updateShippingCost:function(amount){this.txContext.amount=amount;},_onFeeParameterChange:function(ev){const targetId=ev.target.id;if(targetId.indexOf("amount")>=0){this.txContext.amount=ev.target.value;}
const acquirerIds=[];for(const card of this.$('.o_payment_option_card:has(.o_payment_fee)')){const radio=$(card).find('input[name="o_payment_radio"]');if(radio.data("paymentOptionType")==='acquirer'){acquirerIds.push(radio.data("paymentOptionId"));}}
const countryId=this.$('select[name="country_id"]').val();if(acquirerIds&&this.txContext.amount){this._rpc({route:'/donation/get_acquirer_fees',params:{'acquirer_ids':acquirerIds,'amount':this.txContext.amount!==undefined?parseFloat(this.txContext.amount):null,'currency_id':this.txContext.currencyId?parseInt(this.txContext.currencyId):null,'country_id':countryId,},}).then(feesPerAcquirer=>{for(const card of this.$('.o_payment_option_card:has(.o_payment_fee)')){const radio=$(card).find('input[name="o_payment_radio"]');if(radio.data("paymentOptionType")==='acquirer'){const acquirerId=radio.data("paymentOptionId");const chunk=$(card).find('.o_payment_fee .oe_currency_value')[0];chunk.innerText=(feesPerAcquirer[acquirerId]||0).toFixed(2);}}}).guardedCatch(error=>{error.event.preventDefault();this._displayError(_t("Server Error"),_t("We could not obtain payment fees."),error.message.data.message);});}},});return __exports;});;

/* /website_mail/static/src/js/follow.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_mail.follow',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.follow=publicWidget.Widget.extend({selector:'#wrapwrap:has(.js_follow)',disabledInEditableMode:false,start:function(){var self=this;this.isUser=false;var $jsFollowEls=this.$el.find('.js_follow');var always=function(data){self.isUser=data[0].is_user;const $jsFollowToEnable=$jsFollowEls.filter(function(){const model=this.dataset.object;return model in data[1]&&data[1][model].includes(parseInt(this.dataset.id));});self._toggleSubscription(true,data[0].email,$jsFollowToEnable);self._toggleSubscription(false,data[0].email,$jsFollowEls.not($jsFollowToEnable));$jsFollowEls.removeClass('d-none');};const records={};for(const el of $jsFollowEls){const model=el.dataset.object;if(!(model in records)){records[model]=[];}
records[model].push(parseInt(el.dataset.id));}
this._rpc({route:'/website_mail/is_follower',params:{records:records,},}).then(always).guardedCatch(always);if(!this.editableMode){$('.js_follow > .input-group-append.d-none').removeClass('d-none');this.$target.find('.js_follow_btn, .js_unfollow_btn').on('click',function(event){event.preventDefault();self._onClick(event);});}
return this._super.apply(this,arguments);},_toggleSubscription:function(follow,email,$jsFollowEls){if(follow){this._updateSubscriptionDOM(follow,email,$jsFollowEls);}else{for(const el of $jsFollowEls){const follow=!email&&el.getAttribute('data-unsubscribe');this._updateSubscriptionDOM(follow,email,$(el));}}},_updateSubscriptionDOM:function(follow,email,$jsFollowEls){$jsFollowEls.find('input.js_follow_email').val(email||"").attr("disabled",email&&(follow||this.isUser)?"disabled":false);$jsFollowEls.attr("data-follow",follow?'on':'off');},_onClick:function(ev){var self=this;var $jsFollow=$(ev.currentTarget).closest('.js_follow');var $email=$jsFollow.find(".js_follow_email");if($email.length&&!$email.val().match(/.+@.+/)){$jsFollow.addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');return false;}
$jsFollow.removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');var email=$email.length?$email.val():false;if(email||this.isUser){this._rpc({route:'/website_mail/follow',params:{'id':+$jsFollow.data('id'),'object':$jsFollow.data('object'),'message_is_follower':$jsFollow.attr("data-follow")||"off",'email':email,},}).then(function(follow){self._toggleSubscription(follow,email,$jsFollow);});}},});});;

/* /portal_rating/static/src/js/portal_chatter.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('rating.portal.chatter',function(require){'use strict';var core=require('web.core');var portalChatter=require('portal.chatter');var utils=require('web.utils');var time=require('web.time');var _t=core._t;var PortalChatter=portalChatter.PortalChatter;var qweb=core.qweb;PortalChatter.include({events:_.extend({},PortalChatter.prototype.events,{'click .o_website_rating_select':'_onClickStarDomain','click .o_website_rating_select_text':'_onClickStarDomainReset','click .o_wrating_js_publisher_comment_btn':'_onClickPublisherComment','click .o_wrating_js_publisher_comment_edit':'_onClickPublisherComment','click .o_wrating_js_publisher_comment_delete':'_onClickPublisherCommentDelete','click .o_wrating_js_publisher_comment_submit':'_onClickPublisherCommentSubmit','click .o_wrating_js_publisher_comment_cancel':'_onClickPublisherCommentCancel',}),xmlDependencies:(PortalChatter.prototype.xmlDependencies||[]).concat(['/portal_rating/static/src/xml/portal_tools.xml','/portal_rating/static/src/xml/portal_chatter.xml']),init:function(parent,options){this._super.apply(this,arguments);if(!_.contains(this.options,'display_rating')){this.options=_.defaults(this.options,{'display_rating':false,'rating_default_value':0.0,});}
this.set('rating_card_values',{});this.set('rating_value',false);this.on("change:rating_value",this,this._onChangeRatingDomain);},start:function(){this._super.apply(this,arguments);this.on("change:rating_card_values",this,this._renderRatingCard);},preprocessMessages:function(messages){var self=this;messages=this._super.apply(this,arguments);if(this.options['display_rating']){_.each(messages,function(m,i){m.rating_value=self.roundToHalf(m['rating_value']);m.rating=self._preprocessCommentData(m.rating,i);});}
this.messages=messages;return messages;},roundToHalf:function(value){var converted=parseFloat(value);var decimal=(converted-parseInt(converted,10));decimal=Math.round(decimal*10);if(decimal===5){return(parseInt(converted,10)+0.5);}
if((decimal<3)||(decimal>7)){return Math.round(converted);}else{return(parseInt(converted,10)+0.5);}},_chatterInit:async function(){const result=await this._super(...arguments);this._updateRatingCardValues(result);return result;},messageFetch:async function(domain){const result=await this._super(...arguments);this._updateRatingCardValues(result);return result;},_updateRatingCardValues:function(result){if(!result['rating_stats']){return;}
const ratingData={'avg':Math.round(result['rating_stats']['avg']*100)/100,'percent':[],};_.each(_.keys(result['rating_stats']['percent']).reverse(),function(rating){ratingData['percent'].push({'num':rating,'percent':utils.round_precision(result['rating_stats']['percent'][rating],0.01),});});this.set('rating_card_values',ratingData);},_messageFetchPrepareParams:function(){var params=this._super.apply(this,arguments);if(this.options['display_rating']){params['rating_include']=true;}
return params;},_renderRatingCard:function(){this.$('.o_website_rating_card_container').replaceWith(qweb.render("portal_rating.rating_card",{widget:this}));},_newPublisherCommentData:function(messageIndex){return{mes_index:messageIndex,publisher_id:this.options.partner_id,publisher_avatar:_.str.sprintf('/web/image/res.partner/%s/avatar_128/50x50',this.options.partner_id),publisher_name:_t("Write your comment"),publisher_datetime:'',publisher_comment:'',};},_preprocessCommentData:function(rawRating,messageIndex){var ratingData={id:rawRating.id,mes_index:messageIndex,publisher_datetime:rawRating.publisher_datetime?moment(time.str_to_datetime(rawRating.publisher_datetime)).format('MMMM Do YYYY, h:mm:ss a'):"",publisher_comment:rawRating.publisher_comment?rawRating.publisher_comment:'',};if(rawRating.publisher_id&&rawRating.publisher_id.length>=2){ratingData.publisher_id=rawRating.publisher_id[0];ratingData.publisher_name=rawRating.publisher_id[1];ratingData.publisher_avatar=_.str.sprintf('/web/image/res.partner/%s/avatar_128/50x50',ratingData.publisher_id);}
var commentData=_.extend(this._newPublisherCommentData(messageIndex),ratingData);return commentData;},_getCommentContainer:function($source){return $source.parents(".o_wrating_publisher_container").first().find(".o_wrating_publisher_comment").first();},_getCommentButton:function($source){return $source.parents(".o_wrating_publisher_container").first().find(".o_wrating_js_publisher_comment_btn").first();},_getCommentTextarea:function($source){return $source.parents(".o_wrating_publisher_container").first().find(".o_portal_rating_comment_input").first();},_focusTextComment:function($source){this._getCommentTextarea($source).focus();},_onClickStarDomain:function(ev){var $tr=this.$(ev.currentTarget);var num=$tr.data('star');if($tr.css('opacity')==='1'){this.set('rating_value',num);this.$('.o_website_rating_select').css({'opacity':0.5,});this.$('.o_website_rating_select_text[data-star="'+num+'"]').css({'visibility':'visible','opacity':1,});this.$('.o_website_rating_select[data-star="'+num+'"]').css({'opacity':1,});}},_onClickStarDomainReset:function(ev){ev.stopPropagation();ev.preventDefault();this.set('rating_value',false);this.$('.o_website_rating_select_text').css('visibility','hidden');this.$('.o_website_rating_select').css({'opacity':1,});},_onClickPublisherComment:function(ev){var $source=this.$(ev.currentTarget);if(this._getCommentTextarea($source).length===1){this._getCommentContainer($source).empty();return;}
var messageIndex=$source.data("mes_index");var data={is_publisher:this.options['is_user_publisher']};data.rating=this._newPublisherCommentData(messageIndex);var oldRating=this.messages[messageIndex].rating;data.rating.publisher_comment=oldRating.publisher_comment?oldRating.publisher_comment:'';this._getCommentContainer($source).html($(qweb.render("portal_rating.chatter_rating_publisher_form",data)));this._focusTextComment($source);},_onClickPublisherCommentDelete:function(ev){var self=this;var $source=this.$(ev.currentTarget);var messageIndex=$source.data("mes_index");var ratingId=this.messages[messageIndex].rating.id;this._rpc({route:'/website/rating/comment',params:{"rating_id":ratingId,"publisher_comment":''}}).then(function(res){self.messages[messageIndex].rating=self._preprocessCommentData(res,messageIndex);self._getCommentButton($source).removeClass("d-none");self._getCommentContainer($source).empty();});},_onClickPublisherCommentSubmit:function(ev){var self=this;var $source=this.$(ev.currentTarget);var messageIndex=$source.data("mes_index");var comment=this._getCommentTextarea($source).val();var ratingId=this.messages[messageIndex].rating.id;this._rpc({route:'/website/rating/comment',params:{"rating_id":ratingId,"publisher_comment":comment}}).then(function(res){self.messages[messageIndex].rating=self._preprocessCommentData(res,messageIndex);if(self.messages[messageIndex].rating.publisher_comment!==''){self._getCommentButton($source).addClass('d-none');self._getCommentContainer($source).html($(qweb.render("portal_rating.chatter_rating_publisher_comment",{rating:self.messages[messageIndex].rating,is_publisher:self.options.is_user_publisher})));}else{self._getCommentButton($source).removeClass("d-none");self._getCommentContainer($source).empty();}});},_onClickPublisherCommentCancel:function(ev){var $source=this.$(ev.currentTarget);var messageIndex=$source.data("mes_index");var comment=this.messages[messageIndex].rating.publisher_comment;if(comment){var data={rating:this.messages[messageIndex].rating,is_publisher:this.options.is_user_publisher};this._getCommentContainer($source).html($(qweb.render("portal_rating.chatter_rating_publisher_comment",data)));}else{this._getCommentContainer($source).empty();}},_onChangeRatingDomain:function(){var domain=[];if(this.get('rating_value')){domain=[['rating_value','=',this.get('rating_value')]];}
this._changeCurrentPage(1,domain);},});});;

/* /portal_rating/static/src/js/portal_composer.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('rating.portal.composer',function(require){'use strict';var core=require('web.core');var portalComposer=require('portal.composer');var _t=core._t;var PortalComposer=portalComposer.PortalComposer;PortalComposer.include({events:_.extend({},PortalComposer.prototype.events,{'click .stars i':'_onClickStar','mouseleave .stars':'_onMouseleaveStarBlock','mousemove .stars i':'_onMoveStar','mouseleave .stars i':'_onMoveLeaveStar',}),init:function(parent,options){this._super.apply(this,arguments);if(options.default_rating_value){options.default_rating_value=parseFloat(options.default_rating_value);}
this.options=_.defaults(this.options,{'default_message':false,'default_message_id':false,'default_rating_value':0.0,'force_submit_url':false,});this.labels={'0':"",'1':_t("I hate it"),'2':_t("I don't like it"),'3':_t("It's okay"),'4':_t("I like it"),'5':_t("I love it"),};this.user_click=false;this.set("star_value",this.options.default_rating_value);this.on("change:star_value",this,this._onChangeStarValue);},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self.$input=self.$('input[name="rating_value"]');self.$star_list=self.$('.stars').find('i');self.set("star_value",self.options.default_rating_value);self.$input.val(self.options.default_rating_value);});},_prepareMessageData:function(){return Object.assign(this._super(...arguments)||{},{'message_id':this.options.default_message_id,'rating_value':this.$input.val()});},_onChangeStarValue:function(){var val=this.get("star_value");var index=Math.floor(val);var decimal=val-index;this.$star_list.removeClass('fa-star fa-star-half-o').addClass('fa-star-o');this.$('.stars').find("i:lt("+index+")").removeClass('fa-star-o fa-star-half-o').addClass('fa-star');if(decimal){this.$('.stars').find("i:eq("+index+")").removeClass('fa-star-o fa-star fa-star-half-o').addClass('fa-star-half-o');}
this.$('.rate_text .badge').text(this.labels[index]);},_onClickStar:function(ev){var index=this.$('.stars i').index(ev.currentTarget);this.set("star_value",index+1);this.user_click=true;this.$input.val(this.get("star_value"));},_onMouseleaveStarBlock:function(){this.$('.rate_text').hide();},_onMoveStar:function(ev){var index=this.$('.stars i').index(ev.currentTarget);this.$('.rate_text').show();this.set("star_value",index+1);},_onMoveLeaveStar:function(){if(!this.user_click){this.set("star_value",parseInt(this.$input.val()));}
this.user_click=false;},_onSubmitButtonClick:function(ev){return this._super(...arguments).then((result)=>{const $modal=this.$el.closest('#ratingpopupcomposer');$modal.on('hidden.bs.modal',()=>{this.trigger_up('reload_rating_popup_composer',result);});$modal.modal('hide');});},});});;

/* /portal_rating/static/src/js/portal_rating_composer.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('portal.rating.composer',function(require){'use strict';const publicWidget=require('web.public.widget');const session=require('web.session');const portalComposer=require('portal.composer');const{_t,qweb}=require('web.core');const PortalComposer=portalComposer.PortalComposer;const RatingPopupComposer=publicWidget.Widget.extend({selector:'.o_rating_popup_composer',custom_events:{reload_rating_popup_composer:'_onReloadRatingPopupComposer',},xmlDependencies:['/portal/static/src/xml/portal_chatter.xml','/portal_rating/static/src/xml/portal_chatter.xml','/portal_rating/static/src/xml/portal_tools.xml','/portal_rating/static/src/xml/portal_rating_composer.xml',],willStart:function(parent){const def=this._super.apply(this,arguments);const options=this.$el.data();this.rating_avg=Math.round(options['rating_avg']*100)/100||0.0;this.rating_count=options['rating_count']||0.0;this.options=_.defaults({},options,{'token':false,'res_model':false,'res_id':false,'pid':0,'display_rating':true,'csrf_token':odoo.csrf_token,'user_id':session.user_id,});return def;},start:function(){return Promise.all([this._super.apply(this,arguments),this._reloadRatingPopupComposer(),]);},_reloadRatingPopupComposer:function(){if(this.options.hide_rating_avg){this.$('.o_rating_popup_composer_stars').empty();}else{const ratingAverage=qweb.render('portal_rating.rating_stars_static',{inline_mode:true,widget:this,val:this.rating_avg,});this.$('.o_rating_popup_composer_stars').empty().html(ratingAverage);}
const modal=qweb.render('portal_rating.PopupComposer',{inline_mode:true,widget:this,val:this.rating_avg,});this.$('.o_rating_popup_composer_modal').html(modal);if(this._composer){this._composer.destroy();}
this._composer=new PortalComposer(this,this.options);return this._composer.appendTo(this.$('.o_rating_popup_composer_modal .o_portal_chatter_composer')).then(()=>{this.$('.o_rating_popup_composer_text').text(this.options.default_message_id?_t('Modify your review'):_t('Add a review'));});},_onReloadRatingPopupComposer:function(event){const data=event.data;this.rating_avg=data.rating_avg;this.rating_count=data.rating_count;this.rating_value=data.rating_value;delete data.rating_avg;delete data.rating_count;delete data.rating_value;this.options=_.extend(this.options,data);this._reloadRatingPopupComposer();}});publicWidget.registry.RatingPopupComposer=RatingPopupComposer;return RatingPopupComposer;});;

/* /sale/static/src/js/variant_mixin.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('sale.VariantMixin',function(require){'use strict';var concurrency=require('web.concurrency');var core=require('web.core');var utils=require('web.utils');var ajax=require('web.ajax');var _t=core._t;var VariantMixin={events:{'change .css_attribute_color input':'_onChangeColorAttribute','change .main_product:not(.in_cart) input.js_quantity':'onChangeAddQuantity','change [data-attribute_exclusions]':'onChangeVariant'},onChangeVariant:function(ev){var $parent=$(ev.target).closest('.js_product');if(!$parent.data('uniqueId')){$parent.data('uniqueId',_.uniqueId());}
this._throttledGetCombinationInfo($parent.data('uniqueId'))(ev);},_getCombinationInfo:function(ev){if($(ev.target).hasClass('variant_custom_value')){return Promise.resolve();}
const $parent=$(ev.target).closest('.js_product');const combination=this.getSelectedVariantValues($parent);let parentCombination;if($parent.hasClass('main_product')){parentCombination=$parent.find('ul[data-attribute_exclusions]').data('attribute_exclusions').parent_combination;const $optProducts=$parent.parent().find(`[data-parent-unique-id='${$parent.data('uniqueId')}']`);for(const optionalProduct of $optProducts){const $currentOptionalProduct=$(optionalProduct);const childCombination=this.getSelectedVariantValues($currentOptionalProduct);const productTemplateId=parseInt($currentOptionalProduct.find('.product_template_id').val());ajax.jsonRpc(this._getUri('/sale/get_combination_info'),'call',{'product_template_id':productTemplateId,'product_id':this._getProductId($currentOptionalProduct),'combination':childCombination,'add_qty':parseInt($currentOptionalProduct.find('input[name="add_qty"]').val()),'pricelist_id':this.pricelistId||false,'parent_combination':combination,}).then((combinationData)=>{this._onChangeCombination(ev,$currentOptionalProduct,combinationData);this._checkExclusions($currentOptionalProduct,childCombination,combinationData.parent_exclusions);});}}else{parentCombination=this.getSelectedVariantValues($parent.parent().find('.js_product.in_cart.main_product'));}
return ajax.jsonRpc(this._getUri('/sale/get_combination_info'),'call',{'product_template_id':parseInt($parent.find('.product_template_id').val()),'product_id':this._getProductId($parent),'combination':combination,'add_qty':parseInt($parent.find('input[name="add_qty"]').val()),'pricelist_id':this.pricelistId||false,'parent_combination':parentCombination,}).then((combinationData)=>{this._onChangeCombination(ev,$parent,combinationData);this._checkExclusions($parent,combination,combinationData.parent_exclusions);});},handleCustomValues:function($target){var $variantContainer;var $customInput=false;if($target.is('input[type=radio]')&&$target.is(':checked')){$variantContainer=$target.closest('ul').closest('li');$customInput=$target;}else if($target.is('select')){$variantContainer=$target.closest('li');$customInput=$target.find('option[value="'+$target.val()+'"]');}
if($variantContainer){if($customInput&&$customInput.data('is_custom')==='True'){var attributeValueId=$customInput.data('value_id');var attributeValueName=$customInput.data('value_name');if($variantContainer.find('.variant_custom_value').length===0||$variantContainer.find('.variant_custom_value').data('custom_product_template_attribute_value_id')!==parseInt(attributeValueId)){$variantContainer.find('.variant_custom_value').remove();const previousCustomValue=$customInput.attr("previous_custom_value");var $input=$('<input>',{type:'text','data-custom_product_template_attribute_value_id':attributeValueId,'data-attribute_value_name':attributeValueName,class:'variant_custom_value form-control mt-2'});$input.attr('placeholder',attributeValueName);$input.addClass('custom_value_radio');$variantContainer.append($input);if(previousCustomValue){$input.val(previousCustomValue);}
$input[0].focus();}}else{$variantContainer.find('.variant_custom_value').remove();}}},onClickAddCartJSON:function(ev){ev.preventDefault();var $link=$(ev.currentTarget);var $input=$link.closest('.input-group').find("input");var min=parseFloat($input.data("min")||0);var max=parseFloat($input.data("max")||Infinity);var previousQty=parseFloat($input.val()||0,10);var quantity=($link.has(".fa-minus").length?-1:1)+previousQty;var newQty=quantity>min?(quantity<max?quantity:max):min;if(newQty!==previousQty){$input.val(newQty).trigger('change');}
return false;},onChangeAddQuantity:function(ev){var $parent;if($(ev.currentTarget).closest('.oe_advanced_configurator_modal').length>0){$parent=$(ev.currentTarget).closest('.oe_advanced_configurator_modal');}else if($(ev.currentTarget).closest('form').length>0){$parent=$(ev.currentTarget).closest('form');}else{$parent=$(ev.currentTarget).closest('.o_product_configurator');}
this.triggerVariantChange($parent);},triggerVariantChange:function($container){var self=this;$container.find('ul[data-attribute_exclusions]').trigger('change');$container.find('input.js_variant_change:checked, select.js_variant_change').each(function(){self.handleCustomValues($(this));});},getCustomVariantValues:function($container){var variantCustomValues=[];$container.find('.variant_custom_value').each(function(){var $variantCustomValueInput=$(this);if($variantCustomValueInput.length!==0){variantCustomValues.push({'custom_product_template_attribute_value_id':$variantCustomValueInput.data('custom_product_template_attribute_value_id'),'attribute_value_name':$variantCustomValueInput.data('attribute_value_name'),'custom_value':$variantCustomValueInput.val(),});}});return variantCustomValues;},getNoVariantAttributeValues:function($container){var noVariantAttributeValues=[];var variantsValuesSelectors=['input.no_variant.js_variant_change:checked','select.no_variant.js_variant_change'];$container.find(variantsValuesSelectors.join(',')).each(function(){var $variantValueInput=$(this);var singleNoCustom=$variantValueInput.data('is_single')&&!$variantValueInput.data('is_custom');if($variantValueInput.is('select')){$variantValueInput=$variantValueInput.find('option[value='+$variantValueInput.val()+']');}
if($variantValueInput.length!==0&&!singleNoCustom){noVariantAttributeValues.push({'custom_product_template_attribute_value_id':$variantValueInput.data('value_id'),'attribute_value_name':$variantValueInput.data('value_name'),'value':$variantValueInput.val(),'attribute_name':$variantValueInput.data('attribute_name'),'is_custom':$variantValueInput.data('is_custom')});}});return noVariantAttributeValues;},getSelectedVariantValues:function($container){var values=[];var variantsValuesSelectors=['input.js_variant_change:checked','select.js_variant_change'];_.each($container.find(variantsValuesSelectors.join(', ')),function(el){values.push(+$(el).val());});return values;},selectOrCreateProduct:function($container,productId,productTemplateId,useAjax){var self=this;productId=parseInt(productId);productTemplateId=parseInt(productTemplateId);var productReady=Promise.resolve();if(productId){productReady=Promise.resolve(productId);}else{var params={product_template_id:productTemplateId,product_template_attribute_value_ids:JSON.stringify(self.getSelectedVariantValues($container)),};var route='/sale/create_product_variant';if(useAjax){productReady=ajax.jsonRpc(route,'call',params);}else{productReady=this._rpc({route:route,params:params});}}
return productReady;},_checkExclusions:function($parent,combination,parentExclusions){var self=this;var combinationData=$parent.find('ul[data-attribute_exclusions]').data('attribute_exclusions');if(parentExclusions&&combinationData.parent_exclusions){combinationData.parent_exclusions=parentExclusions;}
$parent.find('option, input, label, .o_variant_pills').removeClass('css_not_available').attr('title',function(){return $(this).data('value_name')||'';}).data('excluded-by','');if(combinationData.exclusions){_.each(combination,function(current_ptav){if(combinationData.exclusions.hasOwnProperty(current_ptav)){_.each(combinationData.exclusions[current_ptav],function(excluded_ptav){self._disableInput($parent,excluded_ptav,current_ptav,combinationData.mapped_attribute_names);});}});}
_.each(combinationData.parent_exclusions,function(exclusions,excluded_by){_.each(exclusions,function(ptav){self._disableInput($parent,ptav,excluded_by,combinationData.mapped_attribute_names,combinationData.parent_product_name);});});},_getProductId:function($parent){return parseInt($parent.find('.product_id').val());},_disableInput:function($parent,attributeValueId,excludedBy,attributeNames,productName){var $input=$parent.find('option[value='+attributeValueId+'], input[value='+attributeValueId+']');$input.addClass('css_not_available');$input.closest('label').addClass('css_not_available');$input.closest('.o_variant_pills').addClass('css_not_available');if(excludedBy&&attributeNames){var $target=$input.is('option')?$input:$input.closest('label').add($input);var excludedByData=[];if($target.data('excluded-by')){excludedByData=JSON.parse($target.data('excluded-by'));}
var excludedByName=attributeNames[excludedBy];if(productName){excludedByName=productName+' ('+excludedByName+')';}
excludedByData.push(excludedByName);$target.attr('title',_.str.sprintf(_t('Not available with %s'),excludedByData.join(', ')));$target.data('excluded-by',JSON.stringify(excludedByData));}},_onChangeCombination:function(ev,$parent,combination){var self=this;var $price=$parent.find(".oe_price:first .oe_currency_value");var $default_price=$parent.find(".oe_default_price:first .oe_currency_value");var $optional_price=$parent.find(".oe_optional:first .oe_currency_value");$price.text(self._priceToStr(combination.price));$default_price.text(self._priceToStr(combination.list_price));var isCombinationPossible=true;if(!_.isUndefined(combination.is_combination_possible)){isCombinationPossible=combination.is_combination_possible;}
this._toggleDisable($parent,isCombinationPossible);if(combination.has_discounted_price){$default_price.closest('.oe_website_sale').addClass("discount");$optional_price.closest('.oe_optional').removeClass('d-none').css('text-decoration','line-through');$default_price.parent().removeClass('d-none');}else{$default_price.closest('.oe_website_sale').removeClass("discount");$optional_price.closest('.oe_optional').addClass('d-none');$default_price.parent().addClass('d-none');}
var rootComponentSelectors=['tr.js_product','.oe_website_sale','.o_product_configurator'];if(!combination.product_id||!this.last_product_id||combination.product_id!==this.last_product_id){this.last_product_id=combination.product_id;self._updateProductImage($parent.closest(rootComponentSelectors.join(', ')),combination.display_image,combination.product_id,combination.product_template_id,combination.carousel,isCombinationPossible);}
$parent.find('.product_id').first().val(combination.product_id||0).trigger('change');$parent.find('.product_display_name').first().text(combination.display_name);$parent.find('.js_raw_price').first().text(combination.price).trigger('change');this.handleCustomValues($(ev.target));},_priceToStr:function(price){var l10n=_t.database.parameters;var precision=2;if($('.decimal_precision').length){precision=parseInt($('.decimal_precision').last().data('precision'));}
var formatted=_.str.sprintf('%.'+precision+'f',price).split('.');formatted[0]=utils.insert_thousand_seps(formatted[0]);return formatted.join(l10n.decimal_point);},_throttledGetCombinationInfo:_.memoize(function(uniqueId){var dropMisordered=new concurrency.DropMisordered();var _getCombinationInfo=_.throttle(this._getCombinationInfo.bind(this),500);return function(ev,params){return dropMisordered.add(_getCombinationInfo(ev,params));};}),_toggleDisable:function($parent,isCombinationPossible){$parent.toggleClass('css_not_available',!isCombinationPossible);if($parent.hasClass('in_cart')){const primaryButton=$parent.parents('.modal-content').find('.modal-footer .btn-primary');primaryButton.prop('disabled',!isCombinationPossible);primaryButton.toggleClass('disabled',!isCombinationPossible);}},_updateProductImage:function($productContainer,displayImage,productId,productTemplateId){var model=productId?'product.product':'product.template';var modelId=productId||productTemplateId;var imageUrl='/web/image/{0}/{1}/'+(this._productImageField?this._productImageField:'image_1024');var imageSrc=imageUrl.replace("{0}",model).replace("{1}",modelId);var imagesSelectors=['span[data-oe-model^="product."][data-oe-type="image"] img:first','img.product_detail_img','span.variant_image img','img.variant_image',];var $img=$productContainer.find(imagesSelectors.join(', '));if(displayImage){$img.removeClass('invisible').attr('src',imageSrc);}else{$img.addClass('invisible');}},_onChangeColorAttribute:function(ev){var $parent=$(ev.target).closest('.js_product');$parent.find('.css_attribute_color').removeClass("active").filter(':has(input:checked)').addClass("active");},_getUri:function(uri){return uri;}};return VariantMixin;});;

/* /website_sale/static/src/js/variant_mixin.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.VariantMixin',function(require){'use strict';var VariantMixin=require('sale.VariantMixin');VariantMixin._getUri=function(uri){if(this.isWebsite){return uri+'_website';}else{return uri;}};const originalOnChangeCombination=VariantMixin._onChangeCombination;VariantMixin._onChangeCombination=function(ev,$parent,combination){const $pricePerUom=$parent.find(".o_base_unit_price:first .oe_currency_value");if($pricePerUom){if(combination.is_combination_possible!==false&&combination.base_unit_price!=0){$pricePerUom.parents(".o_base_unit_price_wrapper").removeClass("d-none");$pricePerUom.text(this._priceToStr(combination.base_unit_price));$parent.find(".oe_custom_base_unit:first").text(combination.base_unit_name);}else{$pricePerUom.parents(".o_base_unit_price_wrapper").addClass("d-none");}}
if('product_tracking_info'in combination){const $product=$('#product_detail');$product.data('product-tracking-info',combination['product_tracking_info']);$product.trigger('view_item_event',combination['product_tracking_info']);}
originalOnChangeCombination.apply(this,[ev,$parent,combination]);};const originalToggleDisable=VariantMixin._toggleDisable;VariantMixin._toggleDisable=function($parent,isCombinationPossible){if($parent.hasClass('in_cart')){const secondaryButton=$parent.parents('.modal-content').find('.modal-footer .btn-secondary');secondaryButton.prop('disabled',!isCombinationPossible);secondaryButton.toggleClass('disabled',!isCombinationPossible);}
originalToggleDisable.apply(this,[$parent,isCombinationPossible]);};return VariantMixin;});;

/* /sale_product_configurator/static/src/js/product_configurator_modal.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('sale_product_configurator.OptionalProductsModal',function(require){"use strict";var ajax=require('web.ajax');var Dialog=require('web.Dialog');const OwlDialog=require('web.OwlDialog');var ServicesMixin=require('web.ServicesMixin');var VariantMixin=require('sale.VariantMixin');var OptionalProductsModal=Dialog.extend(ServicesMixin,VariantMixin,{events:_.extend({},Dialog.prototype.events,VariantMixin.events,{'click a.js_add, a.js_remove':'_onAddOrRemoveOption','click button.js_add_cart_json':'onClickAddCartJSON','change .in_cart input.js_quantity':'_onChangeQuantity','change .js_raw_price':'_computePriceTotal'}),init:function(parent,params){var self=this;var options=_.extend({size:'large',buttons:[{text:params.okButtonText,click:this._onConfirmButtonClick,classes:'btn-primary'},{text:params.cancelButtonText,click:this._onCancelButtonClick}],technical:!params.isWebsite,},params||{});this._super(parent,options);this.context=params.context;this.rootProduct=params.rootProduct;this.container=parent;this.pricelistId=params.pricelistId;this.previousModalHeight=params.previousModalHeight;this.dialogClass='oe_advanced_configurator_modal';this._productImageField='image_128';this._opened.then(function(){if(self.previousModalHeight){self.$el.closest('.modal-content').css('min-height',self.previousModalHeight+'px');}});},willStart:function(){var self=this;var uri=this._getUri("/sale_product_configurator/show_advanced_configurator");var getModalContent=ajax.jsonRpc(uri,'call',{product_id:self.rootProduct.product_id,variant_values:self.rootProduct.variant_values,pricelist_id:self.pricelistId||false,add_qty:self.rootProduct.quantity,kwargs:{context:_.extend({'quantity':self.rootProduct.quantity},this.context),}}).then(function(modalContent){if(modalContent){var $modalContent=$(modalContent);$modalContent=self._postProcessContent($modalContent);self.$content=$modalContent;}else{self.trigger('options_empty');self.preventOpening=true;}});var parentInit=self._super.apply(self,arguments);return Promise.all([getModalContent,parentInit]);},open:function(options){$('.tooltip').remove();var self=this;this.appendTo($('<div/>')).then(function(){if(!self.preventOpening){self.$modal.find(".modal-body").replaceWith(self.$el);self.$modal.attr('open',true);self.$modal.removeAttr("aria-hidden");self.$modal.modal().appendTo(self.container);self.$modal.focus();self._openedResolver();OwlDialog.display(self);}});if(options&&options.shouldFocusButtons){self._onFocusControlButton();}
return self;},start:function(){var def=this._super.apply(this,arguments);var self=this;this.$el.find('input[name="add_qty"]').val(this.rootProduct.quantity);var $products=this.$el.find('tr.js_product');_.each($products,function(el){var $el=$(el);var uniqueId=self._getUniqueId(el);var productId=parseInt($el.find('input.product_id').val(),10);if(productId===self.rootProduct.product_id){self.rootProduct.unique_id=uniqueId;}else{el.dataset.parentUniqueId=self.rootProduct.unique_id;}});return def.then(function(){self._opened.then(function(){self.triggerVariantChange(self.$el);});});},getAndCreateSelectedProducts:async function(){var self=this;const products=[];let productCustomVariantValues;let noVariantAttributeValues;for(const product of self.$modal.find('.js_product.in_cart')){var $item=$(product);var quantity=parseInt($item.find('input[name="add_qty"]').val(),10);var parentUniqueId=product.dataset.parentUniqueId;var uniqueId=product.dataset.uniqueId;productCustomVariantValues=self.getCustomVariantValues($item);noVariantAttributeValues=self.getNoVariantAttributeValues($item);const productID=await self.selectOrCreateProduct($item,parseInt($item.find('input.product_id').val(),10),parseInt($item.find('input.product_template_id').val(),10),true);products.push({'product_id':productID,'product_template_id':parseInt($item.find('input.product_template_id').val(),10),'quantity':quantity,'parent_unique_id':parentUniqueId,'unique_id':uniqueId,'product_custom_attribute_values':productCustomVariantValues,'no_variant_attribute_values':noVariantAttributeValues});}
return products;},_postProcessContent:function($modalContent){var productId=this.rootProduct.product_id;$modalContent.find('img:first').attr("src","/web/image/product.product/"+productId+"/image_128");if(this.rootProduct&&(this.rootProduct.product_custom_attribute_values||this.rootProduct.no_variant_attribute_values)){var $productDescription=$modalContent.find('.main_product').find('td.td-product_name div.text-muted.small > div:first');var $updatedDescription=$('<div/>');$updatedDescription.append($('<p>',{text:$productDescription.text()}));$.each(this.rootProduct.product_custom_attribute_values,function(){if(this.custom_value){const $customInput=$modalContent.find(".main_product [data-is_custom='True']").closest(`[data-value_id='${this.custom_product_template_attribute_value_id}']`);$customInput.attr('previous_custom_value',this.custom_value);VariantMixin.handleCustomValues($customInput);}});$.each(this.rootProduct.no_variant_attribute_values,function(){if(this.is_custom!=='True'){$updatedDescription.append($('<div>',{text:this.attribute_name+': '+this.attribute_value_name}));}});$productDescription.replaceWith($updatedDescription);}
return $modalContent;},_onConfirmButtonClick:function(){this.trigger('confirm');this.close();},_onCancelButtonClick:function(){this.trigger('back');this.close();},_onAddOrRemoveOption:function(ev){ev.preventDefault();var self=this;var $target=$(ev.currentTarget);var $modal=$target.parents('.oe_advanced_configurator_modal');var $parent=$target.parents('.js_product:first');$parent.find("a.js_add, span.js_remove").toggleClass('d-none');$parent.find(".js_remove");var productTemplateId=$parent.find(".product_template_id").val();if($target.hasClass('js_add')){self._onAddOption($modal,$parent,productTemplateId);}else{self._onRemoveOption($modal,$parent);}
self._computePriceTotal();},_onAddOption:function($modal,$parent,productTemplateId){var self=this;var $selectOptionsText=$modal.find('.o_select_options');var parentUniqueId=$parent[0].dataset.parentUniqueId;var $optionParent=$modal.find('tr.js_product[data-unique-id="'+parentUniqueId+'"]');$parent.find('.td-product_name').removeAttr("colspan");$parent.find('.td-qty').removeClass('d-none');var productCustomVariantValues=self.getCustomVariantValues($parent);var noVariantAttributeValues=self.getNoVariantAttributeValues($parent);if(productCustomVariantValues||noVariantAttributeValues){var $productDescription=$parent.find('td.td-product_name div.float-left');var $customAttributeValuesDescription=$('<div>',{class:'custom_attribute_values_description text-muted small'});if(productCustomVariantValues.length!==0||noVariantAttributeValues.length!==0){$customAttributeValuesDescription.append($('<br/>'));}
$.each(productCustomVariantValues,function(){$customAttributeValuesDescription.append($('<div>',{text:this.attribute_value_name+': '+this.custom_value}));});$.each(noVariantAttributeValues,function(){if(this.is_custom!=='True'){$customAttributeValuesDescription.append($('<div>',{text:this.attribute_name+': '+this.attribute_value_name}));}});$productDescription.append($customAttributeValuesDescription);}
var $tmpOptionParent=$optionParent;while($tmpOptionParent.length){$optionParent=$tmpOptionParent;$tmpOptionParent=$modal.find('tr.js_product.in_cart[data-parent-unique-id="'+$optionParent[0].dataset.uniqueId+'"]').last();}
$optionParent.after($parent);$parent.addClass('in_cart');this.selectOrCreateProduct($parent,$parent.find('.product_id').val(),productTemplateId,true).then(function(productId){$parent.find('.product_id').val(productId);ajax.jsonRpc(self._getUri("/sale_product_configurator/optional_product_items"),'call',{'product_id':productId,'pricelist_id':self.pricelistId||false,}).then(function(addedItem){var $addedItem=$(addedItem);$modal.find('tr:last').after($addedItem);self.$el.find('input[name="add_qty"]').trigger('change');self.triggerVariantChange($addedItem);var parentUniqueId=$parent[0].dataset.uniqueId;var parentQty=$parent.find('input[name="add_qty"]').val();$addedItem.filter('.js_product').each(function(){var $el=$(this);var uniqueId=self._getUniqueId(this);this.dataset.uniqueId=uniqueId;this.dataset.parentUniqueId=parentUniqueId;$el.find('input[name="add_qty"]').val(parentQty);});if($selectOptionsText.nextAll('.js_product').length===0){$selectOptionsText.hide();}});});},_onRemoveOption:function($modal,$parent){var uniqueId=$parent[0].dataset.parentUniqueId;var qty=$modal.find('tr.js_product.in_cart[data-unique-id="'+uniqueId+'"]').find('input[name="add_qty"]').val();$parent.removeClass('in_cart');$parent.find('.td-product_name').attr("colspan",2);$parent.find('.td-qty').addClass('d-none');$parent.find('input[name="add_qty"]').val(qty);$parent.find('.custom_attribute_values_description').remove();$modal.find('.o_select_options').show();var productUniqueId=$parent[0].dataset.uniqueId;this._removeOptionOption($modal,productUniqueId);$modal.find('tr:last').after($parent);},_removeOptionOption:function($modal,optionUniqueId){var self=this;$modal.find('tr.js_product[data-parent-unique-id="'+optionUniqueId+'"]').each(function(){var uniqueId=this.dataset.uniqueId;$(this).remove();self._removeOptionOption($modal,uniqueId);});},_onChangeCombination:function(ev,$parent,combination){$parent.find('.td-product_name .product-name').first().text(combination.display_name);VariantMixin._onChangeCombination.apply(this,arguments);this._computePriceTotal();},_onChangeQuantity:function(ev){var $product=$(ev.target.closest('tr.js_product'));var qty=parseFloat($(ev.currentTarget).val());var uniqueId=$product[0].dataset.uniqueId;this.$el.find('tr.js_product:not(.in_cart)[data-parent-unique-id="'+uniqueId+'"] input[name="add_qty"]').each(function(){$(this).val(qty);});if(this._triggerPriceUpdateOnChangeQuantity()){this.onChangeAddQuantity(ev);}
if($product.hasClass('main_product')){this.rootProduct.quantity=qty;}
this.trigger('update_quantity',this.rootProduct.quantity);this._computePriceTotal();},_computePriceTotal:function(){if(this.$modal.find('.js_price_total').length){var price=0;this.$modal.find('.js_product.in_cart').each(function(){var quantity=parseInt($(this).find('input[name="add_qty"]').first().val(),10);price+=parseFloat($(this).find('.js_raw_price').html())*quantity;});this.$modal.find('.js_price_total .oe_currency_value').text(this._priceToStr(parseFloat(price)));}},_triggerPriceUpdateOnChangeQuantity:function(){return true;},_getUniqueId:function(el){if(!el.dataset.uniqueId){el.dataset.uniqueId=parseInt(_.uniqueId(),10);}
return el.dataset.uniqueId;},});return OptionalProductsModal;});;

/* /website_sale_product_configurator/static/src/js/product_configurator_modal.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale_product_configurator.OptionalProductsModal',function(require){"use strict";var OptionalProductsModal=require('sale_product_configurator.OptionalProductsModal');OptionalProductsModal.include({init:function(parent,params){this._super.apply(this,arguments);this.isWebsite=params.isWebsite;this.dialogClass='oe_advanced_configurator_modal'+(params.isWebsite?' oe_website_sale':'');},_triggerPriceUpdateOnChangeQuantity:function(){return!this.isWebsite;}});});;

/* /website_sale/static/src/js/website_sale.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.cart',function(require){'use strict';var publicWidget=require('web.public.widget');var core=require('web.core');var _t=core._t;var timeout;publicWidget.registry.websiteSaleCartLink=publicWidget.Widget.extend({selector:'#top_menu a[href$="/shop/cart"]',events:{'mouseenter':'_onMouseEnter','mouseleave':'_onMouseLeave','click':'_onClick',},init:function(){this._super.apply(this,arguments);this._popoverRPC=null;},start:function(){this.$el.popover({trigger:'manual',animation:true,html:true,title:function(){return _t("My Cart");},container:'body',placement:'auto',template:'<div class="popover mycart-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'});return this._super.apply(this,arguments);},_onMouseEnter:function(ev){var self=this;clearTimeout(timeout);$(this.selector).not(ev.currentTarget).popover('hide');timeout=setTimeout(function(){if(!self.$el.is(':hover')||$('.mycart-popover:visible').length){return;}
self._popoverRPC=$.get("/shop/cart",{type:'popover',}).then(function(data){self.$el.data("bs.popover").config.content=data;self.$el.popover("show");$('.popover').on('mouseleave',function(){self.$el.trigger('mouseleave');});});},300);},_onMouseLeave:function(ev){var self=this;setTimeout(function(){if($('.popover:hover').length){return;}
if(!self.$el.is(':hover')){self.$el.popover('hide');}},1000);},_onClick:function(ev){clearTimeout(timeout);if(this._popoverRPC&&this._popoverRPC.state()==='pending'){ev.preventDefault();var href=ev.currentTarget.href;this._popoverRPC.then(function(){window.location.href=href;});}},});});odoo.define('website_sale.website_sale_category',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.websiteSaleCategory=publicWidget.Widget.extend({selector:'#o_shop_collapse_category',events:{'click .fa-chevron-right':'_onOpenClick','click .fa-chevron-down':'_onCloseClick',},_onOpenClick:function(ev){var $fa=$(ev.currentTarget);$fa.parent().siblings().find('.fa-chevron-down:first').click();$fa.parents('li').find('ul:first').show('normal');$fa.toggleClass('fa-chevron-down fa-chevron-right');},_onCloseClick:function(ev){var $fa=$(ev.currentTarget);$fa.parent().find('ul:first').hide('normal');$fa.toggleClass('fa-chevron-down fa-chevron-right');},});});odoo.define('website_sale.website_sale',function(require){'use strict';var core=require('web.core');var config=require('web.config');var publicWidget=require('web.public.widget');var VariantMixin=require('website_sale.VariantMixin');var wSaleUtils=require('website_sale.utils');const cartHandlerMixin=wSaleUtils.cartHandlerMixin;require("web.zoomodoo");const{extraMenuUpdateCallbacks}=require('website.content.menu');const dom=require('web.dom');publicWidget.registry.WebsiteSale=publicWidget.Widget.extend(VariantMixin,cartHandlerMixin,{selector:'.oe_website_sale',events:_.extend({},VariantMixin.events||{},{'change form .js_product:first input[name="add_qty"]':'_onChangeAddQuantity','mouseup .js_publish':'_onMouseupPublish','touchend .js_publish':'_onMouseupPublish','change .oe_cart input.js_quantity[data-product-id]':'_onChangeCartQuantity','click .oe_cart a.js_add_suggested_products':'_onClickSuggestedProduct','click a.js_add_cart_json':'_onClickAddCartJSON','click .a-submit':'_onClickSubmit','change form.js_attributes input, form.js_attributes select':'_onChangeAttribute','mouseup form.js_add_cart_json label':'_onMouseupAddCartLabel','touchend form.js_add_cart_json label':'_onMouseupAddCartLabel','click .show_coupon':'_onClickShowCoupon','submit .o_wsale_products_searchbar_form':'_onSubmitSaleSearch','change select[name="country_id"]':'_onChangeCountry','change #shipping_use_same':'_onChangeShippingUseSame','click .toggle_summary':'_onToggleSummary','click #add_to_cart, .o_we_buy_now, #products_grid .o_wsale_product_btn .a-submit':'async _onClickAdd','click input.js_product_change':'onChangeVariant','change .js_main_product [data-attribute_exclusions]':'onChangeVariant','change oe_advanced_configurator_modal [data-attribute_exclusions]':'onChangeVariant','click .o_product_page_reviews_link':'_onClickReviewsLink',}),init:function(){this._super.apply(this,arguments);this._changeCartQuantity=_.debounce(this._changeCartQuantity.bind(this),500);this._changeCountry=_.debounce(this._changeCountry.bind(this),500);this.isWebsite=true;delete this.events['change .main_product:not(.in_cart) input.js_quantity'];delete this.events['change [data-attribute_exclusions]'];},start(){const def=this._super(...arguments);this._applyHashFromSearch();_.each(this.$('div.js_product'),function(product){$('input.js_product_change',product).first().trigger('change');});this.triggerVariantChange(this.$el);this.$('select[name="country_id"]').change();core.bus.on('resize',this,function(){if(config.device.size_class===config.device.SIZES.XL){$('.toggle_summary_div').addClass('d-none d-xl-block');}});this._startZoom();window.addEventListener('hashchange',()=>{this._applyHash();this.triggerVariantChange(this.$el);});this.getRedirectOption();return def;},getSelectedVariantValues:function($container){var combination=$container.find('input.js_product_change:checked').data('combination');if(combination){return combination;}
return VariantMixin.getSelectedVariantValues.apply(this,arguments);},_applyHash:function(){var hash=window.location.hash.substring(1);if(hash){var params=$.deparam(hash);if(params['attr']){var attributeIds=params['attr'].split(',');var $inputs=this.$('input.js_variant_change, select.js_variant_change option');_.each(attributeIds,function(id){var $toSelect=$inputs.filter('[data-value_id="'+id+'"]');if($toSelect.is('input[type="radio"]')){$toSelect.prop('checked',true);}else if($toSelect.is('option')){$toSelect.prop('selected',true);}});this._changeAttribute(['.css_attribute_color','.o_variant_pills']);}}},_setUrlHash:function($parent){var $attributes=$parent.find('input.js_variant_change:checked, select.js_variant_change option:selected');var attributeIds=_.map($attributes,function(elem){return $(elem).data('value_id');});history.replaceState(undefined,undefined,'#attr='+attributeIds.join(','));},_changeAttribute:function(valueSelectors){_.each(valueSelectors,function(selector){$(selector).removeClass("active").filter(':has(input:checked)').addClass("active");});},_changeCartQuantity:function($input,value,$dom_optional,line_id,productIDs){_.each($dom_optional,function(elem){$(elem).find('.js_quantity').text(value);productIDs.push($(elem).find('span[data-product-id]').data('product-id'));});$input.data('update_change',true);this._rpc({route:"/shop/cart/update_json",params:{line_id:line_id,product_id:parseInt($input.data('product-id'),10),set_qty:value},}).then(function(data){$input.data('update_change',false);var check_value=parseInt($input.val()||0,10);if(isNaN(check_value)){check_value=1;}
if(value!==check_value){$input.trigger('change');return;}
if(!data.cart_quantity){return window.location='/shop/cart';}
wSaleUtils.updateCartNavBar(data);$input.val(data.quantity);$('.js_quantity[data-line-id='+line_id+']').val(data.quantity).text(data.quantity);if(data.warning){var cart_alert=$('.oe_cart').parent().find('#data_warning');if(cart_alert.length===0){$('.oe_cart').prepend('<div class="alert alert-danger alert-dismissable" role="alert" id="data_warning">'+'<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button> '+data.warning+'</div>');}
else{cart_alert.html('<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button> '+data.warning);}
$input.val(data.quantity);}});},_changeCountry:function(){if(!$("#country_id").val()){return;}
this._rpc({route:"/shop/country_infos/"+$("#country_id").val(),params:{mode:$("#country_id").attr('mode'),},}).then(function(data){$("input[name='phone']").attr('placeholder',data.phone_code!==0?'+'+data.phone_code:'');var selectStates=$("select[name='state_id']");if(selectStates.data('init')===0||selectStates.find('option').length===1){if(data.states.length||data.state_required){selectStates.html('');_.each(data.states,function(x){var opt=$('<option>').text(x[1]).attr('value',x[0]).attr('data-code',x[2]);selectStates.append(opt);});selectStates.parent('div').show();}else{selectStates.val('').parent('div').hide();}
selectStates.data('init',0);}else{selectStates.data('init',0);}
if(data.fields){if($.inArray('zip',data.fields)>$.inArray('city',data.fields)){$(".div_zip").before($(".div_city"));}else{$(".div_zip").after($(".div_city"));}
var all_fields=["street","zip","city","country_name"];_.each(all_fields,function(field){$(".checkout_autoformat .div_"+field.split('_')[0]).toggle($.inArray(field,data.fields)>=0);});}
if($("label[for='zip']").length){$("label[for='zip']").toggleClass('label-optional',!data.zip_required);$("label[for='zip']").get(0).toggleAttribute('required',!!data.zip_required);}
if($("label[for='zip']").length){$("label[for='state_id']").toggleClass('label-optional',!data.state_required);$("label[for='state_id']").get(0).toggleAttribute('required',!!data.state_required);}});},_getProductId:function($parent){if($parent.find('input.js_product_change').length!==0){return parseInt($parent.find('input.js_product_change:checked').val());}
else{return VariantMixin._getProductId.apply(this,arguments);}},_startZoom:function(){if(!config.device.isMobile){var autoZoom=$('.ecom-zoomable').data('ecom-zoom-auto')||false,attach='#o-carousel-product';_.each($('.ecom-zoomable img[data-zoom]'),function(el){onImageLoaded(el,function(){var $img=$(el);$img.zoomOdoo({event:autoZoom?'mouseenter':'click',attach:attach});$img.attr('data-zoom',1);});});}
function onImageLoaded(img,callback){$(img).on('load',function(){callback();});if(img.complete){callback();}}},_updateProductImage:function($productContainer,displayImage,productId,productTemplateId,newCarousel,isCombinationPossible){var $carousel=$productContainer.find('#o-carousel-product');if(window.location.search.indexOf('enable_editor')===-1){var $newCarousel=$(newCarousel);$carousel.after($newCarousel);$carousel.remove();$carousel=$newCarousel;$carousel.carousel(0);this._startZoom();this.trigger_up('widgets_start_request',{$target:$carousel});}
$carousel.toggleClass('css_not_available',!isCombinationPossible);},_onClickAdd:function(ev){ev.preventDefault();var def=()=>{this.getCartHandlerOptions(ev);return this._handleAdd($(ev.currentTarget).closest('form'));};if($('.js_add_cart_variants').children().length){return this._getCombinationInfo(ev).then(()=>{return!$(ev.target).closest('.js_product').hasClass("css_not_available")?def():Promise.resolve();});}
return def();},_handleAdd:function($form){var self=this;this.$form=$form;var productSelector=['input[type="hidden"][name="product_id"]','input[type="radio"][name="product_id"]:checked'];var productReady=this.selectOrCreateProduct($form,parseInt($form.find(productSelector.join(', ')).first().val(),10),$form.find('.product_template_id').val(),false);return productReady.then(function(productId){$form.find(productSelector.join(', ')).val(productId);self.rootProduct={product_id:productId,quantity:parseFloat($form.find('input[name="add_qty"]').val()||1),product_custom_attribute_values:self.getCustomVariantValues($form.find('.js_product')),variant_values:self.getSelectedVariantValues($form.find('.js_product')),no_variant_attribute_values:self.getNoVariantAttributeValues($form.find('.js_product'))};return self._onProductReady();});},_onProductReady:function(){return this._submitForm();},_submitForm:function(){const params=this.rootProduct;const $product=$('#product_detail');const productTrackingInfo=$product.data('product-tracking-info');if(productTrackingInfo){productTrackingInfo.quantity=params.quantity;$product.trigger('add_to_cart_event',[productTrackingInfo]);}
params.add_qty=params.quantity;params.product_custom_attribute_values=JSON.stringify(params.product_custom_attribute_values);params.no_variant_attribute_values=JSON.stringify(params.no_variant_attribute_values);return this.addToCart(params);},_onClickAddCartJSON:function(ev){this.onClickAddCartJSON(ev);},_onChangeAddQuantity:function(ev){this.onChangeAddQuantity(ev);},_onMouseupPublish:function(ev){$(ev.currentTarget).parents('.thumbnail').toggleClass('disabled');},_onChangeCartQuantity:function(ev){var $input=$(ev.currentTarget);if($input.data('update_change')){return;}
var value=parseInt($input.val()||0,10);if(isNaN(value)){value=1;}
var $dom=$input.closest('tr');var $dom_optional=$dom.nextUntil(':not(.optional_product.info)');var line_id=parseInt($input.data('line-id'),10);var productIDs=[parseInt($input.data('product-id'),10)];this._changeCartQuantity($input,value,$dom_optional,line_id,productIDs);},_onClickSuggestedProduct:function(ev){$(ev.currentTarget).prev('input').val(1).trigger('change');},_onClickSubmit:function(ev,forceSubmit){if($(ev.currentTarget).is('#add_to_cart, #products_grid .a-submit')&&!forceSubmit){return;}
var $aSubmit=$(ev.currentTarget);if(!ev.isDefaultPrevented()&&!$aSubmit.is(".disabled")){ev.preventDefault();$aSubmit.closest('form').submit();}
if($aSubmit.hasClass('a-submit-disable')){$aSubmit.addClass("disabled");}
if($aSubmit.hasClass('a-submit-loading')){var loading='<span class="fa fa-cog fa-spin"/>';var fa_span=$aSubmit.find('span[class*="fa"]');if(fa_span.length){fa_span.replaceWith(loading);}else{$aSubmit.append(loading);}}},_onChangeAttribute:function(ev){if(!ev.isDefaultPrevented()){ev.preventDefault();$(ev.currentTarget).closest("form").submit();}},_onMouseupAddCartLabel:function(ev){var $label=$(ev.currentTarget);var $price=$label.parents("form:first").find(".oe_price .oe_currency_value");if(!$price.data("price")){$price.data("price",parseFloat($price.text()));}
var value=$price.data("price")+parseFloat($label.find(".badge span").text()||0);var dec=value%1;$price.html(value+(dec<0.01?".00":(dec<1?"0":"")));},_onClickShowCoupon:function(ev){$(ev.currentTarget).hide();$('.coupon_form').removeClass('d-none');},_onSubmitSaleSearch:function(ev){if(!this.$('.dropdown_sorty_by').length){return;}
var $this=$(ev.currentTarget);if(!ev.isDefaultPrevented()&&!$this.is(".disabled")){ev.preventDefault();var oldurl=$this.attr('action');oldurl+=(oldurl.indexOf("?")===-1)?"?":"";var search=$this.find('input.search-query');window.location=oldurl+'&'+search.attr('name')+'='+encodeURIComponent(search.val());}},_onChangeCountry:function(ev){if(!this.$('.checkout_autoformat').length){return;}
this._changeCountry();},_onChangeShippingUseSame:function(ev){$('.ship_to_other').toggle(!$(ev.currentTarget).prop('checked'));},_toggleDisable:function($parent,isCombinationPossible){VariantMixin._toggleDisable.apply(this,arguments);$parent.find("#add_to_cart").toggleClass('disabled',!isCombinationPossible);$parent.find(".o_we_buy_now").toggleClass('disabled',!isCombinationPossible);},onChangeVariant:function(ev){var $component=$(ev.currentTarget).closest('.js_product');$component.find('input').each(function(){var $el=$(this);$el.attr('checked',$el.is(':checked'));});$component.find('select option').each(function(){var $el=$(this);$el.attr('selected',$el.is(':selected'));});this._setUrlHash($component);return VariantMixin.onChangeVariant.apply(this,arguments);},_onToggleSummary:function(){$('.toggle_summary_div').toggleClass('d-none');$('.toggle_summary_div').removeClass('d-xl-block');},_applyHashFromSearch(){const params=$.deparam(window.location.search.slice(1));if(params.attrib){const dataValueIds=[];for(const attrib of[].concat(params.attrib)){const attribSplit=attrib.split('-');const attribValueSelector=`.js_variant_change[name="ptal-${attribSplit[0]}"][value="${attribSplit[1]}"]`;const attribValue=this.el.querySelector(attribValueSelector);if(attribValue!==null){dataValueIds.push(attribValue.dataset.value_id);}}
if(dataValueIds.length){history.replaceState(undefined,undefined,`#attr=${dataValueIds.join(',')}`);}}
this._applyHash();},_onClickReviewsLink:function(){$('#o_product_page_reviews_content').collapse('show');},});publicWidget.registry.WebsiteSaleLayout=publicWidget.Widget.extend({selector:'.oe_website_sale',disabledInEditableMode:false,events:{'change .o_wsale_apply_layout':'_onApplyShopLayoutChange',},_onApplyShopLayoutChange:function(ev){var switchToList=$(ev.currentTarget).find('.o_wsale_apply_list input').is(':checked');if(!this.editableMode){this._rpc({route:'/shop/save_shop_layout_mode',params:{'layout_mode':switchToList?'list':'grid',},});}
var $grid=this.$('#products_grid');$grid.find('*').css('transition','none');$grid.toggleClass('o_wsale_layout_list',switchToList);void $grid[0].offsetWidth;$grid.find('*').css('transition','');},});publicWidget.registry.websiteSaleCart=publicWidget.Widget.extend({selector:'.oe_website_sale .oe_cart',events:{'click .js_change_shipping':'_onClickChangeShipping','click .js_edit_address':'_onClickEditAddress','click .js_delete_product':'_onClickDeleteProduct',},_onClickChangeShipping:function(ev){var $old=$('.all_shipping').find('.card.border.border-primary');$old.find('.btn-ship').toggle();$old.addClass('js_change_shipping');$old.removeClass('border border-primary');var $new=$(ev.currentTarget).parent('div.one_kanban').find('.card');$new.find('.btn-ship').toggle();$new.removeClass('js_change_shipping');$new.addClass('border border-primary');var $form=$(ev.currentTarget).parent('div.one_kanban').find('form.d-none');$.post($form.attr('action'),$form.serialize()+'&xhr=1');},_onClickEditAddress:function(ev){ev.preventDefault();$(ev.currentTarget).closest('div.one_kanban').find('form.d-none').attr('action','/shop/address').submit();},_onClickDeleteProduct:function(ev){ev.preventDefault();$(ev.currentTarget).closest('tr').find('.js_quantity').val(0).trigger('change');},});publicWidget.registry.websiteSaleCarouselProduct=publicWidget.Widget.extend({selector:'#o-carousel-product',disabledInEditableMode:false,events:{'wheel .o_carousel_product_indicators':'_onMouseWheel',},async start(){await this._super(...arguments);this._updateCarouselPosition();extraMenuUpdateCallbacks.push(this._updateCarouselPosition.bind(this));if(this.$target.find('.carousel-indicators').length>0){this.$target.on('slide.bs.carousel.carousel_product_slider',this._onSlideCarouselProduct.bind(this));$(window).on('resize.carousel_product_slider',_.throttle(this._onSlideCarouselProduct.bind(this),150));this._updateJustifyContent();}},destroy(){this.$target.css('top','');this.$target.off('.carousel_product_slider');this._super(...arguments);},_updateCarouselPosition(){this.$target.css('top',dom.scrollFixedOffset()+5);},_onSlideCarouselProduct:function(ev){const isReversed=this.$target.css('flex-direction')==="column-reverse";const isLeftIndicators=this.$target.hasClass('o_carousel_product_left_indicators');const $indicatorsDiv=isLeftIndicators?this.$target.find('.o_carousel_product_indicators'):this.$target.find('.carousel-indicators');let indicatorIndex=$(ev.relatedTarget).index();indicatorIndex=indicatorIndex>-1?indicatorIndex:this.$target.find('li.active').index();const $indicator=$indicatorsDiv.find('[data-slide-to='+indicatorIndex+']');const indicatorsDivSize=isLeftIndicators&&!isReversed?$indicatorsDiv.outerHeight():$indicatorsDiv.outerWidth();const indicatorSize=isLeftIndicators&&!isReversed?$indicator.outerHeight():$indicator.outerWidth();const indicatorPosition=isLeftIndicators&&!isReversed?$indicator.position().top:$indicator.position().left;const scrollSize=isLeftIndicators&&!isReversed?$indicatorsDiv[0].scrollHeight:$indicatorsDiv[0].scrollWidth;let indicatorsPositionDiff=(indicatorPosition+(indicatorSize/2))-(indicatorsDivSize/2);indicatorsPositionDiff=Math.min(indicatorsPositionDiff,scrollSize-indicatorsDivSize);this._updateJustifyContent();const indicatorsPositionX=isLeftIndicators&&!isReversed?'0':'-'+indicatorsPositionDiff;const indicatorsPositionY=isLeftIndicators&&!isReversed?'-'+indicatorsPositionDiff:'0';const translate3D=indicatorsPositionDiff>0?"translate3d("+indicatorsPositionX+"px,"+indicatorsPositionY+"px,0)":'';$indicatorsDiv.css("transform",translate3D);},_updateJustifyContent:function(){const $indicatorsDiv=this.$target.find('.carousel-indicators');$indicatorsDiv.css('justify-content','start');if(config.device.size_class<=config.device.SIZES.MD){if(($indicatorsDiv.children().last().position().left+this.$target.find('li').outerWidth())<$indicatorsDiv.outerWidth()){$indicatorsDiv.css('justify-content','center');}}},_onMouseWheel:function(ev){ev.preventDefault();if(ev.originalEvent.deltaY>0){this.$target.carousel('next');}else{this.$target.carousel('prev');}},});publicWidget.registry.websiteSaleProductPageReviews=publicWidget.Widget.extend({selector:'#o_product_page_reviews',disabledInEditableMode:false,async start(){await this._super(...arguments);this._updateChatterComposerPosition();extraMenuUpdateCallbacks.push(this._updateChatterComposerPosition.bind(this));},destroy(){this.$target.find('.o_portal_chatter_composer').css('top','');this._super(...arguments);},_updateChatterComposerPosition(){this.$target.find('.o_portal_chatter_composer').css('top',dom.scrollFixedOffset()+20);},});return{WebsiteSale:publicWidget.registry.WebsiteSale,WebsiteSaleLayout:publicWidget.registry.WebsiteSaleLayout,websiteSaleCart:publicWidget.registry.websiteSaleCart,WebsiteSaleCarouselProduct:publicWidget.registry.websiteSaleCarouselProduct,WebsiteSaleProductPageReviews:publicWidget.registry.websiteSaleProductPageReviews,};});odoo.define('website_sale.price_range_option',function(require){'use strict';const publicWidget=require('web.public.widget');publicWidget.registry.multirangePriceSelector=publicWidget.Widget.extend({selector:'#o_wsale_price_range_option',events:{'newRangeValue input[type="range"]':'_onPriceRangeSelected',},_onPriceRangeSelected(ev){const range=ev.currentTarget;const search=$.deparam(window.location.search.substring(1));delete search.min_price;delete search.max_price;if(parseFloat(range.min)!==range.valueLow){search['min_price']=range.valueLow;}
if(parseFloat(range.max)!==range.valueHigh){search['max_price']=range.valueHigh;}
window.location.search=$.param(search);},});});;

/* /website_sale/static/src/js/website_sale_utils.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.utils',function(require){'use strict';const wUtils=require('website.utils');const cartHandlerMixin={getRedirectOption(){const html=document.documentElement;this.stayOnPageOption=html.dataset.add2cartRedirect!=='0';},getCartHandlerOptions(ev){this.isBuyNow=ev.currentTarget.classList.contains('o_we_buy_now');const targetSelector=ev.currentTarget.dataset.animationSelector||'img';this.$itemImgContainer=this.$(ev.currentTarget).closest(`:has(${targetSelector})`);},addToCart(params){if(this.isBuyNow){params.express=true;}else if(this.stayOnPageOption){return this._addToCartInPage(params);}
return wUtils.sendRequest('/shop/cart/update',params);},_addToCartInPage(params){params.force_create=true;return this._rpc({route:"/shop/cart/update_json",params:params,}).then(async data=>{await animateClone($('header .o_wsale_my_cart').first(),this.$itemImgContainer,25,40);updateCartNavBar(data);});},};function animateClone($cart,$elem,offsetTop,offsetLeft){if(!$cart.length){return Promise.resolve();}
$cart.find('.o_animate_blink').addClass('o_red_highlight o_shadow_animation').delay(500).queue(function(){$(this).removeClass("o_shadow_animation").dequeue();}).delay(2000).queue(function(){$(this).removeClass("o_red_highlight").dequeue();});return new Promise(function(resolve,reject){var $imgtodrag=$elem.find('img').eq(0);if($imgtodrag.length){var $imgclone=$imgtodrag.clone().offset({top:$imgtodrag.offset().top,left:$imgtodrag.offset().left}).addClass('o_website_sale_animate').appendTo(document.body).css({width:$imgtodrag.width(),height:$imgtodrag.height(),}).animate({top:$cart.offset().top+offsetTop,left:$cart.offset().left+offsetLeft,width:75,height:75,},1000,'easeInOutExpo');$imgclone.animate({width:0,height:0,},function(){resolve();$(this).detach();});}else{resolve();}});}
function updateCartNavBar(data){var $qtyNavBar=$(".my_cart_quantity");_.each($qtyNavBar,function(qty){var $qty=$(qty);$qty.parents('li:first').removeClass('d-none');$qty.addClass('o_mycart_zoom_animation').delay(300).queue(function(){$(this).text(data.cart_quantity);$(this).removeClass("o_mycart_zoom_animation").dequeue();});});$(".js_cart_lines").first().before(data['website_sale.cart_lines']).end().remove();$(".js_cart_summary").first().before(data['website_sale.short_cart_summary']).end().remove();}
return{animateClone:animateClone,updateCartNavBar:updateCartNavBar,cartHandlerMixin:cartHandlerMixin,};});;

/* /website_sale/static/src/js/website_sale_payment.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.payment',require=>{'use strict';const checkoutForm=require('payment.checkout_form');const publicWidget=require('web.public.widget');const websiteSalePaymentMixin={init:function(){this._onClickTCCheckbox=_.debounce(this._onClickTCCheckbox,100,true);this._super(...arguments);},start:function(){this.$checkbox=this.$('#checkbox_tc');this.$submitButton=this.$('button[name="o_payment_submit_button"]');this._adaptConfirmButton();return this._super(...arguments);},_adaptConfirmButton:function(){if(this.$checkbox.length>0){const disabledReasons=this.$submitButton.data('disabled_reasons')||{};disabledReasons.tc=!this.$checkbox.prop('checked');this.$submitButton.data('disabled_reasons',disabledReasons);}},};checkoutForm.include(Object.assign({},websiteSalePaymentMixin,{events:Object.assign({},checkoutForm.prototype.events,{'change #checkbox_tc':'_onClickTCCheckbox',}),_disableButton(showLoadingAnimation=true){$("body").block({message:false,overlayCSS:{backgroundColor:"#000",opacity:0,zIndex:1050},});this._super(...arguments);},_enableButton(){const res=this._super(...arguments);if(res){$('body').unblock();}
return res;},_isButtonReady:function(){const disabledReasonFound=_.contains(this.$submitButton.data('disabled_reasons'),true);return!disabledReasonFound&&this._super();},_onClickTCCheckbox:function(){this._adaptConfirmButton();if(!this._enableButton()){this._disableButton(false);}},}));publicWidget.registry.WebsiteSalePayment=publicWidget.Widget.extend(Object.assign({},websiteSalePaymentMixin,{selector:'div[name="o_website_sale_free_cart"]',events:{'change #checkbox_tc':'_onClickTCCheckbox',},start:function(){this.$checkbox=this.$('#checkbox_tc');this.$submitButton=this.$('button[name="o_payment_submit_button"]');this._onClickTCCheckbox();return this._super(...arguments);},_onClickTCCheckbox:function(){this._adaptConfirmButton();const disabledReasonFound=_.contains(this.$submitButton.data('disabled_reasons'),true);this.$submitButton.prop('disabled',disabledReasonFound);},}));});;

/* /website_sale/static/src/js/website_sale_validate.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.validate',function(require){'use strict';var publicWidget=require('web.public.widget');var core=require('web.core');var _t=core._t;publicWidget.registry.websiteSaleValidate=publicWidget.Widget.extend({selector:'div.oe_website_sale_tx_status[data-order-id]',start:function(){var def=this._super.apply(this,arguments);this._poll_nbr=0;this._paymentTransationPollStatus();return def;},_paymentTransationPollStatus:function(){var self=this;this._rpc({route:'/shop/payment/get_status/'+parseInt(this.$el.data('order-id')),}).then(function(result){self._poll_nbr+=1;if(result.recall){if(self._poll_nbr<20){setTimeout(function(){self._paymentTransationPollStatus();},Math.ceil(self._poll_nbr/3)*1000);}else{var $message=$(result.message);var $warning=$("<i class='fa fa-warning' style='margin-right:10px;'>");$warning.attr("title",_t("We are waiting for confirmation from the bank or the payment provider"));$message.find('span:first').prepend($warning);result.message=$message.html();}}
self.$el.html(result.message);});},});});;

/* /website_sale/static/src/js/website_sale_recently_viewed.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.recently_viewed',function(require){var publicWidget=require('web.public.widget');var utils=require('web.utils');publicWidget.registry.productsRecentlyViewedUpdate=publicWidget.Widget.extend({selector:'#product_detail',events:{'change input.product_id[name="product_id"]':'_onProductChange',},debounceValue:8000,init:function(){this._super.apply(this,arguments);this._onProductChange=_.debounce(this._onProductChange,this.debounceValue);},_updateProductView:function($input){var productId=parseInt($input.val());var cookieName='seen_product_id_'+productId;if(!parseInt(this.el.dataset.viewTrack,10)){return;}
if(utils.get_cookie(cookieName)){return;}
if($(this.el).find('.js_product.css_not_available').length){return;}
this._rpc({route:'/shop/products/recently_viewed_update',params:{product_id:productId,}}).then(function(res){if(res&&res.visitor_uuid){utils.set_cookie('visitor_uuid',res.visitor_uuid);}
utils.set_cookie(cookieName,productId,30*60);});},_onProductChange:function(ev){this._updateProductView($(ev.currentTarget));},});});;

/* /website_sale/static/src/js/website_sale_tracking.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.tracking',function(require){var publicWidget=require('web.public.widget');publicWidget.registry.websiteSaleTracking=publicWidget.Widget.extend({selector:'.oe_website_sale',events:{'click form[action="/shop/cart/update"] a.a-submit':'_onAddProductIntoCart','click a[href="/shop/checkout"]':'_onCheckoutStart','click div.oe_cart a[href^="/web?redirect"][href$="/shop/checkout"]':'_onCustomerSignin','click form[action="/shop/confirm_order"] a.a-submit':'_onOrder','click form[target="_self"] button[type=submit]':'_onOrderPayment','view_item_event':'_onViewItem','add_to_cart_event':'_onAddToCart',},start:function(){var self=this;const $confirmation=this.$('div.oe_website_sale_tx_status');if($confirmation.length){const orderID=$confirmation.data('order-id');const json=$confirmation.data('order-tracking-info');this._vpv('/stats/ecom/order_confirmed/'+orderID);self._trackGA('event','purchase',json);}
return this._super.apply(this,arguments);},_trackGA:function(){const websiteGA=window.gtag||function(){};websiteGA.apply(this,arguments);},_vpv:function(page){this._trackGA('event','page_view',{'page_path':page,});},_onViewItem(event,productTrackingInfo){const trackingInfo={'currency':productTrackingInfo['currency'],'value':productTrackingInfo['price'],'items':[productTrackingInfo],};this._trackGA('event','view_item',trackingInfo);},_onAddToCart(event,...productsTrackingInfo){const trackingInfo={'currency':productsTrackingInfo[0]['currency'],'value':productsTrackingInfo.reduce((acc,val)=>acc+val['price']*val['quantity'],0),'items':productsTrackingInfo,};this._trackGA('event','add_to_cart',trackingInfo);},_onAddProductIntoCart:function(){var productID=this.$('input[name="product_id"]').attr('value');this._vpv('/stats/ecom/product_add_to_cart/'+productID);},_onCheckoutStart:function(){this._vpv('/stats/ecom/customer_checkout');},_onCustomerSignin:function(){this._vpv('/stats/ecom/customer_signin');},_onOrder:function(){if($('#top_menu [href="/web/login"]').length){this._vpv('/stats/ecom/customer_signup');}
this._vpv('/stats/ecom/order_checkout');},_onOrderPayment:function(){var method=$('#payment_method input[name=acquirer]:checked').nextAll('span:first').text();this._vpv('/stats/ecom/order_payment/'+method);},});return publicWidget.registry.websiteSaleTracking;});;

/* /website/static/lib/multirange/multirange_custom.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.multirange',function(){'use strict';const HTMLInputElement=window.HTMLInputElement;const descriptor=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");class Multirange{constructor(input,options={}){const self=this;this.input=input;this.rangeWithInput=options.rangeWithInput===true||this.input.classList.contains('range-with-input');const value=options.value||this.input.getAttribute("value");const values=value===null?[]:value.split(",");this.input.min=this.min=options.min||this.input.min||0;this.input.max=this.max=options.max||this.input.max||100;this.input.step=this.step=options.step||this.input.step||1;this.currency=options.currency||this.input.dataset.currency||'';this.currencyPosition=options.currencyPosition||this.input.dataset.currencyPosition||'after';this.rangeDiv=document.createElement("div");this.rangeDiv.classList.add("multirange-wrapper");this.input.parentNode.insertBefore(this.rangeDiv,this.input.nextSibling);this.rangeDiv.appendChild(this.input);this.ghost=this.input.cloneNode();this.rangeDiv.appendChild(this.ghost);this.input.classList.add("multirange","original");this.ghost.classList.add("multirange","ghost");this.input.value=values[0]||this.min;this.ghost.value=values[1]||this.max;this.inputTipLocator=document.createElement("div");this.inputTipLocator.classList.add("tip-locator");this.ghostTipLocator=document.createElement("div");this.ghostTipLocator.classList.add("tip-locator");this.rangeDiv.insertBefore(this.ghostTipLocator,this.input.nextSibling);this.rangeDiv.insertBefore(this.inputTipLocator,this.ghost.nextSibling);this.leftCounter=document.createElement("span");this.leftCounter.classList.add("multirange-min");this.rightCounter=document.createElement("span");this.rightCounter.classList.add("multirange-max");this.tipLocatorOptions={container:this.rangeDiv,html:true,};$(this.inputTipLocator).popover(Object.assign(this.tipLocatorOptions,{placement:'top',content:this.leftCounter}));$(this.ghostTipLocator).popover(Object.assign(this.tipLocatorOptions,{placement:'bottom',content:this.rightCounter}));$(this.inputTipLocator).add($(this.ghostTipLocator)).popover('show');if(this.rangeWithInput){this.leftInput=document.createElement("input");this.leftInput.type="number";this.leftInput.style.display="none";this.leftInput.min=this.min;this.leftInput.max=this.max;this.leftInput.step=this.step;this.rightInput=this.leftInput.cloneNode();this.leftInput.classList.add("multirange-min");this.rightInput.classList.add("multirange-max");this.leftCounter.parentNode.appendChild(this.leftInput);this.rightCounter.parentNode.appendChild(this.rightInput);}
Object.defineProperty(this.input,"originalValue",descriptor.get?descriptor:{get:function(){return this.value;},set:function(v){this.value=v;}});Object.defineProperties(this.input,{valueLow:{get:function(){return Math.min(this.originalValue,self.ghost.value);},set:function(v){this.originalValue=v;},enumerable:true},valueHigh:{get:function(){return Math.max(this.originalValue,self.ghost.value);},set:function(v){self.ghost.value=v;},enumerable:true}});if(descriptor.get){Object.defineProperty(this.input,"value",{get:function(){return this.valueLow+","+this.valueHigh;},set:function(v){const values=v.split(",");this.valueLow=values[0];this.valueHigh=values[1];this.update();},enumerable:true});}
if(typeof this.input.oninput==="function"){this.ghost.oninput=this.input.oninput.bind(this.input);}
this.input.addEventListener("input",this.update.bind(this));this.ghost.addEventListener("input",this.update.bind(this));this.input.addEventListener("touchstart",this.saveOldValues.bind(this));this.ghost.addEventListener("touchstart",this.saveOldValues.bind(this));this.input.addEventListener("mousedown",this.saveOldValues.bind(this));this.ghost.addEventListener("mousedown",this.saveOldValues.bind(this));this.input.addEventListener("touchend",this.dispatchNewValueEvent.bind(this));this.ghost.addEventListener("touchend",this.dispatchNewValueEvent.bind(this));this.input.addEventListener("mouseup",this.dispatchNewValueEvent.bind(this));this.ghost.addEventListener("mouseup",this.dispatchNewValueEvent.bind(this));if(this.rangeWithInput){this.leftCounter.addEventListener("click",this.counterInputSwitch.bind(this));this.rightCounter.addEventListener("click",this.counterInputSwitch.bind(this));this.leftInput.addEventListener("blur",this.counterInputSwitch.bind(this));this.rightInput.addEventListener("blur",this.counterInputSwitch.bind(this));this.leftInput.addEventListener("keypress",this.elementBlurOnEnter.bind(this));this.rightInput.addEventListener("keypress",this.elementBlurOnEnter.bind(this));this.leftInput.addEventListener("focus",this.selectAllFocus.bind(this));this.rightInput.addEventListener("focus",this.selectAllFocus.bind(this));}
this.update();$(this.rangeDiv).addClass('visible');}
update(){const low=100*(this.input.valueLow-this.min)/(this.max-this.min);const high=100*(this.input.valueHigh-this.min)/(this.max-this.min);const tipOffsetLow=8-(low*0.15);const tipOffsetHigh=8-(high*0.15);this.rangeDiv.style.setProperty("--low",low+'%');this.rangeDiv.style.setProperty("--high",high+'%');$(this.inputTipLocator).css({'left':`calc(${low}% + (${tipOffsetLow}px))`,'top':'3px'});$(this.ghostTipLocator).css({'left':`calc(${high}% + (${tipOffsetHigh}px))`,'top':'18px'});$(this.inputTipLocator).add($(this.ghostTipLocator)).popover('update');this.counterInputUpdate();}
counterInputUpdate(){if(this.rangeWithInput){this.leftCounter.innerText=this.formatNumber(this.input.valueLow);this.rightCounter.innerText=this.formatNumber(this.input.valueHigh);this.leftInput.value=this.input.valueLow;this.rightInput.value=this.input.valueHigh;}}
counterInputSwitch(ev){let counter=this.rightCounter;let input=this.rightInput;if(ev.currentTarget.classList.contains('multirange-min')){counter=this.leftCounter;input=this.leftInput;}
if(counter.style.display==="none"){this.input.valueLow=this.leftInput.value;this.input.valueHigh=this.rightInput.value;this.dispatchNewValueEvent();this.update();counter.style.display="";input.style.display="none";}else{counter.style.display="none";input.style.display="";this.saveOldValues();window.setTimeout(function(){input.focus();},1);}}
elementBlurOnEnter(ev){if(ev.key==="Enter"){ev.currentTarget.blur();}}
selectAllFocus(ev){ev.currentTarget.select();}
dispatchNewValueEvent(){if(this._previousMaxPrice!==this.input.valueHigh||this._previousMinPrice!==this.input.valueLow){this.input.dispatchEvent(new CustomEvent("newRangeValue",{bubbles:true,}));}}
saveOldValues(){this._previousMinPrice=this.input.valueLow;this._previousMaxPrice=this.input.valueHigh;}
formatNumber(number){number=String(number).split('.');if(number[1]&&number[1].length===1){number[1]+='0';}
let formatedNumber=number[0].replace(/(?=(?:\d{3})+$)(?!\b)/g,',')+(number[1]?'.'+number[1]:'.00');if(this.currency.length){if(this.currencyPosition==='after'){formatedNumber=formatedNumber+' '+this.currency;}else{formatedNumber=this.currency+' '+formatedNumber;}}
return formatedNumber;}}
function multirange(input,options){if(input.classList.contains('multirange')){return;}
new Multirange(input,options);}
return{Multirange:Multirange,init:multirange,};});odoo.define('website_sale.multirange.instance',function(require){'use strict';const publicWidget=require('web.public.widget');const multirange=require('website_sale.multirange');publicWidget.registry.WebsiteMultirangeInputs=publicWidget.Widget.extend({selector:'input[type=range][multiple]:not(.multirange)',start(){return this._super.apply(this,arguments).then(()=>{multirange.init(this.el);});},});});;

/* /website_sale/static/src/js/website_sale_category_link.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_sale/js/website_sale_category_link',async function(require){'use strict';let __exports={};const publicWidget=require('web.public.widget')
publicWidget.registry.ProductCategoriesLinks=publicWidget.Widget.extend({selector:'.products_categories',events:{'click [data-link-href]':'_openLink',},_openLink:function(ev){window.location.href=ev.currentTarget.getAttribute('data-link-href');},});return __exports;});;

/* /payment_stripe/static/src/js/payment_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('payment_stripe.payment_form',require=>{'use strict';const checkoutForm=require('payment.checkout_form');const manageForm=require('payment.manage_form');const stripeMixin={_processRedirectPayment:function(provider,paymentOptionId,processingValues){if(provider!=='stripe'){return this._super(...arguments);}
const stripeJS=Stripe(processingValues['publishable_key']);stripeJS.redirectToCheckout({sessionId:processingValues['session_id']});},};checkoutForm.include(stripeMixin);manageForm.include(stripeMixin);});;

/* /sale_subscription/static/src/js/portal_subscription.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('sale_subscription.portal_subscription',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.ContractSubmit=publicWidget.Widget.extend({selector:'.contract-submit',events:{'click':'_onClick',},_onClick:function(){this.$el.attr('disabled',true);this.$el.prepend('<i class="fa fa-refresh fa-spin"></i> ');this.$el.closest('form').submit();},});});;

/* /website_crm_partner_assign/static/src/js/crm_partner_assign.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('crm.partner_assign',function(require){'use strict';var publicWidget=require('web.public.widget');var time=require('web.time');publicWidget.registry.crmPartnerAssign=publicWidget.Widget.extend({selector:'#wrapwrap:has(.interested_partner_assign_form, .desinterested_partner_assign_form, .opp-stage-button, .new_opp_form)',events:{'click .interested_partner_assign_confirm':'_onInterestedPartnerAssignConfirm','click .desinterested_partner_assign_confirm':'_onDesinterestedPartnerAssignConfirm','click .opp-stage-button':'_onOppStageButtonClick','change .edit_contact_form .country_id':'_onEditContactFormChange','click .edit_contact_confirm':'_onEditContactConfirm','click .new_opp_confirm':'_onNewOppConfirm','click .edit_opp_confirm':'_onEditOppConfirm','change .edit_opp_form .next_activity':'_onChangeNextActivity','click div.input-group.date[data-target-input="nearest"]':'_onCalendarInputGroupClick',},_buttonExec:function($btn,callback){$btn.prop('disabled',true);return callback.call(this).guardedCatch(function(){$btn.prop('disabled',false);});},_confirmInterestedPartner:function(){return this._rpc({model:'crm.lead',method:'partner_interested',args:[[parseInt($('.interested_partner_assign_form .assign_lead_id').val())],$('.interested_partner_assign_form .comment_interested').val()],}).then(function(){window.location.href='/my/leads';});},_confirmDesinterestedPartner:function(){return this._rpc({model:'crm.lead',method:'partner_desinterested',args:[[parseInt($('.desinterested_partner_assign_form .assign_lead_id').val())],$('.desinterested_partner_assign_form .comment_desinterested').val(),$('.desinterested_partner_assign_form .contacted_desinterested').prop('checked'),$('.desinterested_partner_assign_form .customer_mark_spam').prop('checked'),],}).then(function(){window.location.href='/my/leads';});},_changeOppStage:function(leadID,stageID){return this._rpc({model:'crm.lead',method:'write',args:[[leadID],{stage_id:stageID,}],context:_.extend({website_partner_assign:1}),}).then(function(){window.location.reload();});},_editContact:function(){return this._rpc({model:'crm.lead',method:'update_contact_details_from_portal',args:[[parseInt($('.edit_contact_form .opportunity_id').val())],{partner_name:$('.edit_contact_form .partner_name').val(),phone:$('.edit_contact_form .phone').val(),mobile:$('.edit_contact_form .mobile').val(),email_from:$('.edit_contact_form .email_from').val(),street:$('.edit_contact_form .street').val(),street2:$('.edit_contact_form .street2').val(),city:$('.edit_contact_form .city').val(),zip:$('.edit_contact_form .zip').val(),state_id:parseInt($('.edit_contact_form .state_id').find(':selected').attr('value')),country_id:parseInt($('.edit_contact_form .country_id').find(':selected').attr('value')),}],}).then(function(){window.location.reload();});},_createOpportunity:function(){return this._rpc({model:'crm.lead',method:'create_opp_portal',args:[{contact_name:$('.new_opp_form .contact_name').val(),title:$('.new_opp_form .title').val(),description:$('.new_opp_form .description').val(),}],}).then(function(response){if(response.errors){$('#new-opp-dialog .alert').remove();$('#new-opp-dialog div:first').prepend('<div class="alert alert-danger">'+response.errors+'</div>');return Promise.reject(response);}else{window.location='/my/opportunity/'+response.id;}});},_editOpportunity:function(){return this._rpc({model:'crm.lead',method:'update_lead_portal',args:[[parseInt($('.edit_opp_form .opportunity_id').val())],{date_deadline:this._parse_date($('.edit_opp_form .date_deadline').val()),expected_revenue:parseFloat($('.edit_opp_form .expected_revenue').val()),probability:parseFloat($('.edit_opp_form .probability').val()),activity_type_id:parseInt($('.edit_opp_form .next_activity').find(':selected').attr('data')),activity_summary:$('.edit_opp_form .activity_summary').val(),activity_date_deadline:this._parse_date($('.edit_opp_form .activity_date_deadline').val()),priority:$('input[name="PriorityRadioOptions"]:checked').val(),}],}).then(function(){window.location.reload();});},_onInterestedPartnerAssignConfirm:function(ev){ev.preventDefault();ev.stopPropagation();if($('.interested_partner_assign_form .comment_interested').val()&&$('.interested_partner_assign_form .contacted_interested').prop('checked')){this._buttonExec($(ev.currentTarget),this._confirmInterestedPartner);}else{$('.interested_partner_assign_form .error_partner_assign_interested').css('display','block');}},_onDesinterestedPartnerAssignConfirm:function(ev){ev.preventDefault();ev.stopPropagation();this._buttonExec($(ev.currentTarget),this._confirmDesinterestedPartner);},_onOppStageButtonClick:function(ev){var $btn=$(ev.currentTarget);this._buttonExec($btn,this._changeOppStage.bind(this,parseInt($btn.attr('opp')),parseInt($btn.attr('data'))));},_onEditContactFormChange:function(ev){var countryID=$('.edit_contact_form .country_id').find(':selected').attr('value');$('.edit_contact_form .state[country!='+countryID+']').css('display','none');$('.edit_contact_form .state[country='+countryID+']').css('display','block');},_onEditContactConfirm:function(ev){ev.preventDefault();ev.stopPropagation();this._buttonExec($(ev.currentTarget),this._editContact);},_onNewOppConfirm:function(ev){ev.preventDefault();ev.stopPropagation();this._buttonExec($(ev.currentTarget),this._createOpportunity);},_onEditOppConfirm:function(ev){ev.preventDefault();ev.stopPropagation();this._buttonExec($(ev.currentTarget),this._editOpportunity);},_onChangeNextActivity:function(ev){var $selected=$('.edit_opp_form .next_activity').find(':selected');if($selected.attr('activity_summary')){$('.edit_opp_form .activity_summary').val($selected.attr('activity_summary'));}
if($selected.attr('delay_count')){var now=moment();var date=now.add(parseInt($selected.attr('delay_count')),$selected.attr('delay_unit'));$('.edit_opp_form .activity_date_deadline').val(date.format(time.getLangDateFormat()));}},_onCalendarInputGroupClick:function(ev){const $calendarInputGroup=$(ev.currentTarget);const calendarOptions={format:time.getLangDateFormat(),icons:{time:'fa fa-clock-o',date:'fa fa-calendar',up:'fa fa-chevron-up',down:'fa fa-chevron-down',},};if($calendarInputGroup.is('#next_activity_div')){calendarOptions.widgetPositioning={vertical:'top'};}
$calendarInputGroup.datetimepicker(calendarOptions);},_parse_date:function(value){console.log(value);var date=moment(value,time.getLangDateFormat(),true);if(date.isValid()&&date.year()>=1900){return time.date_to_str(date.toDate());}
else{return false;}},});});;

/* /website_blog/static/src/js/contentshare.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_blog.contentshare',function(require){'use strict';const dom=require('web.dom');$.fn.share=function(options){var option=$.extend($.fn.share.defaults,options);var selected_text="";$.extend($.fn.share,{init:function(shareable){var self=this;$.fn.share.defaults.shareable=shareable;$.fn.share.defaults.shareable.on('mouseup',function(){if($(this).parents('body.editor_enable').length===0){self.popOver();}});$.fn.share.defaults.shareable.on('mousedown',function(){self.destroy();});},getContent:function(){var $popover_content=$('<div class="h4 m-0"/>');if($('.o_wblog_title, .o_wblog_post_content_field').hasClass('js_comment')){selected_text=this.getSelection('string');var $btn_c=$('<a class="o_share_comment btn btn-link px-2" href="#"/>').append($('<i class="fa fa-lg fa-comment"/>'));$popover_content.append($btn_c);}
if($('.o_wblog_title, .o_wblog_post_content_field').hasClass('js_tweet')){var tweet='"%s" - %s';var baseLength=tweet.replace(/%s/g,'').length;var selectedText=this.getSelection('string').substring(0,option.maxLength-baseLength-23);var text=window.btoa(encodeURIComponent(_.str.sprintf(tweet,selectedText,window.location.href)));$popover_content.append(_.str.sprintf("<a onclick=\"window.open('%s' + atob('%s'), '_%s','location=yes,height=570,width=520,scrollbars=yes,status=yes')\"><i class=\"ml4 mr4 fa fa-twitter fa-lg\"/></a>",option.shareLink,text,option.target));}
return $popover_content;},commentEdition:function(){$(".o_portal_chatter_composer_form textarea").val('"'+selected_text+'" ').focus();const commentsEl=$('#o_wblog_post_comments')[0];if(commentsEl){dom.scrollTo(commentsEl).then(()=>{window.location.hash='blog_post_comment_quote';});}},getSelection:function(share){if(window.getSelection){var selection=window.getSelection();if(!selection||selection.rangeCount===0){return"";}
if(share==='string'){return String(selection.getRangeAt(0)).replace(/\s{2,}/g,' ');}else{return selection.getRangeAt(0);}}else if(document.selection){if(share==='string'){return document.selection.createRange().text.replace(/\s{2,}/g,' ');}else{return document.selection.createRange();}}},popOver:function(){this.destroy();if(this.getSelection('string').length<option.minLength){return;}
var data=this.getContent();var range=this.getSelection();var newNode=document.createElement("span");range.insertNode(newNode);newNode.className=option.className;var $pop=$(newNode);$pop.popover({trigger:'manual',placement:option.placement,html:true,content:function(){return data;}}).popover('show');$('.o_share_comment').on('click',this.commentEdition);},destroy:function(){var $span=$('span.'+option.className);$span.popover('hide');$span.remove();}});$.fn.share.init(this);};$.fn.share.defaults={shareLink:"http://twitter.com/intent/tweet?text=",minLength:5,maxLength:140,target:"blank",className:"share",placement:"top",};});;

/* /website_blog/static/src/js/website_blog.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_blog.website_blog',function(require){'use strict';var core=require('web.core');const dom=require('web.dom');const publicWidget=require('web.public.widget');publicWidget.registry.websiteBlog=publicWidget.Widget.extend({selector:'.website_blog',events:{'click #o_wblog_next_container':'_onNextBlogClick','click #o_wblog_post_content_jump':'_onContentAnchorClick','click .o_twitter, .o_facebook, .o_linkedin, .o_google, .o_twitter_complete, .o_facebook_complete, .o_linkedin_complete, .o_google_complete':'_onShareArticle',},start:function(){$('.js_tweet, .js_comment').share({});return this._super.apply(this,arguments);},_onNextBlogClick:function(ev){ev.preventDefault();var self=this;var $el=$(ev.currentTarget);var nexInfo=$el.find('#o_wblog_next_post_info').data();$el.find('.o_record_cover_container').addClass(nexInfo.size+' '+nexInfo.text).end().find('.o_wblog_toggle').toggleClass('d-none');const placeholder=document.createElement('div');placeholder.style.minHeight='100vh';this.$('#o_wblog_next_container').append(placeholder);_.defer(function(){self._forumScrollAction($el,300,function(){window.location.href=nexInfo.url;});});},_onContentAnchorClick:function(ev){ev.preventDefault();ev.stopImmediatePropagation();var $el=$(ev.currentTarget.hash);this._forumScrollAction($el,500,function(){window.location.hash='blog_content';});},_onShareArticle:function(ev){ev.preventDefault();var url='';var $element=$(ev.currentTarget);var blogPostTitle=encodeURIComponent($('#o_wblog_post_name').html()||'');var articleURL=encodeURIComponent(window.location.href);if($element.hasClass('o_twitter')){var twitterText=core._t("Amazing blog article: %s! Check it live: %s");var tweetText=_.string.sprintf(twitterText,blogPostTitle,articleURL);url='https://twitter.com/intent/tweet?tw_p=tweetbutton&text='+tweetText;}else if($element.hasClass('o_facebook')){url='https://www.facebook.com/sharer/sharer.php?u='+articleURL;}else if($element.hasClass('o_linkedin')){url='https://www.linkedin.com/sharing/share-offsite/?url='+articleURL;}
window.open(url,'','menubar=no, width=500, height=400');},_forumScrollAction:function($el,duration,callback){dom.scrollTo($el[0],{duration:duration}).then(()=>callback());},});});;

/* /website_profile/static/src/js/website_profile.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_profile.website_profile',function(require){'use strict';var publicWidget=require('web.public.widget');var wysiwygLoader=require('web_editor.loader');publicWidget.registry.websiteProfile=publicWidget.Widget.extend({selector:'.o_wprofile_email_validation_container',read_events:{'click .send_validation_email':'_onSendValidationEmailClick','click .validated_email_close':'_onCloseValidatedEmailClick',},_onSendValidationEmailClick:function(ev){ev.preventDefault();var self=this;var $element=$(ev.currentTarget);this._rpc({route:'/profile/send_validation_email',params:{'redirect_url':$element.data('redirect_url')},}).then(function(data){if(data){self.$('button.validation_email_close').click();}});},_onCloseValidatedEmailClick:function(){this._rpc({route:'/profile/validate_email/close',});},});publicWidget.registry.websiteProfileEditor=publicWidget.Widget.extend({selector:'.o_wprofile_editor_form',read_events:{'click .o_forum_profile_pic_edit':'_onEditProfilePicClick','change .o_forum_file_upload':'_onFileUploadChange','click .o_forum_profile_pic_clear':'_onProfilePicClearClick',},start:async function(){var def=this._super.apply(this,arguments);if(this.editableMode){return def;}
var $textarea=this.$('textarea.o_wysiwyg_loader');this._wysiwyg=await wysiwygLoader.loadFromTextarea(this,$textarea[0],{recordInfo:{context:this._getContext(),res_model:'res.users',res_id:parseInt(this.$('input[name=user_id]').val()),},resizable:true,userGeneratedContent:true,});return Promise.all([def]);},_onEditProfilePicClick:function(ev){ev.preventDefault();$(ev.currentTarget).closest('form').find('.o_forum_file_upload').trigger('click');},_onFileUploadChange:function(ev){if(!ev.currentTarget.files.length){return;}
var $form=$(ev.currentTarget).closest('form');var reader=new window.FileReader();reader.readAsDataURL(ev.currentTarget.files[0]);reader.onload=function(ev){$form.find('.o_forum_avatar_img').attr('src',ev.target.result);};$form.find('#forum_clear_image').remove();},_onProfilePicClearClick:function(ev){var $form=$(ev.currentTarget).closest('form');$form.find('.o_forum_avatar_img').attr('src','/web/static/img/placeholder.png');$form.append($('<input/>',{name:'clear_image',id:'forum_clear_image',type:'hidden',}));},});return publicWidget.registry.websiteProfile;});;

/* /website_slides/static/src/js/slides.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides',async function(require){'use strict';let __exports={};const publicWidget=require('web.public.widget');const time=require('web.time');publicWidget.registry.websiteSlides=publicWidget.Widget.extend({selector:'#wrapwrap',start:function(parent){var defs=[this._super.apply(this,arguments)];_.each($("timeago.timeago"),function(el){var datetime=$(el).attr('datetime');var datetimeObj=time.str_to_datetime(datetime);var displayStr='';if(datetimeObj&&new Date().getTime()-datetimeObj.getTime()>7*24*60*60*1000){displayStr=moment(datetimeObj).format('ll');}else{displayStr=moment(datetimeObj).fromNow();}
$(el).text(displayStr);});return Promise.all(defs);},});__exports[Symbol.for("default")]=publicWidget.registry.websiteSlides;var SlideSocialEmbed=publicWidget.Widget.extend({events:{'change input':'_onChangePage',},init:function(parent,maxPage){this._super.apply(this,arguments);this.max_page=maxPage||false;},_updateEmbeddedCode:function(page){var $embedInput=this.$('.slide_embed_code');var newCode=$embedInput.val().replace(/(page=).*?([^\d]+)/,'$1'+page+'$2');$embedInput.val(newCode);},_onChangePage:function(ev){ev.preventDefault();var input=this.$('input');var page=parseInt(input.val());if(this.max_page&&!(page>0&&page<=this.max_page)){page=1;}
this._updateEmbeddedCode(page);},});publicWidget.registry.websiteSlidesEmbed=publicWidget.Widget.extend({selector:'#wrapwrap',start:function(parent){var defs=[this._super.apply(this,arguments)];$('iframe.o_wslides_iframe_viewer').on('ready',this._onIframeViewerReady.bind(this));return Promise.all(defs);},_onIframeViewerReady:function(ev){var $iframe=$(ev.currentTarget);var maxPage=$iframe.contents().find('#page_count').val();new SlideSocialEmbed(this,maxPage).attachTo($('.oe_slide_js_embed_code_widget'));},});return __exports;});;

/* /website_slides/static/src/js/slides_share.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_share',async function(require){'use strict';let __exports={};const publicWidget=require('web.public.widget');require('@website_slides/js/slides');const{_t}=require('web.core');var ShareMail=publicWidget.Widget.extend({events:{'click button':'_sendMail',},_sendMail:function(){var self=this;var input=this.$('input');var slideID=this.$('button').data('slide-id');if(input.val()&&input[0].checkValidity()){this.$el.removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');this._rpc({route:'/slides/slide/send_share_email',params:{slide_id:slideID,email:input.val(),},}).then(function(){self.$el.html($('<div class="alert alert-info" role="alert">'+_t('<strong>Thank you!</strong> Mail has been sent.')+'</div>'));});}else{this.$el.addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');input.focus();}},});publicWidget.registry.websiteSlidesShare=publicWidget.Widget.extend({selector:'#wrapwrap',events:{'click a.o_wslides_js_social_share':'_onSlidesSocialShare','click .o_clipboard_button':'_onShareLinkCopy',},start:function(parent){var defs=[this._super.apply(this,arguments)];defs.push(new ShareMail(this).attachTo($('.oe_slide_js_share_email')));return Promise.all(defs);},_onSlidesSocialShare:function(ev){ev.preventDefault();var popUpURL=$(ev.currentTarget).attr('href');var popUp=window.open(popUpURL,'Share Dialog','width=626,height=436');$(window).on('focus',function(){if(popUp.closed){$(window).off('focus');}});},_onShareLinkCopy:function(ev){ev.preventDefault();var $clipboardBtn=$(ev.currentTarget);$clipboardBtn.tooltip({title:"Copied !",trigger:"manual",placement:"bottom"});var self=this;var clipboard=new ClipboardJS('#'+$clipboardBtn[0].id,{target:function(){var share_link_el=self.$('#wslides_share_link_id_'+$clipboardBtn[0].id.split('id_')[1]);return share_link_el[0];},container:this.el});clipboard.on('success',function(){clipboard.destroy();$clipboardBtn.tooltip('show');_.delay(function(){$clipboardBtn.tooltip("hide");},800);});clipboard.on('error',function(e){console.log(e);clipboard.destroy();})},});return __exports;});;

/* /website_slides/static/src/js/slides_upload.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_upload',async function(require){'use strict';let __exports={};const{qweb:QWeb,_t}=require('web.core');const Dialog=require('web.Dialog');const publicWidget=require('web.public.widget');const utils=require('web.utils');const wUtils=require('website.utils');var SlideUploadDialog=Dialog.extend({template:'website.slide.upload.modal',events:_.extend({},Dialog.prototype.events,{'click .o_wslides_js_upload_install_button':'_onClickInstallModule','click .o_wslides_select_type':'_onClickSlideTypeIcon','change input#upload':'_onChangeSlideUpload','change input#url':'_onChangeSlideUrl',}),init:function(parent,options){options=_.defaults(options||{},{title:_t("Upload a document"),size:'medium',});this._super(parent,options);this._setup();this.channelID=parseInt(options.channelId,10);this.defaultCategoryID=parseInt(options.categoryId,10);this.canUpload=options.canUpload==='True';this.canPublish=options.canPublish==='True';this.modulesToInstall=options.modulesToInstall?JSON.parse(options.modulesToInstall.replace(/'/g,'"')):null;this.modulesToInstallStatus=null;this.set('state','_select');this.on('change:state',this,this._onChangeType);this.set('can_submit_form',false);this.on('change:can_submit_form',this,this._onChangeCanSubmitForm);this.file={};this.isValidUrl=true;},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self._resetModalButton();});},_alertDisplay:function(message){this._alertRemove();$('<div/>',{"class":'alert alert-warning',id:'upload-alert',role:'alert'}).text(message).insertBefore(this.$('form'));},_alertRemove:function(){this.$('#upload-alert').remove();},_bindSelect2Dropdown:function(){var self=this;this.$('#category_id').select2(this._select2Wrapper(_t('Section'),false,function(){return self._rpc({route:'/slides/category/search_read',params:{fields:['name'],domain:[['channel_id','=',self.channelID]],}});}));this.$('#tag_ids').select2(this._select2Wrapper(_t('Tags'),true,function(){return self._rpc({route:'/slides/tag/search_read',params:{fields:['name'],domain:[],}});}));},_fetchUrlPreview:function(url){return this._rpc({route:'/slides/prepare_preview/',params:{'url':url,'channel_id':this.channelID},});},_formSetFieldValue:function(fieldId,value){this.$('form').find('#'+fieldId).val(value);},_formGetFieldValue:function(fieldId){return this.$('#'+fieldId).val();},_formValidate:function(){var form=this.$("form");form.addClass('was-validated');return form[0].checkValidity()&&this.isValidUrl;},_formValidateGetValues:async function(forcePublished){var canvas=this.$('#data_canvas')[0];var values=_.extend({'channel_id':this.channelID,'name':this._formGetFieldValue('name'),'url':this._formGetFieldValue('url'),'description':this._formGetFieldValue('description'),'duration':this._formGetFieldValue('duration'),'is_published':forcePublished,},this._getSelect2DropdownValues());if(_.contains(this.slide_type_data),this.get('state')){values['slide_type']=this.get('state');}
if(this.file.type==='application/pdf'){_.extend(values,{'image_1920':canvas.toDataURL().split(',')[1],'slide_type':canvas.height>canvas.width?'document':'presentation','mime_type':this.file.type,'datas':this.file.data});}else if(values['slide_type']==='webpage'){_.extend(values,{'mime_type':'text/html','image_1920':this.file.type==='image/svg+xml'?await this._svgToPNG():this.file.data,});}else if(/^image\/.*/.test(this.file.type)){const fileData=this.file.type==='image/svg+xml'?await this._svgToPNG():this.file.data;if(values['slide_type']==='presentation'){_.extend(values,{'slide_type':'infographic','mime_type':this.file.type==='image/svg+xml'?'image/png':this.file.type,'datas':fileData,});}else{_.extend(values,{'image_1920':fileData,});}}
return values;},_fileReset:function(){var control=this.$('#upload');control.replaceWith(control=control.clone(true));this.file.name=false;},_getModalButtons:function(){var btnList=[];var state=this.get('state');if(state==='_select'){btnList.push({text:_t("Cancel"),classes:'o_w_slide_cancel',close:true});}else if(state==='_import'){if(!this.modulesToInstallStatus.installing){btnList.push({text:this.modulesToInstallStatus.failed?_t("Retry"):_t("Install"),classes:'btn-primary',click:this._onClickInstallModuleConfirm.bind(this)});}
btnList.push({text:_t("Discard"),classes:'o_w_slide_go_back',click:this._onClickGoBack.bind(this)});}else if(state!=='_upload'){if(this.canUpload){if(this.canPublish){btnList.push({text:_t("Save & Publish"),classes:'btn-primary o_w_slide_upload o_w_slide_upload_published',click:this._onClickFormSubmit.bind(this)});btnList.push({text:_t("Save"),classes:'o_w_slide_upload',click:this._onClickFormSubmit.bind(this)});}else{btnList.push({text:_t("Save"),classes:'btn-primary o_w_slide_upload',click:this._onClickFormSubmit.bind(this)});}}
btnList.push({text:_t("Discard"),classes:'o_w_slide_go_back',click:this._onClickGoBack.bind(this)});}
return btnList;},_getSelect2DropdownValues:function(){var result={};var self=this;var tagValues=[];_.each(this.$('#tag_ids').select2('data'),function(val){if(val.create){tagValues.push([0,0,{'name':val.text}]);}else{tagValues.push([4,val.id]);}});if(tagValues){result['tag_ids']=tagValues;}
if(!self.defaultCategoryID){var categoryValue=this.$('#category_id').select2('data');if(categoryValue&&categoryValue.create){result['category_id']=[0,{'name':categoryValue.text}];}else if(categoryValue){result['category_id']=[categoryValue.id];this.categoryID=categoryValue.id;}}else{result['category_id']=[self.defaultCategoryID];this.categoryID=self.defaultCategoryID;}
return result;},_resetModalButton:function(){this.set_buttons(this._getModalButtons());},_select2Wrapper:function(tag,multi,fetchFNC,nameKey){nameKey=nameKey||'name';var values={width:'100%',placeholder:tag,allowClear:true,formatNoMatches:false,selection_data:false,fetch_rpc_fnc:fetchFNC,formatSelection:function(data){if(data.tag){data.text=data.tag;}
return data.text;},createSearchChoice:function(term,data){var addedTags=$(this.opts.element).select2('data');if(_.filter(_.union(addedTags,data),function(tag){return tag.text.toLowerCase().localeCompare(term.toLowerCase())===0;}).length===0){if(this.opts.can_create){return{id:_.uniqueId('tag_'),create:true,tag:term,text:_.str.sprintf(_t("Create new %s '%s'"),tag,term),};}else{return undefined;}}},fill_data:function(query,data){var self=this,tags={results:[]};_.each(data,function(obj){if(self.matcher(query.term,obj[nameKey])){tags.results.push({id:obj.id,text:obj[nameKey]});}});query.callback(tags);},query:function(query){var self=this;if(!this.selection_data){this.fetch_rpc_fnc().then(function(data){self.can_create=data.can_create;self.fill_data(query,data.read_results);self.selection_data=data.read_results;});}else{this.fill_data(query,this.selection_data);}}};if(multi){values['multiple']=true;}
return values;},_setup:function(){this.slide_type_data={presentation:{icon:'fa-file-pdf-o',label:_t('Presentation'),template:'website.slide.upload.modal.presentation',},webpage:{icon:'fa-file-text',label:_t('Web Page'),template:'website.slide.upload.modal.webpage',},video:{icon:'fa-video-camera',label:_t('Video'),template:'website.slide.upload.modal.video',},quiz:{icon:'fa-question-circle',label:_t('Quiz'),template:'website.slide.upload.quiz'}};},_showPreviewColumn:function(){this.$('.o_slide_tutorial').addClass('d-none');this.$('.o_slide_preview').removeClass('d-none');},_hidePreviewColumn:function(){this.$('.o_slide_tutorial').removeClass('d-none');this.$('.o_slide_preview').addClass('d-none');},_svgToPNG:async function(){const imgEl=this.$el.find('img#slide-image')[0];const png=await wUtils.svgToPNG(imgEl);return png.split(',')[1];},_onChangeType:function(){var currentType=this.get('state');var tmpl;this.$modal.find('.modal-dialog').removeClass('modal-lg');if(currentType==='_select'){tmpl='website.slide.upload.modal.select';}else if(currentType==='_upload'){tmpl='website.slide.upload.modal.uploading';}else if(currentType==='_import'){tmpl='website.slide.upload.modal.import';}else{tmpl=this.slide_type_data[currentType]['template'];this.$modal.find('.modal-dialog').addClass('modal-lg');}
this.$('.o_w_slide_upload_modal_container').empty();this.$('.o_w_slide_upload_modal_container').append(QWeb.render(tmpl,{widget:this}));this._resetModalButton();if(currentType==='_import'){this.set_title(_t("New Certification"));}else{this.set_title(_t("Upload a document"));}},_onChangeCanSubmitForm:function(ev){if(this.get('can_submit_form')){this.$('.o_w_slide_upload').button('reset');}else{this.$('.o_w_slide_upload').button('loading');}},_onChangeSlideUpload:function(ev){var self=this;this._alertRemove();var $input=$(ev.currentTarget);var preventOnchange=$input.data('preventOnchange');var $preview=self.$('#slide-image');var file=ev.target.files[0];if(!file){this.$('#slide-image').attr('src','/website_slides/static/src/img/document.png');this._hidePreviewColumn();return;}
var isImage=/^image\/.*/.test(file.type);var loaded=false;this.file.name=file.name;this.file.type=file.type;if(!(isImage||this.file.type==='application/pdf')){this._alertDisplay(_t("Invalid file type. Please select pdf or image file"));this._fileReset();this._hidePreviewColumn();return;}
if(file.size/1024/1024>25){this._alertDisplay(_t("File is too big. File size cannot exceed 25MB"));this._fileReset();this._hidePreviewColumn();return;}
utils.getDataURLFromFile(file).then(function(buffer){if(isImage){$preview.attr('src',buffer);}
buffer=buffer.split(',')[1];self.file.data=buffer;self._showPreviewColumn();});if(file.type==='application/pdf'){var ArrayReader=new FileReader();this.set('can_submit_form',false);ArrayReader.readAsArrayBuffer(file);ArrayReader.onload=function(evt){var buffer=evt.target.result;var passwordNeeded=function(){self._alertDisplay(_t("You can not upload password protected file."));self._fileReset();self.set('can_submit_form',true);};window.Util=window.pdfjsLib.Util;window.pdfjsLib.getDocument(new Uint8Array(buffer),null,passwordNeeded).then(function getPdf(pdf){self._formSetFieldValue('duration',(pdf._pdfInfo.numPages||0)*5);pdf.getPage(1).then(function getFirstPage(page){var scale=1;var viewport=page.getViewport(scale);var canvas=document.getElementById('data_canvas');var context=canvas.getContext('2d');canvas.height=viewport.height;canvas.width=viewport.width;page.render({canvasContext:context,viewport:viewport}).then(function(){var imageData=self.$('#data_canvas')[0].toDataURL();$preview.attr('src',imageData);if(loaded){self.set('can_submit_form',true);}
loaded=true;self._showPreviewColumn();});});});};}
if(!preventOnchange){var input=file.name;var inputVal=input.substr(0,input.lastIndexOf('.'))||input;if(this._formGetFieldValue('name')===""){this._formSetFieldValue('name',inputVal);}}},_onChangeSlideUrl:function(ev){var self=this;var url=$(ev.target).val();this._alertRemove();this.isValidUrl=false;this.set('can_submit_form',false);this._fetchUrlPreview(url).then(function(data){self.set('can_submit_form',true);if(data.error){self._alertDisplay(data.error);}else{if(data.completion_time){self._formSetFieldValue('duration',Math.round(data.completion_time*60));}
self.$('#slide-image').attr('src',data.url_src);self._formSetFieldValue('name',data.title);self._formSetFieldValue('description',data.description);self.isValidUrl=true;self._showPreviewColumn();}});},_onClickInstallModule:function(ev){var $btn=$(ev.currentTarget);var moduleId=$btn.data('moduleId');if(this.modulesToInstallStatus){this.set('state','_import');if(this.modulesToInstallStatus.installing){this.$('#o_wslides_install_module_text').text(_.str.sprintf(_t('Already installing "%s".'),this.modulesToInstallStatus.name));}else if(this.modulesToInstallStatus.failed){this.$('#o_wslides_install_module_text').text(_.str.sprintf(_t('Failed to install "%s".'),this.modulesToInstallStatus.name));}}else{this.modulesToInstallStatus=_.extend({},_.find(this.modulesToInstall,function(item){return item.id===moduleId;}));this.set('state','_import');this.$('#o_wslides_install_module_text').text(_.str.sprintf(_t('Do you want to install the "%s" app?'),this.modulesToInstallStatus.name));}},_onClickInstallModuleConfirm:function(){var self=this;var $el=this.$('#o_wslides_install_module_text');$el.text(_.str.sprintf(_t('Installing "%s".'),this.modulesToInstallStatus.name));this.modulesToInstallStatus.installing=true;this._resetModalButton();this._rpc({model:'ir.module.module',method:'button_immediate_install',args:[[this.modulesToInstallStatus.id]],}).then(function(){window.location.href=window.location.origin+window.location.pathname+'?enable_slide_upload';},function(){$el.text(_.str.sprintf(_t('Failed to install "%s".'),self.modulesToInstallStatus.name));self.modulesToInstallStatus.installing=false;self.modulesToInstallStatus.failed=true;self._resetModalButton();});},_onClickGoBack:function(){this.set('state','_select');this.isValidUrl=true;if(this.modulesToInstallStatus&&!this.modulesToInstallStatus.installing){this.modulesToInstallStatus=null;}},_onClickFormSubmit:async function(ev){if(!this._formValidate()){return;}
const forcePublished=$(ev.currentTarget).hasClass('o_w_slide_upload_published');const values=await this._formValidateGetValues(forcePublished);var oldType=this.get('state');this.set('state','_upload');const data=await this._rpc({route:'/slides/add_slide',params:values,});this._onFormSubmitDone(data,oldType);},_onFormSubmitDone:function(data,oldType){if(data.error){this.set('state',oldType);this._alertDisplay(data.error);}else{window.location=data.url;}},_onClickSlideTypeIcon:function(ev){var $elem=this.$(ev.currentTarget);var slideType=$elem.data('slideType');this.set('state',slideType);this._bindSelect2Dropdown();},});publicWidget.registry.websiteSlidesUpload=publicWidget.Widget.extend({selector:'.o_wslides_js_slide_upload',xmlDependencies:['/website_slides/static/src/xml/website_slides_upload.xml'],events:{'click':'_onUploadClick',},start:function(){if(this.$el.attr('data-open-modal')){this.$el.removeAttr('data-open-modal');this._openDialog(this.$el);}
return this._super.apply(this,arguments);},_openDialog:function($element){var data=$element.data();return new SlideUploadDialog(this,data).open();},_onUploadClick:function(ev){ev.preventDefault();this._openDialog($(ev.currentTarget));},});__exports[Symbol.for("default")]={SlideUploadDialog:SlideUploadDialog,websiteSlidesUpload:publicWidget.registry.websiteSlidesUpload};return __exports;});;

/* /website_slides/static/src/js/slides_category_add.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_category_add',async function(require){'use strict';let __exports={};const publicWidget=require('web.public.widget');const Dialog=require('web.Dialog');const{_t}=require('web.core');var CategoryAddDialog=Dialog.extend({template:'slides.category.add',init:function(parent,options){options=_.defaults(options||{},{title:_t('Add a section'),size:'medium',buttons:[{text:_t('Save'),classes:'btn-primary',click:this._onClickFormSubmit.bind(this)},{text:_t('Discard'),close:true}]});this.channelId=options.channelId;this._super(parent,options);},_formValidate:function($form){$form.addClass('was-validated');return $form[0].checkValidity();},_onClickFormSubmit:function(ev){var $form=this.$('#slide_category_add_form');if(this._formValidate($form)){$form.submit();}},});publicWidget.registry.websiteSlidesCategoryAdd=publicWidget.Widget.extend({selector:'.o_wslides_js_slide_section_add',xmlDependencies:['/website_slides/static/src/xml/slide_management.xml'],events:{'click':'_onAddSectionClick',},_openDialog:function(channelId){new CategoryAddDialog(this,{channelId:channelId}).open();},_onAddSectionClick:function(ev){ev.preventDefault();this._openDialog($(ev.currentTarget).attr('channel_id'));},});__exports[Symbol.for("default")]={categoryAddDialog:CategoryAddDialog,websiteSlidesCategoryAdd:publicWidget.registry.websiteSlidesCategoryAdd};return __exports;});;

/* /website_slides/static/src/js/slides_category_delete.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_category_delete',async function(require){'use strict';let __exports={};const publicWidget=require('web.public.widget');const Dialog=require('web.Dialog');const{_t}=require('web.core');const categoryDeleteDialog=Dialog.extend({template:'slides.category.delete',init(parent,slideTarget){this.categoryId=parseInt(slideTarget.dataset.categoryId);this._super(parent,{title:_t('Delete Category'),size:'medium',buttons:[{text:_t('Delete'),classes:'btn-primary',click:()=>this._onClickDelete(),},{text:_t('Cancel'),close:true}]});},_onClickDelete(){this._rpc({model:'slide.slide',method:'unlink',args:[this.categoryId],}).then(function(){window.location.reload();});}});publicWidget.registry.websiteSlidesCategoryDelete=publicWidget.Widget.extend({selector:'.o_wslides_js_category_delete',xmlDependencies:['/website_slides/static/src/xml/slide_management.xml'],events:{'click':'_onClickDeleteCateogry',},_onClickDeleteCateogry(ev){new categoryDeleteDialog(this,ev.currentTarget).open();},});__exports[Symbol.for("default")]={categoryDeleteDialog:categoryDeleteDialog,websiteSlidesCategoryDelete:publicWidget.registry.websiteSlidesCategoryDelete};return __exports;});;

/* /website_slides/static/src/js/slides_slide_archive.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_slide_archive',async function(require){'use strict';let __exports={};const publicWidget=require('web.public.widget');const Dialog=require('web.Dialog');const{_t}=require('web.core');var SlideArchiveDialog=Dialog.extend({template:'slides.slide.archive',init:function(parent,options){options=_.defaults(options||{},{title:_t('Archive Slide'),size:'medium',buttons:[{text:_t('Archive'),classes:'btn-primary',click:this._onClickArchive.bind(this)},{text:_t('Cancel'),close:true}]});this.$slideTarget=options.slideTarget;this.slideId=this.$slideTarget.data('slideId');this._super(parent,options);},_checkForEmptySections:function(){$('.o_wslides_slide_list_category').each(function(){var $categoryHeader=$(this).find('.o_wslides_slide_list_category_header');var categorySlideCount=$(this).find('.o_wslides_slides_list_slide:not(.o_not_editable)').length;var $emptyFlagContainer=$categoryHeader.find('.o_wslides_slides_list_drag').first();var $emptyFlag=$emptyFlagContainer.find('small');if(categorySlideCount===0&&$emptyFlag.length===0){$emptyFlagContainer.append($('<small>',{'class':"ml-1 text-muted font-weight-bold",text:_t("(empty)")}));}});},_onClickArchive:function(){var self=this;this._rpc({route:'/slides/slide/archive',params:{slide_id:this.slideId},}).then(function(isArchived){if(isArchived){self.$slideTarget.closest('.o_wslides_slides_list_slide').remove();self._checkForEmptySections();}
self.close();});}});publicWidget.registry.websiteSlidesSlideArchive=publicWidget.Widget.extend({selector:'.o_wslides_js_slide_archive',xmlDependencies:['/website_slides/static/src/xml/slide_management.xml'],events:{'click':'_onArchiveSlideClick',},_openDialog:function($slideTarget){new SlideArchiveDialog(this,{slideTarget:$slideTarget}).open();},_onArchiveSlideClick:function(ev){ev.preventDefault();var $slideTarget=$(ev.currentTarget);this._openDialog($slideTarget);},});__exports[Symbol.for("default")]={slideArchiveDialog:SlideArchiveDialog,websiteSlidesSlideArchive:publicWidget.registry.websiteSlidesSlideArchive};return __exports;});;

/* /website_slides/static/src/js/slides_slide_toggle_is_preview.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_slide_toggle_is_preview',async function(require){'use strict';let __exports={};const publicWidget=require('web.public.widget');publicWidget.registry.websiteSlidesSlideToggleIsPreview=publicWidget.Widget.extend({selector:'.o_wslides_js_slide_toggle_is_preview',xmlDependencies:['/website_slides/static/src/xml/slide_management.xml'],events:{'click':'_onPreviewSlideClick',},_toggleSlidePreview:function($slideTarget){this._rpc({route:'/slides/slide/toggle_is_preview',params:{slide_id:$slideTarget.data('slideId')},}).then(function(isPreview){if(isPreview){$slideTarget.removeClass('badge-light badge-hide border');$slideTarget.addClass('badge-success');}else{$slideTarget.removeClass('badge-success');$slideTarget.addClass('badge-light badge-hide border');}});},_onPreviewSlideClick:function(ev){ev.preventDefault();this._toggleSlidePreview($(ev.currentTarget));},});__exports[Symbol.for("default")]={websiteSlidesSlideToggleIsPreview:publicWidget.registry.websiteSlidesSlideToggleIsPreview};return __exports;});;

/* /website_slides/static/src/js/slides_slide_like.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_slide_like',async function(require){'use strict';let __exports={};const{_t}=require('web.core');const publicWidget=require('web.public.widget');require('@website_slides/js/slides');var SlideLikeWidget=publicWidget.Widget.extend({events:{'click .o_wslides_js_slide_like_up':'_onClickUp','click .o_wslides_js_slide_like_down':'_onClickDown',},_popoverAlert:function($el,message){$el.popover({trigger:'focus',placement:'bottom',container:'body',html:true,content:function(){return message;}}).popover('show');},_onClick:function(slideId,voteType){var self=this;this._rpc({route:'/slides/slide/like',params:{slide_id:slideId,upvote:voteType==='like',},}).then(function(data){if(!data.error){self.$el.find('span.o_wslides_js_slide_like_up span').text(data.likes);self.$el.find('span.o_wslides_js_slide_like_down span').text(data.dislikes);}else{if(data.error==='public_user'){var message=_t('Please <a href="/web/login?redirect=%s">login</a> to vote this lesson');var signupAllowed=data.error_signup_allowed||false;if(signupAllowed){message=_t('Please <a href="/web/signup?redirect=%s">create an account</a> to vote this lesson');}
self._popoverAlert(self.$el,_.str.sprintf(message,(document.URL)));}else if(data.error==='vote_done'){self._popoverAlert(self.$el,_t('You have already voted for this lesson'));}else if(data.error==='slide_access'){self._popoverAlert(self.$el,_t('You don\'t have access to this lesson'));}else if(data.error==='channel_membership_required'){self._popoverAlert(self.$el,_t('You must be member of this course to vote'));}else if(data.error==='channel_comment_disabled'){self._popoverAlert(self.$el,_t('Votes and comments are disabled for this course'));}else if(data.error==='channel_karma_required'){self._popoverAlert(self.$el,_t('You don\'t have enough karma to vote'));}else{self._popoverAlert(self.$el,_t('Unknown error'));}}});},_onClickUp:function(ev){var slideId=$(ev.currentTarget).data('slide-id');return this._onClick(slideId,'like');},_onClickDown:function(ev){var slideId=$(ev.currentTarget).data('slide-id');return this._onClick(slideId,'dislike');},});publicWidget.registry.websiteSlidesSlideLike=publicWidget.Widget.extend({selector:'#wrapwrap',start:function(){var self=this;var defs=[this._super.apply(this,arguments)];$('.o_wslides_js_slide_like').each(function(){defs.push(new SlideLikeWidget(self).attachTo($(this)));});return Promise.all(defs);},});__exports[Symbol.for("default")]={slideLikeWidget:SlideLikeWidget,websiteSlidesSlideLike:publicWidget.registry.websiteSlidesSlideLike};return __exports;});;

/* /website_slides/static/src/js/slides_course_slides_list.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_course_slides_list',async function(require){'use strict';let __exports={};const publicWidget=require('web.public.widget');const{_t}=require('web.core');publicWidget.registry.websiteSlidesCourseSlidesList=publicWidget.Widget.extend({selector:'.o_wslides_slides_list',xmlDependencies:['/website_slides/static/src/xml/website_slides_upload.xml'],start:function(){this._super.apply(this,arguments);this.channelId=this.$el.data('channelId');this._updateHref();this._bindSortable();},_bindSortable:function(){this.$('ul.o_wslides_js_slides_list_container').sortable({handle:'.o_wslides_slides_list_drag',stop:this._reorderSlides.bind(this),items:'.o_wslides_slide_list_category',placeholder:'o_wslides_slides_list_slide_hilight position-relative mb-1'});this.$('.o_wslides_js_slides_list_container ul').sortable({handle:'.o_wslides_slides_list_drag',connectWith:'.o_wslides_js_slides_list_container ul',stop:this._reorderSlides.bind(this),items:'.o_wslides_slides_list_slide:not(.o_wslides_js_slides_list_empty)',placeholder:'o_wslides_slides_list_slide_hilight position-relative mb-1'});},_checkForEmptySections:function(){this.$('.o_wslides_slide_list_category').each(function(){var $categoryHeader=$(this).find('.o_wslides_slide_list_category_header');var categorySlideCount=$(this).find('.o_wslides_slides_list_slide:not(.o_not_editable)').length;var $emptyFlagContainer=$categoryHeader.find('.o_wslides_slides_list_drag').first();var $emptyFlag=$emptyFlagContainer.find('small');if(categorySlideCount===0&&$emptyFlag.length===0){$emptyFlagContainer.append($('<small>',{'class':"ml-1 text-muted font-weight-bold",text:_t("(empty)")}));}else if(categorySlideCount>0&&$emptyFlag.length>0){$emptyFlag.remove();}});},_getSlides:function(){var categories=[];this.$('.o_wslides_js_list_item').each(function(){categories.push(parseInt($(this).data('slideId')));});return categories;},_reorderSlides:function(){var self=this;self._rpc({route:'/web/dataset/resequence',params:{model:"slide.slide",ids:self._getSlides()}}).then(function(res){self._checkForEmptySections();});},_updateHref:function(){this.$(".o_wslides_js_slides_list_slide_link").each(function(){var href=$(this).attr('href');var operator=href.indexOf('?')!==-1?'&':'?';$(this).attr('href',href+operator+"fullscreen=1");});}});__exports[Symbol.for("default")]=publicWidget.registry.websiteSlidesCourseSlidesList;return __exports;});;

/* /website_slides/static/src/js/slides_course_fullscreen_player.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_course_fullscreen_player',async function(require){'use strict';let __exports={};const publicWidget=require('web.public.widget');const{qweb:QWeb,_t}=require('web.core');const config=require('web.config');const session=require('web.session');const{Quiz}=require('@website_slides/js/slides_course_quiz');const Dialog=require('web.Dialog');require('@website_slides/js/slides_course_join');var findSlide=function(slideList,matcher){var slideMatch=_.matcher(matcher);return _.find(slideList,slideMatch);};var VideoPlayer=publicWidget.Widget.extend({template:'website.slides.fullscreen.video',youtubeUrl:'https://www.youtube.com/iframe_api',init:function(parent,slide){this.slide=slide;return this._super.apply(this,arguments);},start:function(){var self=this;return Promise.all([this._super.apply(this,arguments),this._loadYoutubeAPI()]).then(function(){self._setupYoutubePlayer();});},_loadYoutubeAPI:function(){var self=this;var prom=new Promise(function(resolve,reject){if($(document).find('script[src="'+self.youtubeUrl+'"]').length===0){var $youtubeElement=$('<script/>',{src:self.youtubeUrl});$(document.head).append($youtubeElement);window.onYouTubeIframeAPIReady=function(){resolve();};}else{resolve();}});return prom;},_setupYoutubePlayer:function(){this.player=new YT.Player('youtube-player'+this.slide.id,{playerVars:{'autoplay':1,'origin':window.location.origin},events:{'onStateChange':this._onPlayerStateChange.bind(this)}});},_onPlayerStateChange:function(event){var self=this;if(self.slide.completed){return;}
if(event.data!==YT.PlayerState.ENDED){if(!event.target.getCurrentTime){return;}
if(self.tid){clearInterval(self.tid);}
self.currentVideoTime=event.target.getCurrentTime();self.totalVideoTime=event.target.getDuration();self.tid=setInterval(function(){self.currentVideoTime+=1;if(self.totalVideoTime&&self.currentVideoTime>self.totalVideoTime-30){clearInterval(self.tid);if(!self.slide.hasQuestion&&!self.slide.completed){self.trigger_up('slide_to_complete',self.slide);}}},1000);}else{if(self.tid){clearInterval(self.tid);}
this.player=undefined;if(this.slide.hasNext){this.trigger_up('slide_go_next');}}},});var Sidebar=publicWidget.Widget.extend({events:{"click .o_wslides_fs_sidebar_list_item":'_onClickTab',},init:function(parent,slideList,defaultSlide){var result=this._super.apply(this,arguments);this.slideEntries=slideList;this.set('slideEntry',defaultSlide);return result;},start:function(){var self=this;this.on('change:slideEntry',this,this._onChangeCurrentSlide);return this._super.apply(this,arguments).then(function(){$(document).keydown(self._onKeyDown.bind(self));});},destroy:function(){$(document).unbind('keydown',this._onKeyDown.bind(this));return this._super.apply(this,arguments);},goNext:function(){var currentIndex=this._getCurrentIndex();if(currentIndex<this.slideEntries.length-1){this.set('slideEntry',this.slideEntries[currentIndex+1]);}},goPrevious:function(){var currentIndex=this._getCurrentIndex();if(currentIndex>=1){this.set('slideEntry',this.slideEntries[currentIndex-1]);}},setSlideCompleted:function(slideId){var $elem=this.$('.fa-circle-thin[data-slide-id="'+slideId+'"]');$elem.removeClass('fa-circle-thin').addClass('fa-check text-success o_wslides_slide_completed');},updateProgressbar:function(channelCompletion){var completion=Math.min(100,channelCompletion);this.$('.progress-bar').css('width',completion+"%");this.$('.o_wslides_progress_percentage').text(completion);},_getCurrentIndex:function(){var slide=this.get('slideEntry');var currentIndex=_.findIndex(this.slideEntries,function(entry){return entry.id===slide.id&&entry.isQuiz===slide.isQuiz;});return currentIndex;},_onClickMiniQuiz:function(ev){var slideID=parseInt($(ev.currentTarget).data().slide_id);this.set('slideEntry',{slideID:slideID,isMiniQuiz:true});this.trigger_up('change_slide',this.get('slideEntry'));},_onClickTab:function(ev){ev.stopPropagation();var $elem=$(ev.currentTarget);if($elem.data('canAccess')==='True'){var isQuiz=$elem.data('isQuiz');var slideID=parseInt($elem.data('id'));var slide=findSlide(this.slideEntries,{id:slideID,isQuiz:isQuiz});this.set('slideEntry',slide);}},_onChangeCurrentSlide:function(){var slide=this.get('slideEntry');this.$('.o_wslides_fs_sidebar_list_item.active').removeClass('active');var selector='.o_wslides_fs_sidebar_list_item[data-id='+slide.id+'][data-is-quiz!="1"]';this.$(selector).addClass('active');this.trigger_up('change_slide',this.get('slideEntry'));},_onKeyDown:function(ev){switch(ev.key){case"ArrowLeft":this.goPrevious();break;case"ArrowRight":this.goNext();break;}},});var ShareDialog=Dialog.extend({template:'website.slide.share.modal',events:{'click .o_wslides_js_share_email button':'_onShareByEmailClick','click a.o_wslides_js_social_share':'_onSlidesSocialShare','click .o_clipboard_button':'_onShareLinkCopy',},init:function(parent,options,slide){options=_.defaults(options||{},{title:"Share",buttons:[{text:"Cancel",close:true}],size:'medium',});this._super(parent,options);this.slide=slide;this.session=session;},_onShareByEmailClick:function(){var form=this.$('.o_wslides_js_share_email');var input=form.find('input');var slideID=form.find('button').data('slide-id');if(input.val()&&input[0].checkValidity()){form.removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');this._rpc({route:'/slides/slide/send_share_email',params:{slide_id:slideID,email:input.val(),fullscreen:true},}).then(function(){form.html('<div class="alert alert-info" role="alert">'+_t('<strong>Thank you!</strong> Mail has been sent.')+'</div>');});}else{form.addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');input.focus();}},_onSlidesSocialShare:function(ev){ev.preventDefault();var popUpURL=$(ev.currentTarget).attr('href');window.open(popUpURL,'Share Dialog','width=626,height=436');},_onShareLinkCopy:function(ev){ev.preventDefault();var $clipboardBtn=this.$('.o_clipboard_button');$clipboardBtn.tooltip({title:"Copied !",trigger:"manual",placement:"bottom"});var self=this;var clipboard=new ClipboardJS('.o_clipboard_button',{target:function(){return self.$('.o_wslides_js_share_link')[0];},container:this.el});clipboard.on('success',function(){clipboard.destroy();$clipboardBtn.tooltip('show');_.delay(function(){$clipboardBtn.tooltip("hide");},800);});clipboard.on('error',function(e){clipboard.destroy();})},});var ShareButton=publicWidget.Widget.extend({events:{"click .o_wslides_fs_share":'_onClickShareSlide'},init:function(el,slide){var result=this._super.apply(this,arguments);this.slide=slide;return result;},_openDialog:function(){return new ShareDialog(this,{},this.slide).open();},_onClickShareSlide:function(ev){ev.preventDefault();this._openDialog();},_onChangeSlide:function(currentSlide){this.slide=currentSlide;}});var Fullscreen=publicWidget.Widget.extend({events:{"click .o_wslides_fs_toggle_sidebar":'_onClickToggleSidebar',},custom_events:{'change_slide':'_onChangeSlideRequest','slide_to_complete':'_onSlideToComplete','slide_completed':'_onSlideCompleted','slide_go_next':'_onSlideGoToNext',},init:function(parent,slides,defaultSlideId,channelData){var result=this._super.apply(this,arguments);this.initialSlideID=defaultSlideId;this.slides=this._preprocessSlideData(slides);this.channel=channelData;var slide;var urlParams=$.deparam.querystring();if(defaultSlideId){slide=findSlide(this.slides,{id:defaultSlideId,isQuiz:urlParams.quiz==="1"});}else{slide=this.slides[0];}
this.set('slide',slide);this.sidebar=new Sidebar(this,this.slides,slide);this.shareButton=new ShareButton(this,slide);return result;},start:function(){var self=this;this.on('change:slide',this,this._onChangeSlide);this._toggleSidebar();return this._super.apply(this,arguments).then(function(){return self._onChangeSlide();});},attachTo:function(){var defs=[this._super.apply(this,arguments)];defs.push(this.sidebar.attachTo(this.$('.o_wslides_fs_sidebar')));defs.push(this.shareButton.attachTo(this.$('.o_wslides_slide_fs_header')));return $.when.apply($,defs);},_fetchHtmlContent:function(){var self=this;var currentSlide=this.get('slide');return self._rpc({route:"/slides/slide/get_html_content",params:{'slide_id':currentSlide.id}}).then(function(data){if(data.html_content){currentSlide.htmlContent=data.html_content;}});},_fetchSlideContent:function(){var slide=this.get('slide');if(slide.type==='webpage'&&!slide.isQuiz){return this._fetchHtmlContent();}
return Promise.resolve();},_markAsCompleted:function(slideId,completion){var slide=findSlide(this.slides,{id:slideId});slide.completed=true;this.sidebar.setSlideCompleted(slide.id);this.sidebar.updateProgressbar(completion);},_preprocessSlideData:function(slidesDataList){slidesDataList.forEach(function(slideData,index){slideData.hasNext=index<slidesDataList.length-1;if(slideData.type==='video'){slideData.embedCode=$(slideData.embedCode).attr('src')||"";var separator=slideData.embedCode.indexOf("?")!==-1?"&":"?";var scheme=slideData.embedCode.indexOf('//')===0?'https:':'';var params={rel:0,enablejsapi:1,origin:window.location.origin};if(slideData.embedCode.indexOf("//drive.google.com")===-1){params.autoplay=1;}
slideData.embedUrl=slideData.embedCode?scheme+slideData.embedCode+separator+$.param(params):"";}else if(slideData.type==='infographic'){slideData.embedUrl=_.str.sprintf('/web/image/slide.slide/%s/image_1024',slideData.id);}else if(_.contains(['document','presentation'],slideData.type)){slideData.embedUrl=$(slideData.embedCode).attr('src');}
slideData.isQuiz=!!slideData.isQuiz;slideData.hasQuestion=!!slideData.hasQuestion;slideData._autoSetDone=_.contains(['infographic','presentation','document','webpage'],slideData.type)&&!slideData.hasQuestion;});return slidesDataList;},_pushUrlState:function(){var urlParts=window.location.pathname.split('/');urlParts[urlParts.length-1]=this.get('slide').slug;var url=urlParts.join('/');this.$('.o_wslides_fs_exit_fullscreen').attr('href',url);var params={'fullscreen':1};if(this.get('slide').isQuiz){params.quiz=1;}
var fullscreenUrl=_.str.sprintf('%s?%s',url,$.param(params));history.pushState(null,'',fullscreenUrl);},_renderSlide:function(){var slide=this.get('slide');var $content=this.$('.o_wslides_fs_content');$content.empty();if(slide.type==='quiz'||slide.isQuiz){$content.addClass('bg-white');var QuizWidget=new Quiz(this,slide,this.channel);return QuizWidget.appendTo($content);}
if(_.contains(['document','presentation','infographic'],slide.type)){$content.html(QWeb.render('website.slides.fullscreen.content',{widget:this}));}else if(slide.type==='video'){this.videoPlayer=new VideoPlayer(this,slide);return this.videoPlayer.appendTo($content);}else if(slide.type==='webpage'){var $wpContainer=$('<div>').addClass('o_wslide_fs_webpage_content bg-white block w-100 overflow-auto');$(slide.htmlContent).appendTo($wpContainer);$content.append($wpContainer);this.trigger_up('widgets_start_request',{$target:$content,});}
return Promise.resolve();},_setCompleted:function(slideId){var self=this;var slide=findSlide(this.slides,{id:slideId});if(!slide.completed){return this._rpc({route:'/slides/slide/set_completed',params:{slide_id:slide.id,}}).then(function(data){self._markAsCompleted(slideId,data.channel_completion);return Promise.resolve();});}
return Promise.resolve();},_onChangeSlide:function(){var self=this;var slide=this.get('slide');self._pushUrlState();return this._fetchSlideContent().then(function(){var websiteName=document.title.split(" | ")[1];document.title=(websiteName)?slide.name+' | '+websiteName:slide.name;if(config.device.size_class<config.device.SIZES.MD){self._toggleSidebar();}
return self._renderSlide();}).then(function(){if(slide._autoSetDone&&!session.is_website_user){if(['document','presentation'].includes(slide.type)){self.el.querySelector('iframe.o_wslides_iframe_viewer').addEventListener('load',()=>self._setCompleted(slide.id));}else{return self._setCompleted(slide.id);}}});},_onChangeSlideRequest:function(ev){var slideData=ev.data;var newSlide=findSlide(this.slides,{id:slideData.id,isQuiz:slideData.isQuiz||false,});this.set('slide',newSlide);this.shareButton._onChangeSlide(newSlide);},_onSlideCompleted:function(ev){var slide=ev.data.slide;var completion=ev.data.completion;this._markAsCompleted(slide.id,completion);},_onSlideToComplete:function(ev){if(!session.is_website_user){var slideId=ev.data.id;this._setCompleted(slideId);}},_onSlideGoToNext:function(ev){this.sidebar.goNext();},_onClickToggleSidebar:function(ev){ev.preventDefault();this._toggleSidebar();},_toggleSidebar:function(){this.$('.o_wslides_fs_sidebar').toggleClass('o_wslides_fs_sidebar_hidden');this.$('.o_wslides_fs_toggle_sidebar').toggleClass('active');},});publicWidget.registry.websiteSlidesFullscreenPlayer=publicWidget.Widget.extend({selector:'.o_wslides_fs_main',xmlDependencies:['/website_slides/static/src/xml/website_slides_fullscreen.xml','/website_slides/static/src/xml/website_slides_share.xml'],start:function(){var self=this;var proms=[this._super.apply(this,arguments)];var fullscreen=new Fullscreen(this,this._getSlides(),this._getCurrentSlideID(),this._extractChannelData());proms.push(fullscreen.attachTo(".o_wslides_fs_main"));return Promise.all(proms).then(function(){$('#edit-page-menu a[data-action="edit"]').on('click',self._onWebEditorClick.bind(self));});},_onWebEditorClick:function(e){e.preventDefault();e.stopPropagation();window.location=`${window.location.pathname}?fullscreen=0&enable_editor=1`;},_extractChannelData:function(){return this.$el.data();},_getCurrentSlideID:function(){return parseInt(this.$('.o_wslides_fs_sidebar_list_item.active').data('id'));},_getSlides:function(){var $slides=this.$('.o_wslides_fs_sidebar_list_item[data-can-access="True"]');var slideList=[];$slides.each(function(){var slideData=$(this).data();slideList.push(slideData);});return slideList;},});__exports[Symbol.for("default")]=Fullscreen;return __exports;});;

/* /website_slides/static/src/js/slides_course_join.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_course_join',async function(require){'use strict';let __exports={};const core=require('web.core');const publicWidget=require('web.public.widget');var _t=core._t;var CourseJoinWidget=publicWidget.Widget.extend({template:'slide.course.join',xmlDependencies:['/website_slides/static/src/xml/slide_course_join.xml'],events:{'click .o_wslides_js_course_join_link':'_onClickJoin',},init:function(parent,options){this._super.apply(this,arguments);this.channel=options.channel;this.isMember=options.isMember;this.publicUser=options.publicUser;this.joinMessage=options.joinMessage||_t('Join Course'),this.beforeJoin=options.beforeJoin||Promise.resolve();this.afterJoin=options.afterJoin||function(){document.location.reload();};},_onClickJoin:function(ev){ev.preventDefault();if(this.channel.channelEnroll!=='invite'){if(this.publicUser){this.beforeJoin().then(this._redirectToLogin.bind(this));}else if(!this.isMember&&this.channel.channelEnroll==='public'){this.joinChannel(this.channel.channelId);}}},_redirectToLogin:function(){var url;if(this.channel.channelEnroll==='public'){url=window.location.pathname;if(document.location.href.indexOf("fullscreen")!==-1){url+='?fullscreen=1';}}else{url=`/slides/${this.channel.channelId}`;}
document.location=_.str.sprintf('/web/login?redirect=%s',encodeURIComponent(url));},_popoverAlert:function($el,message){$el.popover({trigger:'focus',placement:'bottom',container:'body',html:true,content:function(){return message;}}).popover('show');},joinChannel:function(channelId){var self=this;this._rpc({route:'/slides/channel/join',params:{channel_id:channelId,},}).then(function(data){if(!data.error){self.afterJoin();}else{if(data.error==='public_user'){var message=_t('Please <a href="/web/login?redirect=%s">login</a> to join this course');var signupAllowed=data.error_signup_allowed||false;if(signupAllowed){message=_t('Please <a href="/web/signup?redirect=%s">create an account</a> to join this course');}
self._popoverAlert(self.$el,_.str.sprintf(message,(document.URL)));}else if(data.error==='join_done'){self._popoverAlert(self.$el,_t('You have already joined this channel'));}else{self._popoverAlert(self.$el,_t('Unknown error'));}}});},});publicWidget.registry.websiteSlidesCourseJoin=publicWidget.Widget.extend({selector:'.o_wslides_js_course_join_link',start:function(){var self=this;var proms=[this._super.apply(this,arguments)];var data=self.$el.data();var options={channel:{channelEnroll:data.channelEnroll,channelId:data.channelId}};$('.o_wslides_js_course_join').each(function(){proms.push(new CourseJoinWidget(self,options).attachTo($(this)));});return Promise.all(proms);},});__exports[Symbol.for("default")]={courseJoinWidget:CourseJoinWidget,websiteSlidesCourseJoin:publicWidget.registry.websiteSlidesCourseJoin};return __exports;});;

/* /website_slides/static/src/js/slides_course_enroll_email.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_course_enroll_email',async function(require){'use strict';let __exports={};const{_t}=require('web.core');const Dialog=require('web.Dialog');const publicWidget=require('web.public.widget');var SlideEnrollDialog=Dialog.extend({template:'slide.course.join.request',init:function(parent,options,modalOptions){modalOptions=_.defaults(modalOptions||{},{title:_t('Request Access.'),size:'medium',buttons:[{text:_t('Yes'),classes:'btn-primary',click:this._onSendRequest.bind(this)},{text:_t('Cancel'),close:true}]});this.$element=options.$element;this.channelId=options.channelId;this._super(parent,modalOptions);},_onSendRequest:function(){var self=this;this._rpc({model:'slide.channel',method:'action_request_access',args:[self.channelId]}).then(function(result){if(result.error){self.$element.replaceWith('<div class="alert alert-danger" role="alert"><strong>'+result.error+'</strong></div>');}else if(result.done){self.$element.replaceWith('<div class="alert alert-success" role="alert"><strong>'+_t('Request sent !')+'</strong></div>');}else{self.$element.replaceWith('<div class="alert alert-danger" role="alert"><strong>'+_t('Unknown error, try again.')+'</strong></div>');}
self.close();});}});publicWidget.registry.websiteSlidesEnroll=publicWidget.Widget.extend({selector:'.o_wslides_js_channel_enroll',xmlDependencies:['/website_slides/static/src/xml/slide_course_join.xml'],events:{'click':'_onSendRequestClick',},_openDialog:function(channelId){new SlideEnrollDialog(this,{channelId:channelId,$element:this.$el}).open();},_onSendRequestClick:function(ev){ev.preventDefault();this._openDialog($(ev.currentTarget).data('channelId'));}});__exports[Symbol.for("default")]={slideEnrollDialog:SlideEnrollDialog,websiteSlidesEnroll:publicWidget.registry.websiteSlidesEnroll};return __exports;});;

/* /website_slides/static/src/js/slides_course_quiz.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_course_quiz',async function(require){'use strict';let __exports={};const publicWidget=require('web.public.widget');const Dialog=require('web.Dialog');const{qweb:QWeb,_t}=require('web.core');const session=require('web.session');const{Markup}=require('web.utils');const CourseJoin=require('@website_slides/js/slides_course_join')[Symbol.for("default")];const QuestionFormWidget=require('@website_slides/js/slides_course_quiz_question_form')[Symbol.for("default")];const SlideQuizFinishModal=require('@website_slides/js/slides_course_quiz_finish')[Symbol.for("default")];const SlideEnroll=require('@website_slides/js/slides_course_enroll_email')[Symbol.for("default")];const CourseJoinWidget=CourseJoin.courseJoinWidget;const SlideEnrollDialog=SlideEnroll.slideEnrollDialog;var Quiz=publicWidget.Widget.extend({template:'slide.slide.quiz',xmlDependencies:['/website_slides/static/src/xml/slide_quiz.xml','/website_slides/static/src/xml/slide_course_join.xml'],events:{"click .o_wslides_quiz_answer":'_onAnswerClick',"click .o_wslides_js_lesson_quiz_submit":'_submitQuiz',"click .o_wslides_quiz_modal_btn":'_onClickNext',"click .o_wslides_quiz_continue":'_onClickNext',"click .o_wslides_js_lesson_quiz_reset":'_onClickReset','click .o_wslides_js_quiz_add':'_onCreateQuizClick','click .o_wslides_js_quiz_edit_question':'_onEditQuestionClick','click .o_wslides_js_quiz_delete_question':'_onDeleteQuestionClick','click .o_wslides_js_channel_enroll':'_onSendRequestToResponsibleClick',},custom_events:{display_created_question:'_displayCreatedQuestion',display_updated_question:'_displayUpdatedQuestion',reset_display:'_resetDisplay',delete_question:'_deleteQuestion',},init:function(parent,slide_data,channel_data,quiz_data){this._super.apply(this,arguments);this.slide=_.defaults(slide_data,{id:0,name:'',hasNext:false,completed:false,isMember:false,});this.quiz=quiz_data||false;if(this.quiz){this.quiz.questionsCount=quiz_data.questions.length;}
this.isMember=slide_data.isMember||false;this.publicUser=session.is_website_user;this.userId=session.user_id;this.redirectURL=encodeURIComponent(document.URL);this.channel=channel_data;},willStart:function(){var defs=[this._super.apply(this,arguments)];if(!this.quiz){defs.push(this._fetchQuiz());}
return Promise.all(defs);},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self._renderValidationInfo();self._bindSortable();self._checkLocationHref();if(!self.isMember){self._renderJoinWidget();}else if(self.slide.sessionAnswers){self._applySessionAnswers();self._submitQuiz();}});},_alertShow:function(alertCode){var message=_t('There was an error validating this quiz.');if(alertCode==='slide_quiz_incomplete'){message=_t('All questions must be answered !');}else if(alertCode==='slide_quiz_done'){message=_t('This quiz is already done. Retaking it is not possible.');}else if(alertCode==='public_user'){message=_t('You must be logged to submit the quiz.');}
this.displayNotification({type:'warning',message:message,sticky:true});},_bindSortable:function(){this.$el.sortable({handle:'.o_wslides_js_quiz_sequence_handler',items:'.o_wslides_js_lesson_quiz_question',stop:this._reorderQuestions.bind(this),placeholder:'o_wslides_js_quiz_sequence_highlight position-relative my-3'});},_getQuestionsIds:function(){return this.$('.o_wslides_js_lesson_quiz_question').map(function(){return $(this).data('question-id');}).get();},_modifyQuestionsSequence:function(){this.$('.o_wslides_js_lesson_quiz_question').each(function(index,question){$(question).find('span.o_wslides_quiz_question_sequence').text(index+1);});},_reorderQuestions:function(){this._rpc({route:'/web/dataset/resequence',params:{model:"slide.question",ids:this._getQuestionsIds()}}).then(this._modifyQuestionsSequence.bind(this))},_fetchQuiz:function(){var self=this;return self._rpc({route:'/slides/slide/quiz/get',params:{'slide_id':self.slide.id,}}).then(function(quiz_data){self.quiz={questions:quiz_data.slide_questions||[],questionsCount:quiz_data.slide_questions.length,quizAttemptsCount:quiz_data.quiz_attempts_count||0,quizKarmaGain:quiz_data.quiz_karma_gain||0,quizKarmaWon:quiz_data.quiz_karma_won||0,};});},_hideEditOptions:function(){this.$('.o_wslides_js_lesson_quiz_question .o_wslides_js_quiz_edit_del,'+' .o_wslides_js_lesson_quiz_question .o_wslides_js_quiz_sequence_handler').addClass('d-none');},_disableAnswers:function(){var self=this;this.$('.o_wslides_js_lesson_quiz_question').addClass('completed-disabled');this.$('input[type=radio]').each(function(){$(this).prop('disabled',self.slide.completed);});},_renderAnswersHighlightingAndComments:function(){var self=this;this.$('.o_wslides_js_lesson_quiz_question').each(function(){var $question=$(this);var questionId=$question.data('questionId');var isCorrect=self.quiz.answers[questionId].is_correct;$question.find('a.o_wslides_quiz_answer').each(function(){var $answer=$(this);$answer.find('i.fa').addClass('d-none');if($answer.find('input[type=radio]')[0].checked){if(isCorrect){$answer.removeClass('list-group-item-danger').addClass('list-group-item-success');$answer.find('i.fa-check-circle').removeClass('d-none');}else{$answer.removeClass('list-group-item-success').addClass('list-group-item-danger');$answer.find('i.fa-times-circle').removeClass('d-none');$answer.find('label input').prop('checked',false);}}else{$answer.removeClass('list-group-item-danger list-group-item-success');$answer.find('i.fa-circle').removeClass('d-none');}});var comment=self.quiz.answers[questionId].comment;if(comment){$question.find('.o_wslides_quiz_answer_info').removeClass('d-none');$question.find('.o_wslides_quiz_answer_comment').text(comment);}});},_applySessionAnswers:function(){if(!this.slide.sessionAnswers||this.slide.sessionAnswers.length===0){return;}
var self=this;this.$('.o_wslides_js_lesson_quiz_question').each(function(){var $question=$(this);$question.find('a.o_wslides_quiz_answer').each(function(){var $answer=$(this);if(!$answer.find('input[type=radio]')[0].checked&&_.contains(self.slide.sessionAnswers,$answer.data('answerId'))){$answer.find('input[type=radio]').prop('checked',true);}});});this.slide.sessionAnswers=false;},_renderValidationInfo:function(){var $validationElem=this.$('.o_wslides_js_lesson_quiz_validation');$validationElem.html(QWeb.render('slide.slide.quiz.validation',{'widget':this}));},_renderJoinWidget:function(){var $widgetLocation=this.$(".o_wslides_join_course_widget");if($widgetLocation.length!==0){var courseJoinWidget=new CourseJoinWidget(this,{isQuiz:true,channel:this.channel,isMember:this.isMember,publicUser:this.publicUser,beforeJoin:this._saveQuizAnswersToSession.bind(this),afterJoin:this._afterJoin.bind(this),joinMessage:_t('Join & Submit'),});courseJoinWidget.appendTo($widgetLocation);if(!this.publicUser&&courseJoinWidget.channel.channelEnroll==='public'&&this.slide.sessionAnswers){courseJoinWidget.joinChannel(this.channel.channelId);}}},_getQuizAnswers:function(){return this.$('input[type=radio]:checked').map(function(index,element){return parseInt($(element).val());}).get();},async _submitQuiz(){const data=await this._rpc({route:'/slides/slide/quiz/submit',params:{slide_id:this.slide.id,answer_ids:this._getQuizAnswers(),}});if(data.error){this._alertShow(data.error);return;}
Object.assign(this.quiz,data);const{rankProgress,completed,channel_completion:completion}=this.quiz;if('description'in rankProgress){rankProgress['description']=Markup(rankProgress['description']||'');rankProgress['previous_rank']['motivational']=Markup(rankProgress['previous_rank']['motivational']||'');}
if(completed){this._disableAnswers();new SlideQuizFinishModal(this,{quiz:this.quiz,hasNext:this.slide.hasNext,userId:this.userId}).open();this.slide.completed=true;this.trigger_up('slide_completed',{slide:this.slide,completion});}
this._hideEditOptions();this._renderAnswersHighlightingAndComments();this._renderValidationInfo();},_getQuestionDetails:function($elem){var answers=[];$elem.find('.o_wslides_quiz_answer').each(function(){answers.push({'id':$(this).data('answerId'),'text_value':$(this).data('text'),'is_correct':$(this).data('isCorrect'),'comment':$(this).data('comment')});});return{'id':$elem.data('questionId'),'sequence':parseInt($elem.find('.o_wslides_quiz_question_sequence').text()),'text':$elem.data('title'),'answers':answers,};},_checkLocationHref:function(){if(window.location.href.includes('quiz_quick_create')){this._onCreateQuizClick();}},_onAnswerClick:function(ev){ev.preventDefault();if(!this.slide.completed){$(ev.currentTarget).find('input[type=radio]').prop('checked',true);}},_onClickNext:function(ev){if(this.slide.hasNext){this.trigger_up('slide_go_next');}},_onClickReset:function(){this._rpc({route:'/slides/slide/quiz/reset',params:{slide_id:this.slide.id}}).then(function(){window.location.reload();});},_saveQuizAnswersToSession:function(){var quizAnswers=this._getQuizAnswers();if(quizAnswers.length===this.quiz.questions.length){return this._rpc({route:'/slides/slide/quiz/save_to_session',params:{'quiz_answers':{'slide_id':this.slide.id,'slide_answers':quizAnswers},}});}else{this._alertShow('slide_quiz_incomplete');return Promise.reject('The quiz is incomplete');}},_afterJoin:function(){this.isMember=true;this._renderValidationInfo();this._applySessionAnswers();this._submitQuiz();},_onCreateQuizClick:function(){var $elem=this.$('.o_wslides_js_lesson_quiz_new_question');this.$('.o_wslides_js_quiz_add').addClass('d-none');new QuestionFormWidget(this,{slideId:this.slide.id,sequence:this.quiz.questionsCount+1}).appendTo($elem);},_onEditQuestionClick:function(ev){var $editedQuestion=$(ev.currentTarget).closest('.o_wslides_js_lesson_quiz_question');var question=this._getQuestionDetails($editedQuestion);new QuestionFormWidget(this,{editedQuestion:$editedQuestion,question:question,slideId:this.slide.id,sequence:question.sequence,update:true}).insertAfter($editedQuestion);$editedQuestion.hide();},_onDeleteQuestionClick:function(ev){var question=$(ev.currentTarget).closest('.o_wslides_js_lesson_quiz_question');new ConfirmationDialog(this,{questionId:question.data('questionId'),questionTitle:question.data('title')}).open();},_onSendRequestToResponsibleClick:function(ev){ev.preventDefault();var channelId=$(ev.currentTarget).data('channelId');new SlideEnrollDialog(this,{channelId:channelId,$element:$(ev.currentTarget).closest('.alert.alert-info')}).open();},_displayCreatedQuestion:function(event){var $lastQuestion=this.$('.o_wslides_js_lesson_quiz_question:last');if($lastQuestion.length!==0){$lastQuestion.after(event.data.newQuestionRenderedTemplate);}else{this.$el.prepend(event.data.newQuestionRenderedTemplate);}
this.quiz.questionsCount++;event.data.questionFormWidget.destroy();this.$('.o_wslides_js_quiz_add_question').removeClass('d-none');},_displayUpdatedQuestion:function(event){var questionFormWidget=event.data.questionFormWidget;event.data.$editedQuestion.replaceWith(event.data.newQuestionRenderedTemplate);questionFormWidget.destroy();},_resetDisplay:function(event){var questionFormWidget=event.data.questionFormWidget;if(questionFormWidget.update){questionFormWidget.$editedQuestion.show();}else{if(this.quiz.questionsCount>0){this.$('.o_wslides_js_quiz_add_question').removeClass('d-none');}else{this.$('.o_wslides_js_quiz_add_quiz').removeClass('d-none');}}
questionFormWidget.destroy();},_deleteQuestion:function(event){var questionId=event.data.questionId;this.$('.o_wslides_js_lesson_quiz_question[data-question-id='+questionId+']').remove();this.quiz.questionsCount--;this._reorderQuestions();var $newQuestionSequence=this.$('.o_wslides_js_lesson_quiz_new_question .o_wslides_quiz_question_sequence');$newQuestionSequence.text(parseInt($newQuestionSequence.text())-1);if(this.quiz.questionsCount===0&&!this.$('.o_wsildes_quiz_question_input').length){this.$('.o_wslides_js_quiz_add_quiz').removeClass('d-none');this.$('.o_wslides_js_quiz_add_question').addClass('d-none');this.$('.o_wslides_js_lesson_quiz_validation').addClass('d-none');}},});var ConfirmationDialog=Dialog.extend({template:'slide.quiz.confirm.deletion',xmlDependencies:Dialog.prototype.xmlDependencies.concat(['/website_slides/static/src/xml/slide_quiz_create.xml']),init:function(parent,options){options=_.defaults(options||{},{title:_t('Delete Question'),buttons:[{text:_t('Yes'),classes:'btn-primary',click:this._onConfirmClick},{text:_t('No'),close:true}],size:'medium'});this.questionId=options.questionId;this.questionTitle=options.questionTitle;this._super.apply(this,arguments);},_onConfirmClick:function(){var self=this;this._rpc({model:'slide.question',method:'unlink',args:[this.questionId],}).then(function(){self.trigger_up('delete_question',{questionId:self.questionId});self.close();});}});publicWidget.registry.websiteSlidesQuizNoFullscreen=publicWidget.Widget.extend({selector:'.o_wslides_lesson_main',custom_events:{slide_go_next:'_onQuizNextSlide',slide_completed:'_onQuizCompleted',},start:function(){var self=this;this.quizWidgets=[];var defs=[this._super.apply(this,arguments)];this.$('.o_wslides_js_lesson_quiz').each(function(){var slideData=$(this).data();var channelData=self._extractChannelData(slideData);slideData.quizData={questions:self._extractQuestionsAndAnswers(),sessionAnswers:slideData.sessionAnswers||[],quizKarmaMax:slideData.quizKarmaMax,quizKarmaWon:slideData.quizKarmaWon||0,quizKarmaGain:slideData.quizKarmaGain,quizAttemptsCount:slideData.quizAttemptsCount,};defs.push(new Quiz(self,slideData,channelData,slideData.quizData).attachTo($(this)));});return Promise.all(defs);},_onQuizCompleted:function(ev){var slide=ev.data.slide;var completion=ev.data.completion;this.$('#o_wslides_lesson_aside_slide_check_'+slide.id).addClass('text-success fa-check').removeClass('text-600 fa-circle-o');$('.o_wslides_lesson_header .progress-bar').css('width',completion+"%");$('.o_wslides_lesson_header .progress span').text(_.str.sprintf("%s %%",completion));},_onQuizNextSlide:function(){var url=this.$('.o_wslides_js_lesson_quiz').data('next-slide-url');window.location.replace(url);},_extractChannelData:function(slideData){return{channelId:slideData.channelId,channelEnroll:slideData.channelEnroll,channelRequestedAccess:slideData.channelRequestedAccess||false,signupAllowed:slideData.signupAllowed};},_extractQuestionsAndAnswers:function(){var questions=[];this.$('.o_wslides_js_lesson_quiz_question').each(function(){var $question=$(this);var answers=[];$question.find('.o_wslides_quiz_answer').each(function(){var $answer=$(this);answers.push({id:$answer.data('answerId'),text:$answer.data('text'),});});questions.push({id:$question.data('questionId'),title:$question.data('title'),answer_ids:answers,});});return questions;},});var Quiz=__exports.Quiz=Quiz;var ConfirmationDialog=__exports.ConfirmationDialog=ConfirmationDialog;const websiteSlidesQuizNoFullscree=__exports.websiteSlidesQuizNoFullscree=publicWidget.registry.websiteSlidesQuizNoFullscreen;return __exports;});;

/* /website_slides/static/src/js/slides_course_quiz_question_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_course_quiz_question_form',async function(require){'use strict';let __exports={};const publicWidget=require('web.public.widget');const core=require('web.core');var QWeb=core.qweb;var _t=core._t;var QuestionFormWidget=publicWidget.Widget.extend({template:'slide.quiz.question.input',xmlDependencies:['/website_slides/static/src/xml/slide_quiz_create.xml'],events:{'click .o_wslides_js_quiz_validate_question':'_validateQuestion','click .o_wslides_js_quiz_cancel_question':'_cancelValidation','click .o_wslides_js_quiz_comment_answer':'_toggleAnswerLineComment','click .o_wslides_js_quiz_add_answer':'_addAnswerLine','click .o_wslides_js_quiz_remove_answer':'_removeAnswerLine','click .o_wslides_js_quiz_remove_answer_comment':'_removeAnswerLineComment','change .o_wslides_js_quiz_answer_comment > input[type=text]':'_onCommentChanged'},init:function(parent,options){this.$editedQuestion=options.editedQuestion;this.question=options.question||{};this.update=options.update;this.sequence=options.sequence;this.slideId=options.slideId;this._super.apply(this,arguments);},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self.$('.o_wslides_quiz_question input').focus();});},_onCommentChanged:function(event){var input=event.currentTarget;var commentIcon=$(input).closest('.o_wslides_js_quiz_answer').find('.o_wslides_js_quiz_comment_answer');if(input.value.trim()!==''){commentIcon.addClass('text-primary');commentIcon.removeClass('text-muted');}else{commentIcon.addClass('text-muted');commentIcon.removeClass('text-primary');}},_toggleAnswerLineComment:function(ev){var commentLine=$(ev.currentTarget).closest('.o_wslides_js_quiz_answer').find('.o_wslides_js_quiz_answer_comment').toggleClass('d-none');commentLine.find('input[type=text]').focus();},_addAnswerLine:function(ev){$(ev.currentTarget).closest('.o_wslides_js_quiz_answer').after(QWeb.render('slide.quiz.answer.line'));},_removeAnswerLine:function(ev){if(this.$('.o_wslides_js_quiz_answer').length>1){$(ev.currentTarget).closest('.o_wslides_js_quiz_answer').remove();}},_removeAnswerLineComment:function(ev){var commentLine=$(ev.currentTarget).closest('.o_wslides_js_quiz_answer_comment').addClass('d-none');commentLine.find('input[type=text]').val('').change();},_validateQuestion:function(ev){this._createOrUpdateQuestion({update:$(ev.currentTarget).hasClass('o_wslides_js_quiz_update'),});},_cancelValidation:function(){this.trigger_up('reset_display',{questionFormWidget:this,});},_createOrUpdateQuestion:function(options){var self=this;var $form=this.$('form');if(this._isValidForm($form)){var values=this._serializeForm($form);this._rpc({route:'/slides/slide/quiz/question_add_or_update',params:values}).then(function(renderedQuestion){if(options.update){self.trigger_up('display_updated_question',{newQuestionRenderedTemplate:renderedQuestion,$editedQuestion:self.$editedQuestion,questionFormWidget:self,});}else{self.trigger_up('display_created_question',{newQuestionRenderedTemplate:renderedQuestion,questionFormWidget:self});}});}else{this.displayNotification({type:'warning',message:_t('Please fill in the question'),sticky:true});this.$('.o_wslides_quiz_question input').focus();}},_isValidForm:function($form){return $form.find('.o_wslides_quiz_question input[type=text]').val().trim()!=="";},_serializeForm:function($form){var answers=[];var sequence=1;$form.find('.o_wslides_js_quiz_answer').each(function(){var value=$(this).find('.o_wslides_js_quiz_answer_value').val();if(value.trim()!==""){var answer={'sequence':sequence++,'text_value':value,'is_correct':$(this).find('input[type=radio]').prop('checked')===true,'comment':$(this).find('.o_wslides_js_quiz_answer_comment > input[type=text]').val().trim()};answers.push(answer);}});return{'existing_question_id':this.$el.data('id'),'sequence':this.sequence,'question':$form.find('.o_wslides_quiz_question input[type=text]').val(),'slide_id':this.slideId,'answer_ids':answers};},});__exports[Symbol.for("default")]=QuestionFormWidget;return __exports;});;

/* /website_slides/static/src/js/slides_course_quiz_finish.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_course_quiz_finish',async function(require){'use strict';let __exports={};const Dialog=require('web.Dialog');const{_t}=require('web.core');var SlideQuizFinishModal=Dialog.extend({template:'slide.slide.quiz.finish',events:{"click .o_wslides_quiz_modal_btn":'_onClickNext',},init:function(parent,options){var self=this;this.quiz=options.quiz;this.hasNext=options.hasNext;this.userId=options.userId;options=_.defaults(options||{},{size:'medium',dialogClass:'d-flex p-0',technical:false,renderHeader:false,renderFooter:false});this._super.apply(this,arguments);this.opened(function(){self._animateProgressBar();self._animateText();})},start:function(){var self=this;this._super.apply(this,arguments).then(function(){self.$modal.addClass('o_wslides_quiz_modal pt-5');self.$modal.find('.modal-dialog').addClass('mt-5');self.$modal.find('.modal-content').addClass('shadow-lg');});},_onClickNext:function(){this.trigger_up('slide_go_next');this.destroy();},_animateProgressBar:function(){var self=this;this.$('[data-toggle="tooltip"]').tooltip({trigger:'manual',container:'.progress-bar-tooltip',}).tooltip('show');this.$('.tooltip-inner').prop('karma',this.quiz.rankProgress.previous_rank.karma).animate({karma:this.quiz.rankProgress.new_rank.karma},{duration:this.quiz.rankProgress.level_up?1700:800,step:function(newKarma){self.$('.tooltip-inner').text(Math.ceil(newKarma));self.$('[data-toggle="tooltip"]').tooltip('update');}});var $progressBar=this.$('.progress-bar');if(this.quiz.rankProgress.level_up){this.$('.o_wslides_quiz_modal_title').text(_t('Level up!'));$progressBar.css('width','100%');_.delay(function(){self.$('.o_wslides_quiz_modal_rank_lower_bound').text(self.quiz.rankProgress.new_rank.lower_bound);self.$('.o_wslides_quiz_modal_rank_upper_bound').text(self.quiz.rankProgress.new_rank.upper_bound||"");_.delay(function(){$progressBar.addClass('no-transition').width('0%');},1);_.delay(function(){$progressBar.removeClass('no-transition').width(self.quiz.rankProgress.new_rank.progress+'%');},100);},800);}else{$progressBar.css('width',this.quiz.rankProgress.new_rank.progress+'%');}},_animateText:function(){var self=this;_.delay(function(){self.$('h4.o_wslides_quiz_modal_xp_gained').addClass('show in');self.$('.o_wslides_quiz_modal_dismiss').removeClass('d-none');},800);if(this.quiz.rankProgress.level_up){_.delay(function(){self.$('.o_wslides_quiz_modal_rank_motivational').addClass('fade');_.delay(function(){self.$('.o_wslides_quiz_modal_rank_motivational').html(self.quiz.rankProgress.last_rank?self.quiz.rankProgress.description:self.quiz.rankProgress.new_rank.motivational);self.$('.o_wslides_quiz_modal_rank_motivational').addClass('show in');},800);},800);}},});__exports[Symbol.for("default")]=SlideQuizFinishModal;return __exports;});;

/* /website_slides/static/src/js/slides_course_tag_add.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_course_tag_add',async function(require){'use strict';let __exports={};const{_t}=require('web.core');const Dialog=require('web.Dialog');const publicWidget=require('web.public.widget');var TagCourseDialog=Dialog.extend({template:'website.slides.tag.add',events:_.extend({},Dialog.prototype.events,{'change input#tag_id':'_onChangeTag',}),init:function(parent,options){options=_.defaults(options||{},{title:_t("Add a tag"),size:'medium',buttons:[{text:_t("Add"),classes:'btn-primary',click:this._onClickFormSubmit.bind(this)},{text:_t("Discard"),click:this._onClickClose.bind(this)}]});this.channelID=parseInt(options.channelId,10);this.tagIds=options.channelTagIds||[];this.defaultTag=options.defaultTag;this._super(parent,options);},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self._bindSelect2Dropdown();self._hideTagGroup();if(self.defaultTag){self._setDefaultSelection();}});},_bindSelect2Dropdown:function(){var self=this;this.$('#tag_id').select2(this._select2Wrapper(_t('Tag'),function(){return self._rpc({route:'/slides/channel/tag/search_read',params:{fields:['name'],domain:[['id','not in',self.tagIds],['color','!=',0]],}});}));this.$('#tag_group_id').select2(this._select2Wrapper(_t('Tag Group (required for new tags)'),function(){return self._rpc({route:'/slides/channel/tag/group/search_read',params:{fields:['name'],domain:[],}});}));},_select2Wrapper:function(tag,fetchFNC,nameKey){nameKey=nameKey||'name';var values={width:'100%',placeholder:tag,allowClear:true,formatNoMatches:false,selection_data:false,fetch_rpc_fnc:fetchFNC,formatSelection:function(data){if(data.tag){data.text=data.tag;}
return data.text;},createSearchChoice:function(term,data){var addedTags=$(this.opts.element).select2('data');if(_.filter(_.union(addedTags,data),function(tag){return tag.text.toLowerCase().localeCompare(term.toLowerCase())===0;}).length===0){if(this.opts.can_create){return{id:_.uniqueId('tag_'),create:true,tag:term,text:_.str.sprintf(_t("Create new %s '%s'"),tag,term),};}else{return undefined;}}},fill_data:function(query,data){var that=this,tags={results:[]};_.each(data,function(obj){if(that.matcher(query.term,obj[nameKey])){tags.results.push({id:obj.id,text:obj[nameKey]});}});query.callback(tags);},query:function(query){var that=this;if(!this.selection_data){this.fetch_rpc_fnc().then(function(data){that.can_create=data.can_create;that.fill_data(query,data.read_results);that.selection_data=data.read_results;});}else{this.fill_data(query,this.selection_data);}}};return values;},_setDefaultSelection:function(){this.$('#tag_id').select2('data',{id:_.uniqueId('tag_'),text:this.defaultTag,create:true},true);this.$('#tag_id').select2('readonly',true);},_getSelect2DropdownValues:function(){var result={};var tag=this.$('#tag_id').select2('data');if(tag){if(tag.create){var group=this.$('#tag_group_id').select2('data');if(group){result['tag_id']=[0,{'name':tag.text}]
if(group.create){result['group_id']=[0,{'name':group.text}];}else{result['group_id']=[group.id];}}}else{result['tag_id']=[tag.id];}}
return result;},_formValidate:function($form){$form.addClass('was-validated');var result=$form[0].checkValidity();var $tagInput=this.$('#tag_id');if($tagInput.length!==0){var $tagSelect2Container=$tagInput.closest('.form-group').find('.select2-container');$tagSelect2Container.removeClass('is-invalid is-valid');if($tagInput.is(':invalid')){$tagSelect2Container.addClass('is-invalid');}else if($tagInput.is(':valid')){$tagSelect2Container.addClass('is-valid');var $tagGroupInput=this.$('#tag_group_id');if($tagGroupInput.length!==0){var $tagGroupSelect2Container=$tagGroupInput.closest('.form-group').find('.select2-container');if($tagGroupInput.is(':invalid')){$tagGroupSelect2Container.addClass('is-invalid');}else if($tagGroupInput.is(':valid')){$tagGroupSelect2Container.addClass('is-valid');}}}}
return result;},_alertDisplay:function(message){this._alertRemove();$('<div/>',{"class":'alert alert-warning',role:'alert'}).text(message).insertBefore(this.$('form'));},_alertRemove:function(){this.$('.alert-warning').remove();},_hideTagGroup:function(){var $tag_group_id=this.$('#tag_group_id');var $tagGroupSelect2Container=$tag_group_id.closest('.form-group');$tagGroupSelect2Container.hide();$tag_group_id.removeAttr("required");$tag_group_id.select2("val","");},_showTagGroup:function(){var $tag_group_id=this.$('#tag_group_id');var $tagGroupSelect2Container=$tag_group_id.closest('.form-group');$tagGroupSelect2Container.show();$tag_group_id.attr("required","required");},_onClickFormSubmit:function(){if(this.defaultTag&&!this.channelID){this._createNewTag();}else{this._addTagToChannel();}},_addTagToChannel:function(){var self=this;var $form=this.$('#slides_channel_tag_add_form');if(this._formValidate($form)){var values=this._getSelect2DropdownValues();return this._rpc({route:'/slides/channel/tag/add',params:{'channel_id':this.channelID,'tag_id':values.tag_id,'group_id':values.group_id},}).then(function(data){if(data.error){self._alertDisplay(data.error);}else{window.location=data.url;}});}},_createNewTag:function(){var self=this;var $form=this.$('#slides_channel_tag_add_form');this.$('#tag_id').select2('readonly',false);var valid=this._formValidate($form);this.$('#tag_id').select2('readonly',true);if(valid){var values=this._getSelect2DropdownValues();return this._rpc({route:'/slide_channel_tag/add',params:{'tag_id':values.tag_id,'group_id':values.group_id},}).then(function(data){self.trigger_up('tag_refresh',{tag_id:data.tag_id});self.close();});}},_onClickClose:function(){if(this.defaultTag&&!this.channelID){this.trigger_up('tag_remove_new');}
this.close();},_onChangeTag:function(ev){var self=this;var tag=$(ev.currentTarget).select2('data');if(tag&&tag.create){self._showTagGroup();}else{self._hideTagGroup();}},});publicWidget.registry.websiteSlidesTag=publicWidget.Widget.extend({selector:'.o_wslides_js_channel_tag_add',xmlDependencies:['/website_slides/static/src/xml/website_slides_channel_tag.xml'],events:{'click':'_onAddTagClick',},_openDialog:function($element){var data=$element.data();return new TagCourseDialog(this,data).open();},_onAddTagClick:function(ev){ev.preventDefault();this._openDialog($(ev.currentTarget));},});__exports[Symbol.for("default")]={TagCourseDialog:TagCourseDialog,websiteSlidesTag:publicWidget.registry.websiteSlidesTag};return __exports;});;

/* /website_slides/static/src/js/slides_course_unsubscribe.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/slides_course_unsubscribe',async function(require){'use strict';let __exports={};const core=require('web.core');const Dialog=require('web.Dialog');const publicWidget=require('web.public.widget');const utils=require('web.utils');var QWeb=core.qweb;var _t=core._t;var SlideUnsubscribeDialog=Dialog.extend({template:'slides.course.unsubscribe.modal',_texts:{titleSubscribe:_t("Subscribe"),titleUnsubscribe:_t("Notifications"),titleLeaveCourse:_t("Leave the course")},init:function(parent,options){options=_.defaults(options||{},{title:options.isFollower==='True'?this._texts.titleSubscribe:this._texts.titleUnsubscribe,size:'medium',});this._super(parent,options);this.set('state','_subscription');this.on('change:state',this,this._onChangeType);this.channelID=parseInt(options.channelId,10);this.isFollower=options.isFollower==='True';this.enroll=options.enroll;},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self.$('input#subscribed').prop('checked',self.isFollower);self._resetModal();});},getSubscriptionState:function(){return this.$('input#subscribed').prop('checked');},_getModalButtons:function(){var btnList=[];var state=this.get('state');if(state==='_subscription'){btnList.push({text:_t("Save"),classes:"btn-primary",click:this._onClickSubscriptionSubmit.bind(this)});btnList.push({text:_t("Discard"),close:true});btnList.push({text:_t("or Leave the course"),classes:"btn-danger ml-auto",click:this._onClickLeaveCourse.bind(this)});}else if(state==='_leave'){btnList.push({text:_t("Leave the course"),classes:"btn-danger",click:this._onClickLeaveCourseSubmit.bind(this)});btnList.push({text:_t("Discard"),click:this._onClickLeaveCourseCancel.bind(this)});}
return btnList;},_resetModal:function(){var state=this.get('state');if(state==='_subscription'){this.set_title(this.isFollower?this._texts.titleUnsubscribe:this._texts.titleSubscribe);this.$('input#subscribed').prop('checked',this.isFollower);}
else if(state==='_leave'){this.set_title(this._texts.titleLeaveCourse);}
this.set_buttons(this._getModalButtons());},_onClickLeaveCourse:function(){this.set('state','_leave');},_onClickLeaveCourseCancel:function(){this.set('state','_subscription');},_onClickLeaveCourseSubmit:function(){this._rpc({route:'/slides/channel/leave',params:{channel_id:this.channelID},}).then(function(){window.location.reload();});},_onClickSubscriptionSubmit:function(){if(this.isFollower===this.getSubscriptionState()){this.destroy();return;}
this._rpc({route:this.getSubscriptionState()?'/slides/channel/subscribe':'/slides/channel/unsubscribe',params:{channel_id:this.channelID},}).then(function(){window.location.reload();});},_onChangeType:function(){var currentType=this.get('state');var tmpl;if(currentType==='_subscription'){tmpl='slides.course.unsubscribe.modal.subscription';}else if(currentType==='_leave'){tmpl='slides.course.unsubscribe.modal.leave';}
this.$('.o_w_slide_unsubscribe_modal_container').empty();this.$('.o_w_slide_unsubscribe_modal_container').append(QWeb.render(tmpl,{widget:this}));this._resetModal();},});publicWidget.registry.websiteSlidesUnsubscribe=publicWidget.Widget.extend({selector:'.o_wslides_js_channel_unsubscribe',xmlDependencies:['/website_slides/static/src/xml/website_slides_unsubscribe.xml'],events:{'click':'_onUnsubscribeClick',},_openDialog:function($element){var data=$element.data();return new SlideUnsubscribeDialog(this,data).open();},_onUnsubscribeClick:function(ev){ev.preventDefault();this._openDialog($(ev.currentTarget));},});__exports[Symbol.for("default")]={SlideUnsubscribeDialog:SlideUnsubscribeDialog,websiteSlidesUnsubscribe:publicWidget.registry.websiteSlidesUnsubscribe};return __exports;});;

/* /website_slides/static/src/js/tours/slides_tour.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides.slides_tour',function(require){"use strict";const{_t}=require('web.core');const{Markup}=require('web.utils');var tour=require('web_tour.tour');tour.register('slides_tour',{url:'/slides',},[{trigger:'#new-content-menu > a',content:Markup(_t("Welcome on your course's home page. It's still empty for now. Click on \"<b>New</b>\" to write your first course.")),position:'bottom',},{trigger:'a[data-action="new_slide_channel"]',content:Markup(_t("Select <b>Course</b> to create it and manage it.")),position:'bottom',width:210,},{trigger:'input[name="name"]',content:Markup(_t("Give your course an engaging <b>Title</b>.")),position:'bottom',width:280,run:'text My New Course',},{trigger:'textarea[name="description"]',content:Markup(_t("Give your course a helpful <b>Description</b>.")),position:'bottom',width:300,run:'text This course is for advanced users.',},{trigger:'button.btn-primary',content:Markup(_t("Click on the <b>Create</b> button to create your first course.")),},{trigger:'.o_wslides_js_slide_section_add',content:Markup(_t("Congratulations, your course has been created, but there isn't any content yet. First, let's add a <b>Section</b> to give your course a structure.")),position:'bottom',},{trigger:'button.btn-primary',content:Markup(_t("A good course has a structure. Pick a name for your first section and click <b>Save</b> to create it.")),position:'bottom',width:260,},{trigger:'a.btn-primary.o_wslides_js_slide_upload',content:Markup(_t("Your first section is created, now it's time to add lessons to your course. Click on <b>Add Content</b> to upload a document, create a web page or link a video.")),position:'bottom',},{trigger:'a[data-slide-type="presentation"]',content:Markup(_t("First, let's add a <b>Presentation</b>. It can be a .pdf or an image.")),position:'bottom',},{trigger:'input#upload',content:Markup(_t("Choose a <b>File</b> on your computer.")),},{trigger:'input#name',content:Markup(_t("The <b>Title</b> of your lesson is autocompleted but you can change it if you want.</br>A <b>Preview</b> of your file is available on the right side of the screen.")),},{trigger:'input#duration',content:Markup(_t("The <b>Duration</b> of the lesson is based on the number of pages of your document. You can change this number if your attendees will need more time to assimilate the content.")),},{trigger:'button.o_w_slide_upload_published',content:Markup(_t("<b>Save & Publish</b> your lesson to make it available to your attendees.")),position:'bottom',width:285,},{trigger:'span.badge-info:contains("New")',content:Markup(_t("Congratulations! Your first lesson is available. Let's see the options available here. The tag \"<b>New</b>\" indicates that this lesson was created less than 7 days ago.")),position:'bottom',},{trigger:'a[name="o_wslides_list_slide_add_quizz"]',extra_trigger:'.o_wslides_slides_list_slide:hover',content:Markup(_t("If you want to be sure that attendees have understood and memorized the content, you can add a Quiz on the lesson. Click on <b>Add Quiz</b>.")),},{trigger:'input[name="question-name"]',content:Markup(_t("Enter your <b>Question</b>. Be clear and concise.")),position:'left',width:330,},{trigger:'input.o_wslides_js_quiz_answer_value',content:Markup(_t("Enter at least two possible <b>Answers</b>.")),position:'left',width:290,},{trigger:'a.o_wslides_js_quiz_is_correct',content:Markup(_t("Mark the correct answer by checking the <b>correct</b> mark.")),position:'right',width:230,},{trigger:'i.o_wslides_js_quiz_comment_answer:last',content:Markup(_t("You can add <b>comments</b> on answers. This will be visible with the results if the user select this answer.")),position:'right',},{trigger:'a.o_wslides_js_quiz_validate_question',content:Markup(_t("<b>Save</b> your question.")),position:'left',width:170,},{trigger:'li.breadcrumb-item:nth-child(2)',content:Markup(_t("Click on your <b>Course</b> to go back to the table of content.")),position:'top',},{trigger:'label.js_publish_btn',content:Markup(_t("Once you're done, don't forget to <b>Publish</b> your course.")),position:'bottom',},{trigger:'a.o_wslides_js_slides_list_slide_link',content:Markup(_t("Congratulations, you've created your first course.<br/>Click on the title of this content to see it in fullscreen mode.")),position:'bottom',}]);});;

/* /website_slides/static/src/js/portal_chatter.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_slides/js/portal_chatter',async function(require){'use strict';let __exports={};const{_t}=require('web.core');const{PortalChatter}=require('portal.chatter');PortalChatter.include({_reloadChatterContent:async function(data){await this._super(...arguments);if(this.options.res_model==="slide.channel"){$('#review-tab').text(_.str.sprintf(_t('Reviews (%d)'),data.rating_count));}},});return __exports;});;

/* /website_sale_slides/static/src/js/slides_course_join.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale_slides.course.join.widget',function(require){"use strict";var CourseJoinWidget=require('@website_slides/js/slides_course_join')[Symbol.for("default")].courseJoinWidget;const wUtils=require('website.utils');CourseJoinWidget.include({xmlDependencies:(CourseJoinWidget.prototype.xmlDependencies||[]).concat(["/website_sale_slides/static/src/xml/slide_course_join.xml"]),init:function(parent,options){this._super.apply(this,arguments);this.productId=options.channel.productId||false;},_onClickJoin:function(ev){ev.preventDefault();if(this.channel.channelEnroll==='payment'&&!this.publicUser){this.beforeJoin().then(function(){wUtils.sendRequest('/shop/cart/update',{product_id:this.productId,express:1,});});}else{this._super.apply(this,arguments);}},});return CourseJoinWidget;});;

/* /website_sale_slides/static/src/js/slides_course_quiz.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale_slides.quiz',function(require){"use strict";var sAnimations=require('website.content.snippets.animation');var{Quiz}=require('@website_slides/js/slides_course_quiz');sAnimations.registry.websiteSlidesQuizNoFullscreen.include({_extractChannelData:function(slideData){return _.extend({},this._super.apply(this,arguments),{productId:slideData.productId,enroll:slideData.enroll,currencyName:slideData.currencyName,currencySymbol:slideData.currencySymbol,price:slideData.price,hasDiscountedPrice:slideData.hasDiscountedPrice});}});Quiz.include({xmlDependencies:(Quiz.prototype.xmlDependencies||[]).concat(["/website_sale_slides/static/src/xml/website_sale_slides_quiz.xml"])});});;

/* /website_sale_slides/static/src/js/slides_course_unsubscribe.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale_slides.unsubscribe_modal',function(require){"use strict";var SlidesUnsubscribe=require('@website_slides/js/slides_course_unsubscribe')[Symbol.for("default")];SlidesUnsubscribe.websiteSlidesUnsubscribe.include({xmlDependencies:(SlidesUnsubscribe.websiteSlidesUnsubscribe.prototype.xmlDependencies||[]).concat(["/website_sale_slides/static/src/xml/website_slides_unsubscribe.xml"]),});});;

/* /website_slides_survey/static/src/js/slides_upload.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides_survey.upload_modal',function(require){"use strict";var core=require('web.core');var _t=core._t;var sessionStorage=window.sessionStorage;var SlidesUpload=require('@website_slides/js/slides_upload')[Symbol.for("default")];SlidesUpload.SlideUploadDialog.include({events:_.extend({},SlidesUpload.SlideUploadDialog.prototype.events||{},{'change input#certification_id':'_onChangeCertification'}),_onChangeCertification:function(ev){if(ev.added&&ev.added.text){this.$("input#name").val(ev.added.text);}},_setup:function(){this._super.apply(this,arguments);this.slide_type_data['certification']={icon:'fa-trophy',label:_t('Certification'),template:'website.slide.upload.modal.certification',};},_bindSelect2Dropdown:function(){this._super.apply(this,arguments);var self=this;this.$('#certification_id').select2(this._select2Wrapper(_t('Certification'),false,function(){return self._rpc({route:'/slides_survey/certification/search_read',params:{fields:['title'],}});},'title'));},_formValidate:function(){var result=this._super.apply(this,arguments);var $certificationInput=this.$('#certification_id');if($certificationInput.length!==0){var $select2Container=$certificationInput.closest('.form-group').find('.select2-container');$select2Container.removeClass('is-invalid is-valid');if($certificationInput.is(':invalid')){$select2Container.addClass('is-invalid');}else if($certificationInput.is(':valid')){$select2Container.addClass('is-valid');}}
return result;},_getSelect2DropdownValues:function(){var result=this._super.apply(this,arguments);var certificateValue=this.$('#certification_id').select2('data');var survey={};if(certificateValue){if(certificateValue.create){survey.id=false;survey.title=certificateValue.text;}else{survey.id=certificateValue.id;}}
result['survey']=survey;return result;},_onFormSubmitDone:function(data){if(!data.error&&data.redirect_to_certification){sessionStorage.setItem("survey_certification_url",data.redirect_url);window.location.reload();}else{this._super.apply(this,arguments);}},});SlidesUpload.websiteSlidesUpload.include({xmlDependencies:(SlidesUpload.websiteSlidesUpload.prototype.xmlDependencies||[]).concat(["/website_slides_survey/static/src/xml/website_slide_upload.xml"]),});});;

/* /website_slides_survey/static/src/js/slides_course_fullscreen_player.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides_survey.fullscreen',function(require){"use strict";var core=require('web.core');var QWeb=core.qweb;var Fullscreen=require('@website_slides/js/slides_course_fullscreen_player')[Symbol.for("default")];Fullscreen.include({xmlDependencies:(Fullscreen.prototype.xmlDependencies||[]).concat(["/website_slides_survey/static/src/xml/website_slides_fullscreen.xml"]),_renderSlide:function(){var def=this._super.apply(this,arguments);var $content=this.$('.o_wslides_fs_content');if(this.get('slide').type==="certification"){$content.html(QWeb.render('website.slides.fullscreen.certification',{widget:this}));}
return Promise.all([def]);},});});;

/* /website_slides_survey/static/src/js/slides_certification_upload_toast.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides_survey.certification_upload_toast',function(require){'use strict';var publicWidget=require('web.public.widget');var{Markup,sprintf}=require('web.utils');var sessionStorage=window.sessionStorage;var core=require('web.core');var _t=core._t;publicWidget.registry.CertificationUploadToast=publicWidget.Widget.extend({selector:'.o_wslides_survey_certification_upload_toast',start:function(){var self=this;this._super.apply(this,arguments).then(function(){var url=sessionStorage.getItem("survey_certification_url");if(url){var message=sprintf(Markup(_t('Follow this link to add questions to your certification. <a href="%s">Edit certification</a>')),url);self.displayNotification({type:'info',title:_t('Certification created'),message:message,sticky:true,});sessionStorage.removeItem("survey_certification_url");}});},});return publicWidget.registry.CertificationUploadToast;});;

/* /appointment/static/src/js/appointment_select_appointment_type.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('appointment.select_appointment_type',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.appointmentTypeSelect=publicWidget.Widget.extend({selector:'.o_appointment_choice',events:{'change select[id="calendarType"]':'_onAppointmentTypeChange',},init:function(){this._super.apply(this,arguments);this._onAppointmentTypeChange=_.debounce(this._onAppointmentTypeChange,250);},_onAppointmentTypeChange:function(ev){var self=this;const appointmentTypeID=$(ev.target).val();this.$(".o_website_appointment_form").attr('action',`/calendar/${appointmentTypeID}/appointment`);this._rpc({route:`/calendar/${appointmentTypeID}/get_message_intro`,}).then(function(message_intro){self.$('.o_calendar_intro').empty().append(message_intro);});},});});;

/* /appointment/static/src/js/appointment_select_appointment_slot.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('appointment.select_appointment_slot',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var qweb=core.qweb;publicWidget.registry.appointmentSlotSelect=publicWidget.Widget.extend({selector:'.o_appointment',xmlDependencies:['/appointment/static/src/xml/calendar_appointment_slots.xml'],events:{'change select[name="timezone"]':'_onRefresh','change select[id="selectEmployee"]':'_onRefresh','click .o_js_calendar_navigate':'_onCalendarNavigate','click .o_day':'_onClickDaySlot',},_onCalendarNavigate:function(ev){var parent=this.$('.o_appointment_month:not(.d-none)');let monthID=parseInt(parent.attr('id').split('-')[1]);monthID+=((this.$(ev.currentTarget).attr('id')==='nextCal')?1:-1);parent.addClass('d-none');this.$(`div#month-${monthID}`).removeClass('d-none');},_onClickDaySlot:function(ev){this.$('.o_slot_selected').removeClass('o_slot_selected');this.$(ev.currentTarget).addClass('o_slot_selected');const appointmentTypeID=this.$("input[name='appointment_type_id']").val();const appointmentTypeIDs=this.$("input[name='filter_appointment_type_ids']").val();const slotDate=this.$(ev.currentTarget.firstElementChild).attr('id');const slots=JSON.parse(this.$(ev.currentTarget).find('div')[0].dataset['availableSlots']);let $slotsList=this.$('#slotsList').empty();$(qweb.render('appointment.slots_list',{slotDate:moment(slotDate).format("dddd D MMMM"),slots:slots,appointment_type_id:appointmentTypeID,filter_appointment_type_ids:appointmentTypeIDs,})).appendTo($slotsList);},_onRefresh:function(ev){if(this.$("#slots_availabilities")[0]){var self=this;const appointmentTypeID=this.$("input[name='appointment_type_id']").val();const employeeID=this.$("#slots_form select[name='employee_id']").val();const timezone=this.$("select[name='timezone']").val();this._rpc({route:`/calendar/${appointmentTypeID}/update_available_slots`,params:{employee_id:employeeID,timezone:timezone,},}).then(function(data){if(data){self.$("#slots_availabilities").replaceWith(data);}});}},});});;

/* /appointment/static/src/js/appointment_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('appointment.appointment_form',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.appointmentForm=publicWidget.Widget.extend({selector:'.o_appointment_attendee_form',events:{'click .appointment_submit_form .btn':'_validateCheckboxes',},_validateCheckboxes:function(){this.$target.find('.form-group .checkbox-group.required').each(function(){var checkboxes=$(this).find('.checkbox input');checkboxes.prop('required',!_.any(checkboxes,checkbox=>checkbox.checked));});},});});;

/* /mail_group/static/src/js/mail_group.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('mail_group.mail_group',function(require){'use strict';const publicWidget=require('web.public.widget');const core=require('web.core');const _t=core._t;publicWidget.registry.MailGroup=publicWidget.Widget.extend({selector:'.o_mail_group',events:{'click .o_mg_subscribe_btn':'_onSubscribeBtnClick',},start:function(){this.mailgroupId=this.$target.data('id');this.isMember=this.$target.data('isMember')||false;const searchParams=(new URL(document.location.href)).searchParams;this.token=searchParams.get('token');this.forceUnsubscribe=searchParams.has('unsubscribe');return this._super.apply(this,arguments);},_onSubscribeBtnClick:async function(ev){ev.preventDefault();const $email=this.$target.find(".o_mg_subscribe_email");const email=$email.val();if(!email.match(/.+@.+/)){this.$target.addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');return false;}
this.$target.removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');const action=(this.isMember||this.forceUnsubscribe)?'unsubscribe':'subscribe';const response=await this._rpc({route:'/group/'+action,params:{'group_id':this.mailgroupId,'email':email,'token':this.token,},});this.$el.find('.o_mg_alert').remove();if(response==='added'){this.isMember=true;this.$target.find('.o_mg_subscribe_btn').text(_t('Unsubscribe')).removeClass('btn-primary').addClass('btn-outline-primary');}else if(response==='removed'){this.isMember=false;this.$target.find('.o_mg_subscribe_btn').text(_t('Subscribe')).removeClass('btn-outline-primary').addClass('btn-primary');}else if(response==='email_sent'){this.$target.html($('<div class="o_mg_alert alert alert-success" role="alert"/>').text(_t('An email with instructions has been sent.')));}else if(response==='is_already_member'){this.isMember=true;this.$target.find('.o_mg_subscribe_btn').text(_t('Unsubscribe')).removeClass('btn-primary').addClass('btn-outline-primary');this.$target.find('.o_mg_subscribe_form').before($('<div class="o_mg_alert alert alert-warning" role="alert"/>').text(_t('This email is already subscribed.')));}else if(response==='is_not_member'){if(!this.forceUnsubscribe){this.isMember=false;this.$target.find('.o_mg_subscribe_btn').text(_t('Subscribe'));}
this.$target.find('.o_mg_subscribe_form').before($('<div class="o_mg_alert alert alert-warning" role="alert"/>').text(_t('This email is not subscribed.')));}},});return publicWidget.registry.MailGroup;});;

/* /mail_group/static/src/js/mail_group_message.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('mail_group.mail_group_message',function(require){'use strict';const publicWidget=require('web.public.widget');publicWidget.registry.MailGroupMessage=publicWidget.Widget.extend({selector:'.o_mg_message',events:{'click .o_mg_link_hide':'_onHideLinkClick','click .o_mg_link_show':'_onShowLinkClick','click button.o_mg_read_more':'_onReadMoreClick',},start:function(){const body=this.$el.find('.card-body').first();const quoted=body.find('*[data-o-mail-quote]');const readMore=$('<button class="btn btn-light btn-sm ml-1"/>').text('. . .');quoted.first().before(readMore);readMore.on('click',()=>{quoted.toggleClass('visible');});return this._super.apply(this,arguments);},_onHideLinkClick:function(ev){ev.preventDefault();ev.stopPropagation();const $link=$(ev.currentTarget);const $container=$link.closest('.o_mg_link_parent');$container.find('.o_mg_link_hide').first().addClass('d-none');$container.find('.o_mg_link_show').first().removeClass('d-none');$container.find('.o_mg_link_content').first().removeClass('d-none');},_onShowLinkClick:function(ev){ev.preventDefault();ev.stopPropagation();const $link=$(ev.currentTarget);const $container=$link.closest('.o_mg_link_parent');$container.find('.o_mg_link_hide').first().removeClass('d-none');$container.find('.o_mg_link_show').first().addClass('d-none');$container.find('.o_mg_link_content').first().addClass('d-none');},_onReadMoreClick:function(ev){const $link=$(ev.target);this._rpc({route:$link.data('href'),params:{last_displayed_id:$link.data('last-displayed-id'),},}).then(function(data){if(!data){return;}
const $threadContainer=$link.parents('.o_mg_replies').first().find('ul.list-unstyled').first();if($threadContainer){const $data=$(data);const $lastMsg=$threadContainer.children('li.media').last();const $newMessages=$data.find('ul.list-unstyled').first().children('li.media');$newMessages.insertAfter($lastMsg);$data.find('.o_mg_read_more').parent().appendTo($threadContainer);}
const $showMore=$link.parent();$showMore.remove();});},});});;

/* /website_event/static/src/js/display_timer_widget.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event.display_timer_widget',function(require){'use strict';var core=require('web.core');var _t=core._t;var publicWidget=require('web.public.widget');publicWidget.registry.displayTimerWidget=publicWidget.Widget.extend({selector:'.o_display_timer',start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self.options=self.$target.data();self.preCountdownDisplay=self.options["preCountdownDisplay"];self.preCountdownTime=self.options["preCountdownTime"];self.preCountdownText=self.options["preCountdownText"];self.mainCountdownTime=self.options["mainCountdownTime"];self.mainCountdownText=self.options["mainCountdownText"];self.mainCountdownDisplay=self.options["mainCountdownDisplay"];self.displayClass=self.options["displayClass"];if(self.preCountdownDisplay){$(self.$el).parent().removeClass('d-none');}
self._checkTimer();self.interval=setInterval(function(){self._checkTimer();},1000);});},_checkTimer:function(){var now=new Date();var remainingPreSeconds=this.preCountdownTime-(now.getTime()/1000);if(remainingPreSeconds<=1){this.$('.o_countdown_text').text(this.mainCountdownText);if(this.mainCountdownDisplay){$(this.$el).parent().removeClass('d-none');}
var remainingMainSeconds=this.mainCountdownTime-(now.getTime()/1000);if(remainingMainSeconds<=1){clearInterval(this.interval);$(this.displayClass).removeClass('d-none');$(this.$el).parent().addClass('d-none');}else{this._updateCountdown(remainingMainSeconds);}}else{this._updateCountdown(remainingPreSeconds);}},_updateCountdown:function(remainingTime){var remainingSeconds=remainingTime;var days=Math.floor(remainingSeconds/86400);remainingSeconds=remainingSeconds%86400;var hours=Math.floor(remainingSeconds/3600);remainingSeconds=remainingSeconds%3600;var minutes=Math.floor(remainingSeconds/60);remainingSeconds=Math.floor(remainingSeconds%60);this.$("span.o_timer_days").text(days);this.$("span.o_timer_hours").text(this._zeroPad(hours,2));this.$("span.o_timer_minutes").text(this._zeroPad(minutes,2));this.$("span.o_timer_seconds").text(this._zeroPad(remainingSeconds,2));},_zeroPad:function(num,places){var zero=places-num.toString().length+1;return new Array(+(zero>0&&zero)).join("0")+num;},});return publicWidget.registry.countdownWidget;});;

/* /website_event/static/src/js/register_toaster_widget.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event.register_toaster_widget',function(require){'use strict';let core=require('web.core');const{Markup}=require('web.utils');let _t=core._t;let publicWidget=require('web.public.widget');publicWidget.registry.RegisterToasterWidget=publicWidget.Widget.extend({selector:'.o_wevent_register_toaster',start:function(){const message=this.$el.data('message');if(message&&message.length){this.displayNotification({title:_t("Register"),message:Markup(message),type:'info',});}
return this._super.apply(this,arguments);},});return publicWidget.registry.RegisterToasterWidget;});;

/* /website_event/static/src/js/website_geolocation.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event.geolocation',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.visitor=publicWidget.Widget.extend({selector:".oe_country_events, .country_events",disabledInEditableMode:false,start:function(){var defs=[this._super.apply(this,arguments)];var self=this;var $eventList=this.$('.country_events_list');this._originalContent=$eventList[0].outerHTML;defs.push(this._rpc({route:'/event/get_country_event_list'}).then(function(data){if(data){self._$loadedContent=$(data);self._$loadedContent.attr('contentEditable',false);$eventList.replaceWith(self._$loadedContent);}}));return Promise.all(defs);},destroy:function(){this._super.apply(this,arguments);if(this._$loadedContent){this._$loadedContent.replaceWith(this._originalContent);}},});});;

/* /website_event/static/src/js/website_event.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event.website_event',function(require){var ajax=require('web.ajax');var core=require('web.core');var Widget=require('web.Widget');var publicWidget=require('web.public.widget');var _t=core._t;var EventRegistrationForm=Widget.extend({start:function(){var self=this;var res=this._super.apply(this.arguments).then(function(){$('#registration_form .a-submit').off('click').click(function(ev){self.on_click(ev);});});return res;},on_click:function(ev){ev.preventDefault();ev.stopPropagation();var $form=$(ev.currentTarget).closest('form');var $button=$(ev.currentTarget).closest('[type="submit"]');var post={};$('#registration_form table').siblings('.alert').remove();$('#registration_form select').each(function(){post[$(this).attr('name')]=$(this).val();});var tickets_ordered=_.some(_.map(post,function(value,key){return parseInt(value);}));if(!tickets_ordered){$('<div class="alert alert-info"/>').text(_t('Please select at least one ticket.')).insertAfter('#registration_form table');return new Promise(function(){});}else{$button.attr('disabled',true);return ajax.jsonRpc($form.attr('action'),'call',post).then(function(modal){var $modal=$(modal);$modal.modal({backdrop:'static',keyboard:false});$modal.find('.modal-body > div').removeClass('container');$modal.appendTo('body').modal();$modal.on('click','.js_goto_event',function(){$modal.modal('hide');$button.prop('disabled',false);});$modal.on('click','.close',function(){$button.prop('disabled',false);});});}},});publicWidget.registry.EventRegistrationFormInstance=publicWidget.Widget.extend({selector:'#registration_form',start:function(){var def=this._super.apply(this,arguments);this.instance=new EventRegistrationForm(this);return Promise.all([def,this.instance.attachTo(this.$el)]);},destroy:function(){this.instance.setElement(null);this._super.apply(this,arguments);this.instance.setElement(this.$el);},});return EventRegistrationForm;});;

/* /website_event/static/src/js/website_event_ticket_details.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event.ticket_details',function(require){var publicWidget=require('web.public.widget');publicWidget.registry.ticketDetailsWidget=publicWidget.Widget.extend({selector:'.o_wevent_js_ticket_details',events:{'click .o_wevent_registration_btn':'_onTicketDetailsClick','change .custom-select':'_onTicketQuantityChange'},start:function(){this.foldedByDefault=this.$el.data('foldedByDefault')===1;return this._super.apply(this,arguments);},_getTotalTicketCount:function(){var ticketCount=0;this.$('.custom-select').each(function(){ticketCount+=parseInt($(this).val());});return ticketCount;},_onTicketDetailsClick:function(ev){ev.preventDefault();if(this.foldedByDefault){let $target=$(ev.currentTarget);$target.toggleClass('btn-primary');$target.children().toggleClass('d-none');$target.siblings('.o_wevent_registration_title, .o_wevent_price_range').toggleClass('d-none');}},_onTicketQuantityChange:function(){this.$('button.btn-primary').attr('disabled',this._getTotalTicketCount()===0);}});return publicWidget.registry.ticketDetailsWidget;});;

/* /website_event/static/src/js/website_event_set_customize_options.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event.set_customize_options',function(require){"use strict";var CustomizeMenu=require('website.customizeMenu');var publicWidget=require('web.public.widget');var EventSpecificOptions=publicWidget.Widget.extend({template:'website_event.customize_options',xmlDependencies:['/website_event/static/src/xml/customize_options.xml'],events:{'change #display-website-menu':'_onDisplaySubmenuChange',},start:function(){this.$submenuInput=this.$('#display-website-menu');this.modelName=this._getEventObject().model;this.eventId=this._getEventObject().id;this._initCheckbox();},_onDisplaySubmenuChange:function(ev){var checkboxValue=this.$submenuInput.is(':checked');this._toggleSubmenuDisplay(checkboxValue);},_getCheckboxFields:function(){return['website_menu','website_url'];},_getCheckboxFieldMatch:function(checkboxField){if(checkboxField==='website_menu'){return this.$submenuInput;}},_getEventObject:function(){var repr=$('html').data('main-object');var m=repr.match(/(.+)\((\d+),(.*)\)/);return{model:m[1],id:m[2]|0,};},_initCheckbox:function(){var self=this;this._rpc({model:this.modelName,method:'read',args:[[this.eventId],this._getCheckboxFields()],}).then((data)=>{self._initCheckboxCallback(data);});},_initCheckboxCallback:function(rpcData){if(rpcData[0]['website_menu']){var submenuInput=this._getCheckboxFieldMatch('website_menu');submenuInput.attr('checked','checked');}
this.eventUrl=rpcData[0]['website_url'];},_reloadEventPage:function(){window.location=this.eventUrl;},_toggleSubmenuDisplay:function(val){var self=this;this._rpc({model:this.modelName,method:'toggle_website_menu',args:[[this.eventId],val],}).then(function(){self._reloadEventPage();});},});CustomizeMenu.include({_getEventObject:function(){var repr=$('html').data('main-object');var m=repr.match(/(.+)\((\d+),(.*)\)/);return{model:m[1],id:m[2]|0,};},_loadCustomizeOptions:function(){var self=this;var def=this._super.apply(this,arguments);return def.then(function(){if(!self.__eventOptionsLoaded&&self._getEventObject().model==='event.event'){self.__eventOptionsLoaded=true;self.eventOptions=new EventSpecificOptions(self);if(!self.$('.dropdown-divider').length){self.$('.dropdown-menu').append($('<div/>',{class:'dropdown-divider',role:'separator',}));}
self.eventOptions.insertAfter(self.$el.find('.dropdown-divider:first()'));}});},});return{EventSpecificOptions:EventSpecificOptions,};});;

/* /website_event_track/static/src/js/website_event_track.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_track.website_event_track',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.websiteEventTrack=publicWidget.Widget.extend({selector:'.o_wevent_event',events:{'input #event_track_search':'_onEventTrackSearchInput',},start:function(){this._super.apply(this,arguments).then(()=>{this.$el.find('[data-toggle="popover"]').popover()})},_onEventTrackSearchInput:function(ev){ev.preventDefault();var text=$(ev.currentTarget).val();var $tracks=$('.event_track');if(text){function filterTracks(index,element){return this.textContent.toLowerCase().includes(text.toLowerCase());}
$('#search_summary').removeClass('invisible');$('#search_number').text($tracks.filter(filterTracks).length);$tracks.removeClass('invisible').not(filterTracks).addClass('invisible');}else{$('#search_summary').addClass('invisible');$tracks.removeClass('invisible')}},});});;

/* /website_event_track/static/src/js/website_event_track_proposal_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_track.website_event_track_proposal_form',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var QWeb=core.qweb;var _t=core._t;publicWidget.registry.websiteEventTrackProposalForm=publicWidget.Widget.extend({selector:'.o_website_event_track_proposal_form',xmlDependencies:['/website_event_track/static/src/xml/event_track_proposal_templates.xml',],events:{'click .o_wetrack_add_contact_information_checkbox':'_onAdvancedContactToggle','input input[name="partner_name"]':'_onPartnerNameInput','click .o_wetrack_proposal_submit_button':'_onProposalFormSubmit',},init:function(){this._super(...arguments);this.useAdvancedContact=false;},_isFormValid:function(){var formErrors=[];this.$('.form-group').each(function(index,field){var $field=$(field);var inputs=$field.find('.form-control').not('.o_wetrack_select2_tags');var invalidInputs=inputs.toArray().filter(function(input){return!input.checkValidity();});$field.find('.form-control').removeClass('o_wetrack_input_error is-invalid');if(invalidInputs.length){$field.find('.form-control').addClass('o_wetrack_input_error is-invalid');formErrors.push('invalidFormInputs');}});if(this.useAdvancedContact){var hasContactMean=this.$('.o_wetrack_contact_phone_input').val()||this.$('.o_wetrack_contact_email_input').val();if(!hasContactMean){this.$('.o_wetrack_contact_information').addClass('o_wetrack_no_contact_mean_error');this.$('.o_wetrack_contact_mean').addClass('is-invalid');formErrors.push('noContactMean');}else{this.$('.o_wetrack_contact_information').removeClass('o_wetrack_no_contact_mean_error');this.$('.o_wetrack_contact_mean:not(".o_wetrack_input_error")').removeClass('is-invalid');}}
this._updateErrorDisplay(formErrors);return formErrors.length===0;},_updateErrorDisplay:function(errors){this.$('.o_wetrack_proposal_error_section').toggleClass('d-none',!errors.length);var errorMessages=[];var $errorElement=this.$('.o_wetrack_proposal_error_message');if(errors.includes('invalidFormInputs')){errorMessages.push(_t('Please fill out the form correctly.'));}
if(errors.includes('noContactMean')){errorMessages.push(_t('Please enter either a contact email address or a contact phone number.'));}
if(errors.includes('forbidden')){errorMessages.push(_t('You cannot access this page.'));}
$errorElement.text(errorMessages.join(' ')).change();},_onAdvancedContactToggle:function(ev){this.useAdvancedContact=!this.useAdvancedContact;var $contactName=this.$(".o_wetrack_contact_name_input")[0];var $advancedInformation=this.$('.o_wetrack_contact_information');if(this.useAdvancedContact){$advancedInformation.removeClass('d-none');$contactName.setAttribute("required","True");}else{this.$('.o_wetrack_contact_email_input').val('').change();$advancedInformation.addClass('d-none');$contactName.removeAttribute("required");}},_onPartnerNameInput:function(ev){var partnerNameText=$(ev.currentTarget).val();var contactNameText=this.$(".o_wetrack_contact_name_input").val();if(partnerNameText.startsWith(contactNameText)){this.$(".o_wetrack_contact_name_input").val(partnerNameText).change();}},_onProposalFormSubmit:async function(ev){ev.preventDefault();ev.stopPropagation();this.$target.find('.o_wetrack_proposal_submit_button').addClass('disabled').attr('disabled','disabled');if(this._isFormValid()){const formData=new FormData(this.$el[0]);const response=await $.ajax({url:`/event/${this.$el.data('eventId')}/track_proposal/post`,data:formData,processData:false,contentType:false,type:'POST'});const jsonResponse=response&&JSON.parse(response);if(jsonResponse.success){const offsetTop=($("#wrapwrap").scrollTop()||0)+this.$el.offset().top;const floatingMenuHeight=($('.o_header_standard').height()||0)+
($('#oe_main_menu_navbar').height()||0);this.$el.replaceWith($(QWeb.render('event_track_proposal_success')));$('#wrapwrap').scrollTop(offsetTop-floatingMenuHeight);}else if(jsonResponse.error){this._updateErrorDisplay([jsonResponse.error]);}}
this.$target.find('.o_wetrack_proposal_submit_button').removeAttr('disabled').removeClass('disabled');},});return publicWidget.registry.websiteEventTrackProposalForm;});;

/* /website_event_track/static/src/js/website_event_track_proposal_form_tags.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_track.website_event_track_proposal_form_tags',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var _t=core._t;publicWidget.registry.websiteEventTrackProposalFormTags=publicWidget.Widget.extend({selector:'.o_website_event_track_proposal_form_tags',start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self._bindSelect2Dropdown();});},_bindSelect2Dropdown:function(){var self=this;this.$('.o_wetrack_select2_tags').select2(this._select2Wrapper(_t('Select categories'),function(){return self._rpc({route:"/event/track_tag/search_read",params:{fields:['name','category_id'],domain:[],}});}));},_select2Wrapper:function(tag,fetchFNC,nameKey){nameKey=nameKey||'name';var values={placeholder:tag,allowClear:true,formatNoMatches:_t('No results found'),selection_data:false,fetch_rpc_fnc:fetchFNC,multiple:'multiple',sorter:data=>data.sort((a,b)=>a.text.localeCompare(b.text)),fill_data:function(query,data){var that=this,tags={results:[]};_.each(data,function(obj){if(that.matcher(query.term,obj[nameKey])||that.matcher(query.term,obj.category_id[1])){if(obj.category_id[1]){tags.results.push({id:obj.id,text:obj.category_id[1]+" : "+obj[nameKey]});}else{tags.results.push({id:obj.id,text:obj[nameKey]});}}});query.callback(tags);},query:function(query){var that=this;if(!this.selection_data){this.fetch_rpc_fnc().then(function(data){that.fill_data(query,data);that.selection_data=data;});}else{this.fill_data(query,this.selection_data);}}};return values;},});return publicWidget.registry.websiteEventTrackProposalFormTags;});;

/* /website_event_track/static/src/js/event_track_reminder.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_track.website_event_track_reminder',function(require){'use strict';var core=require('web.core');var _t=core._t;var utils=require('web.utils');var publicWidget=require('web.public.widget');publicWidget.registry.websiteEventTrackReminder=publicWidget.Widget.extend({selector:'.o_wetrack_js_reminder',events:{'click':'_onReminderToggleClick',},init:function(){this._super.apply(this,arguments);this._onReminderToggleClick=_.debounce(this._onReminderToggleClick,500,true);},_onReminderToggleClick:function(ev){ev.stopPropagation();ev.preventDefault();var self=this;var $trackLink=$(ev.currentTarget).find('i');if(this.reminderOn===undefined){this.reminderOn=$trackLink.data('reminderOn');}
var reminderOnValue=!this.reminderOn;this._rpc({route:'/event/track/toggle_reminder',params:{track_id:$trackLink.data('trackId'),set_reminder_on:reminderOnValue,},}).then(function(result){if(result.error&&result.error==='ignored'){self.displayNotification({type:'info',title:_t('Error'),message:_.str.sprintf(_t('Talk already in your Favorites')),});}else{self.reminderOn=reminderOnValue;var reminderText=self.reminderOn?_t('Favorite On'):_t('Set Favorite');self.$('.o_wetrack_js_reminder_text').text(reminderText);self._updateDisplay();var message=self.reminderOn?_t('Talk added to your Favorites'):_t('Talk removed from your Favorites');self.displayNotification({type:'info',title:message});if(self.reminderOn){core.bus.trigger('open_notification_request','add_track_to_favorite',{title:_t('Allow push notifications?'),body:_t('You have to enable push notifications to get reminders for your favorite tracks.'),delay:0});}}
if(result.visitor_uuid){utils.set_cookie('visitor_uuid',result.visitor_uuid);}});},_updateDisplay:function(){var $trackLink=this.$el.find('i');var isReminderLight=$trackLink.data('isReminderLight');if(this.reminderOn){$trackLink.addClass('fa-bell').removeClass('fa-bell-o');$trackLink.attr('title',_t('Favorite On'));if(!isReminderLight){this.$el.addClass('btn-primary');this.$el.removeClass('btn-outline-primary');}}else{$trackLink.addClass('fa-bell-o').removeClass('fa-bell');$trackLink.attr('title',_t('Set Favorite'));if(!isReminderLight){this.$el.removeClass('btn-primary');this.$el.addClass('btn-outline-primary');}}},});return publicWidget.registry.websiteEventTrackReminder;});;

/* /website_event_track/static/src/js/event_track_timer.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_track.website_event_track_timer',function(require){'use strict';const publicWidget=require('web.public.widget');publicWidget.registry.websiteEventTrackTimer=publicWidget.Widget.extend({selector:'.o_we_track_timer',events:{'click .close':'_onCloseClick',},start:function(){return this._super.apply(this,arguments).then(()=>{let timeToLive=this.$el.data('time-to-live');let deadline=moment().add(timeToLive,'seconds');let remainingMs=deadline.diff(moment());if(remainingMs>0){this._updateTimerDisplay(remainingMs);this.$el.removeClass('d-none');this.deadline=deadline;this.timer=setInterval(this._refreshTimer.bind(this),1000);}else{this.destroy();}});},destroy:function(){this.$el.parent().remove();clearInterval(this.timer);this._super(...arguments);},_onCloseClick:function(){this.destroy();},_refreshTimer:function(){let remainingMs=this.deadline.diff(moment());if(remainingMs>0){this._updateTimerDisplay(remainingMs);}else{this.destroy();}},_updateTimerDisplay:function(remainingMs){let $timerTextEl=this.$el.find('span');let str=moment.duration(remainingMs,'ms').humanize(true);if(str!==$timerTextEl.text()){$timerTextEl.text(str);}},});return publicWidget.registry.websiteEventTrackTimer;});;

/* /website_event_track/static/src/js/website_event_pwa_widget.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define("website_event_track.website_event_pwa_widget",function(require){"use strict";var deferredPrompt=new Promise(function(resolve,reject){if(!("serviceWorker"in navigator)){return reject();}
window.addEventListener("beforeinstallprompt",function(ev){ev.preventDefault();resolve(ev);});});var config=require("web.config");var publicWidget=require("web.public.widget");var utils=require("web.utils");var PWAInstallBanner=publicWidget.Widget.extend({xmlDependencies:["/website_event_track/static/src/xml/website_event_pwa.xml"],template:"pwa_install_banner",events:{"click .o_btn_install":"_onClickInstall","click .o_btn_close":"_onClickClose",},_onClickClose:function(){this.trigger_up("prompt_close_bar");},_onClickInstall:function(){this.trigger_up("prompt_install");},});publicWidget.registry.WebsiteEventPWAWidget=publicWidget.Widget.extend({selector:"#wrapwrap.event",custom_events:{prompt_install:"_onPromptInstall",prompt_close_bar:"_onPromptCloseBar",},start:function(){var self=this;return this._super.apply(this,arguments).then(this._registerServiceWorker.bind(this)).then(function(){deferredPrompt.then(self._showInstallBanner.bind(self)).catch(function(){console.log("ServiceWorker not supported");});}).then(this._prefetch.bind(this));},destroy:function(){this._super.apply(this,arguments);},_getScope:function(){var matches=window.location.pathname.match(/^(\/(?:event|[^/]+\/event))\/?/);if(matches&&matches[1]){return matches[1];}
return"/event";},_hideInstallBanner:function(){this.installBanner?this.installBanner.destroy():undefined;$(".o_livechat_button").css("bottom","0");},_prefetch:function(){if(!("serviceWorker"in navigator)){return;}
var assetsUrls=Array.from(document.querySelectorAll('link[rel="stylesheet"], script[src]')).map(function(el){return el.href||el.src;});navigator.serviceWorker.ready.then(function(registration){registration.active.postMessage({action:"prefetch-assets",urls:assetsUrls,});}).catch(function(error){console.error("Service worker ready failed, error:",error);});var currentPageUrl=window.location.href;var childrenPagesUrls=Array.from(document.querySelectorAll('a[href^="'+this._getScope()+'/"]')).map(function(el){return el.href;});navigator.serviceWorker.ready.then(function(registration){registration.active.postMessage({action:"prefetch-pages",urls:childrenPagesUrls.concat(currentPageUrl),});}).catch(function(error){console.error("Service worker ready failed, error:",error);});},_registerServiceWorker:function(){if(!("serviceWorker"in navigator)){return;}
var scope=this._getScope();return navigator.serviceWorker.register(scope+"/service-worker.js",{scope:scope}).then(function(registration){console.info("Registration successful, scope is:",registration.scope);}).catch(function(error){console.error("Service worker registration failed, error:",error);});},_showInstallBanner:function(){if(!config.device.isMobile){return;}
var self=this;this.installBanner=new PWAInstallBanner(this);this.installBanner.appendTo(this.$el).then(function(){var height=self.$(".o_pwa_install_banner").outerHeight(true);$(".o_livechat_button").css("bottom",height+"px");});},_onPromptCloseBar:function(ev){ev.stopPropagation();this._hideInstallBanner();},_onPromptInstall:function(ev){ev.stopPropagation();this._hideInstallBanner();deferredPrompt.then(function(prompt){prompt.prompt();prompt.userChoice.then(function(choiceResult){if(choiceResult.outcome==="accepted"){console.log("User accepted the install prompt");}else{console.log("User dismissed the install prompt");}});}).catch(function(){console.log("ServiceWorker not supported");});},});return{PWAInstallBanner:PWAInstallBanner,WebsiteEventPWAWidget:publicWidget.registry.WebsiteEventPWAWidget,};});;

/* /website_event_track/static/lib/idb-keyval/idb-keyval.js defined in bundle 'web.assets_frontend_lazy' */
var idbKeyval=(function(exports){'use strict';class Store{constructor(dbName='keyval-store',storeName='keyval'){this.storeName=storeName;this._dbp=new Promise((resolve,reject)=>{const openreq=indexedDB.open(dbName,1);openreq.onerror=()=>reject(openreq.error);openreq.onsuccess=()=>resolve(openreq.result);openreq.onupgradeneeded=()=>{openreq.result.createObjectStore(storeName);};});}
_withIDBStore(type,callback){return this._dbp.then(db=>new Promise((resolve,reject)=>{const transaction=db.transaction(this.storeName,type);transaction.oncomplete=()=>resolve();transaction.onabort=transaction.onerror=()=>reject(transaction.error);callback(transaction.objectStore(this.storeName));}));}}
let store;function getDefaultStore(){if(!store)
store=new Store();return store;}
function get(key,store=getDefaultStore()){let req;return store._withIDBStore('readonly',store=>{req=store.get(key);}).then(()=>req.result);}
function set(key,value,store=getDefaultStore()){return store._withIDBStore('readwrite',store=>{store.put(value,key);});}
function del(key,store=getDefaultStore()){return store._withIDBStore('readwrite',store=>{store.delete(key);});}
function clear(store=getDefaultStore()){return store._withIDBStore('readwrite',store=>{store.clear();});}
function keys(store=getDefaultStore()){const keys=[];return store._withIDBStore('readonly',store=>{(store.openKeyCursor||store.openCursor).call(store).onsuccess=function(){if(!this.result)
return;keys.push(this.result.key);this.result.continue();};}).then(()=>keys);}
exports.Store=Store;exports.get=get;exports.set=set;exports.del=del;exports.clear=clear;exports.keys=keys;return exports;}({}));;

/* /website_forum/static/src/js/website_forum.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_forum.website_forum',function(require){'use strict';const dom=require('web.dom');var core=require('web.core');var wysiwygLoader=require('web_editor.loader');var publicWidget=require('web.public.widget');var session=require('web.session');var qweb=core.qweb;var _t=core._t;publicWidget.registry.websiteForum=publicWidget.Widget.extend({selector:'.website_forum',xmlDependencies:['/web_editor/static/src/xml/editor.xml','/website_forum/static/src/xml/website_forum_templates.xml','/website_forum/static/src/xml/website_forum_share_templates.xml',],events:{'click .karma_required':'_onKarmaRequiredClick','mouseenter .o_js_forum_tag_follow':'_onTagFollowBoxMouseEnter','mouseleave .o_js_forum_tag_follow':'_onTagFollowBoxMouseLeave','mouseenter .o_forum_user_info':'_onUserInfoMouseEnter','mouseleave .o_forum_user_info':'_onUserInfoMouseLeave','mouseleave .o_forum_user_bio_expand':'_onUserBioExpandMouseLeave','click .flag:not(.karma_required)':'_onFlagAlertClick','click .vote_up:not(.karma_required), .vote_down:not(.karma_required)':'_onVotePostClick','click .o_js_validation_queue a[href*="/validate"]':'_onValidationQueueClick','click .o_wforum_validate_toggler:not(.karma_required)':'_onAcceptAnswerClick','click .o_wforum_favourite_toggle':'_onFavoriteQuestionClick','click .comment_delete':'_onDeleteCommentClick','click .js_close_intro':'_onCloseIntroClick','submit .js_wforum_submit_form:has(:not(.karma_required).o_wforum_submit_post)':'_onSubmitForm',},start:function(){var self=this;this.lastsearch=[];$('span[data-oe-model="forum.post"][data-oe-field="content"]').find('img.float-left').removeClass('float-left');var forumLogin=_.string.sprintf('%s/web?redirect=%s',window.location.origin,escape(window.location.href));$('.forum_register_url').attr('href',forumLogin);this.$('[data-toggle="tooltip"]').tooltip({delay:0});this.$('[data-toggle="popover"]').popover({offset:8});$('input.js_select2').select2({tags:true,tokenSeparators:[',',' ','_'],maximumInputLength:35,minimumInputLength:2,maximumSelectionSize:5,lastsearch:[],createSearchChoice:function(term){if(_.filter(self.lastsearch,function(s){return s.text.localeCompare(term)===0;}).length===0){if(parseInt($('#karma').val())>=parseInt($('#karma_edit_retag').val())){return{id:'_'+$.trim(term),text:$.trim(term)+' *',isNew:true,};}}},formatResult:function(term){if(term.isNew){return'<span class="badge badge-primary">New</span> '+_.escape(term.text);}else{return _.escape(term.text);}},ajax:{url:'/forum/get_tags',dataType:'json',data:function(term){return{query:term,limit:50,};},results:function(data){var ret=[];_.each(data,function(x){ret.push({id:x.id,text:x.name,isNew:false,});});self.lastsearch=ret;return{results:ret};}},initSelection:function(element,callback){var data=[];_.each(element.data('init-value'),function(x){data.push({id:x.id,text:x.name,isNew:false});});element.val('');callback(data);},});_.each($('textarea.o_wysiwyg_loader'),function(textarea){var $textarea=$(textarea);var editorKarma=$textarea.data('karma')||0;var $form=$textarea.closest('form');var hasFullEdit=parseInt($("#karma").val())>=editorKarma;var options={toolbarTemplate:'website_forum.web_editor_toolbar',recordInfo:{context:self._getContext(),res_model:'forum.post',res_id:+window.location.pathname.split('-').pop(),},resizable:true,userGeneratedContent:true,};if(!hasFullEdit){options.plugins={LinkPlugin:false,MediaPlugin:false,};}
wysiwygLoader.loadFromTextarea(self,$textarea[0],options).then(wysiwyg=>{if(!hasFullEdit){wysiwyg.toolbar.$el.find('#link, #media').remove();}
$form.find('.note-editable').find('img.float-left').removeClass('float-left');});});_.each(this.$('.o_wforum_bio_popover'),authorBox=>{$(authorBox).popover({trigger:'hover',offset:10,animation:false,html:true,}).popover('hide').data('bs.popover').tip.classList.add('o_wforum_bio_popover_container');});this.$('#post_reply').on('shown.bs.collapse',function(e){const replyEl=document.querySelector('#post_reply');const scrollingElement=dom.closestScrollable(replyEl.parentNode);dom.scrollTo(replyEl,{forcedOffset:$(scrollingElement).innerHeight()-$(replyEl).innerHeight(),});});return this._super.apply(this,arguments);},_onSubmitForm:function(ev){let validForm=true;let $form=$(ev.currentTarget);let $title=$form.find('input[name=post_name]');let $textarea=$form.find('textarea[name=content]');let textareaContent=$form.find('.o_wysiwyg_textarea_wrapper').text().trim();if($title.length&&$title[0].required){if($title.val()){$title.removeClass('is-invalid');}else{$title.addClass('is-invalid');validForm=false;}}
if($textarea[0]&&$textarea[0].required){let $textareaContainer=$form.find('.o_wysiwyg_textarea_wrapper');if(!textareaContent.length){$textareaContainer.addClass('border border-danger rounded-top');validForm=false;}else{$textareaContainer.removeClass('border border-danger rounded-top');}}
if(validForm){if($form.has('.oe_social_share_call').length){sessionStorage.setItem('social_share',JSON.stringify({targetType:$(ev.currentTarget).find('.o_wforum_submit_post').data('social-target-type'),}));}}else{ev.preventDefault();setTimeout(function(){var $buttons=$(ev.currentTarget).find('button[type="submit"], a.a-submit');_.each($buttons,function(btn){let $btn=$(btn);$btn.find('i').remove();$btn.prop('disabled',false);});},0);}},_onKarmaRequiredClick:function(ev){const karma=parseInt(ev.currentTarget.dataset.karma);if(!karma){return;}
ev.preventDefault();const forumID=parseInt(document.getElementById('wrapwrap').dataset.forum_id);const notifOptions={type:"warning",sticky:false,};if(session.is_website_user){notifOptions.title=_t("Access Denied");notifOptions.message=_t("Sorry you must be logged in to perform this action");}else{notifOptions.title=_t("Karma Error");notifOptions.message=`${karma} ${_t("karma is required to perform this action. ")}`;if(forumID){notifOptions.messageIsHtml=true;const linkLabel=_.escape(_t("Read the guidelines to know how to gain karma."));notifOptions.message=`
                    ${_.escape(notifOptions.message)}<br/>
                    <a class="alert-link" href="/forum/${forumID}/faq">${linkLabel}</a>
                `;}}
this.displayNotification(notifOptions);},_onTagFollowBoxMouseEnter:function(ev){$(ev.currentTarget).find('.o_forum_tag_follow_box').stop().fadeIn().css('display','block');},_onTagFollowBoxMouseLeave:function(ev){$(ev.currentTarget).find('.o_forum_tag_follow_box').stop().fadeOut().css('display','none');},_onUserInfoMouseEnter:function(ev){$(ev.currentTarget).parent().find('.o_forum_user_bio_expand').delay(500).toggle('fast');},_onUserInfoMouseLeave:function(ev){$(ev.currentTarget).parent().find('.o_forum_user_bio_expand').clearQueue();},_onUserBioExpandMouseLeave:function(ev){$(ev.currentTarget).fadeOut('fast');},_onFlagAlertClick:function(ev){var self=this;ev.preventDefault();var $link=$(ev.currentTarget);this._rpc({route:$link.data('href')||($link.attr('href')!=='#'&&$link.attr('href'))||$link.closest('form').attr('action'),}).then(function(data){if(data.error){var message;if(data.error==='anonymous_user'){message=_t("Sorry you must be logged to flag a post");}else if(data.error==='post_already_flagged'){message=_t("This post is already flagged");}else if(data.error==='post_non_flaggable'){message=_t("This post can not be flagged");}
self.displayNotification({message:message,title:_t("Access Denied"),sticky:false,type:"warning",});}else if(data.success){var elem=$link;if(data.success==='post_flagged_moderator'){elem.data('href')&&elem.html(' Flagged');var c=parseInt($('#count_flagged_posts').html(),10);c++;$('#count_flagged_posts').html(c);}else if(data.success==='post_flagged_non_moderator'){elem.data('href')&&elem.html(' Flagged');var forumAnswer=elem.closest('.forum_answer');forumAnswer.fadeIn(1000);forumAnswer.slideUp(1000);}}});},_onVotePostClick:function(ev){var self=this;ev.preventDefault();var $btn=$(ev.currentTarget);this._rpc({route:$btn.data('href'),}).then(function(data){if(data.error){var message;if(data.error==='own_post'){message=_t('Sorry, you cannot vote for your own posts');}else if(data.error==='anonymous_user'){message=_t('Sorry you must be logged to vote');}
this.displayNotification({message:message,title:_t("Access Denied"),sticky:false,type:"warning",});}else{var $container=$btn.closest('.vote');var $items=$container.children();var $voteUp=$items.filter('.vote_up');var $voteDown=$items.filter('.vote_down');var $voteCount=$items.filter('.vote_count');var userVote=parseInt(data['user_vote']);$voteUp.prop('disabled',userVote===1);$voteDown.prop('disabled',userVote===-1);$items.removeClass('text-success text-danger text-muted o_forum_vote_animate');void $container[0].offsetWidth;if(userVote===1){$voteUp.addClass('text-success');$voteCount.addClass('text-success');$voteDown.removeClass('karma_required');}
if(userVote===-1){$voteDown.addClass('text-danger');$voteCount.addClass('text-danger');$voteUp.removeClass('karma_required');}
if(userVote===0){if(!$voteDown.data('can-downvote')){$voteDown.addClass('karma_required');}
if(!$voteUp.data('can-upvote')){$voteUp.addClass('karma_required');}}
$voteCount.html(data['vote_count']).addClass('o_forum_vote_animate');}});},_onValidationQueueClick:function(ev){ev.preventDefault();var $link=$(ev.currentTarget);$link.parents('.post_to_validate').hide();$.get($link.attr('href')).then(()=>{var left=$('.o_js_validation_queue:visible').length;var type=$('h2.o_page_header a.active').data('type');$('#count_post').text(left);$('#moderation_tools a[href*="/'+type+'_"]').find('strong').text(left);if(!left){this.$('.o_caught_up_alert').removeClass('d-none');}},function(){$link.parents('.o_js_validation_queue > div').addClass('bg-danger text-white').css('background-color','#FAA');$link.parents('.post_to_validate').show();});},_onAcceptAnswerClick:function(ev){ev.preventDefault();var $link=$(ev.currentTarget);var target=$link.data('target');this._rpc({route:$link.data('href'),}).then(data=>{if(data.error){if(data.error==='anonymous_user'){var message=_t("Sorry, anonymous users cannot choose correct answer.");}
this.displayNotification({message:message,title:_t("Access Denied"),sticky:false,type:"warning",});}else{_.each(this.$('.forum_answer'),answer=>{var $answer=$(answer);var isCorrect=$answer.is(target)?data:false;var $toggler=$answer.find('.o_wforum_validate_toggler');var newHelper=isCorrect?$toggler.data('helper-decline'):$toggler.data('helper-accept');$answer.toggleClass('o_wforum_answer_correct',isCorrect);$toggler.tooltip('dispose').attr('data-original-title',newHelper).tooltip({delay:0});});}});},_onFavoriteQuestionClick:function(ev){ev.preventDefault();var $link=$(ev.currentTarget);this._rpc({route:$link.data('href'),}).then(function(data){$link.toggleClass('o_wforum_gold fa-star',data).toggleClass('fa-star-o text-muted',!data);});},_onDeleteCommentClick:function(ev){ev.preventDefault();var $link=$(ev.currentTarget);var $container=$link.closest('.o_wforum_post_comments_container');this._rpc({route:$link.closest('form').attr('action'),}).then(function(){$link.closest('.o_wforum_post_comment').remove();var count=$container.find('.o_wforum_post_comment').length;if(count){$container.find('.o_wforum_comments_count').text(count);}else{$container.find('.o_wforum_comments_count_header').remove();}});},_onCloseIntroClick:function(ev){ev.preventDefault();document.cookie='forum_welcome_message = false';$('.forum_intro').slideUp();return true;},});publicWidget.registry.websiteForumSpam=publicWidget.Widget.extend({selector:'.o_wforum_moderation_queue',xmlDependencies:['/website_forum/static/src/xml/website_forum_share_templates.xml'],events:{'click .o_wforum_select_all_spam':'_onSelectallSpamClick','click .o_wforum_mark_spam':'async _onMarkSpamClick','input #spamSearch':'_onSpamSearchInput',},start:function(){this.spamIDs=this.$('.modal').data('spam-ids');return this._super.apply(this,arguments);},_onSelectallSpamClick:function(ev){var $spamInput=this.$('.modal .tab-pane.active input');$spamInput.prop('checked',true);},_onSpamSearchInput:function(ev){var self=this;var toSearch=$(ev.currentTarget).val();return this._rpc({model:'forum.post',method:'search_read',args:[[['id','in',self.spamIDs],'|',['name','ilike',toSearch],['content','ilike',toSearch]],['name','content']],kwargs:{}}).then(function(o){_.each(o,function(r){r.content=$('<p>'+$(r.content).html()+'</p>').text().substring(0,250);});self.$('div.post_spam').html(qweb.render('website_forum.spam_search_name',{posts:o,}));});},_onMarkSpamClick:function(ev){var key=this.$('.modal .tab-pane.active').data('key');var $inputs=this.$('.modal .tab-pane.active input.custom-control-input:checked');var values=_.map($inputs,function(o){return parseInt(o.value);});return this._rpc({model:'forum.post',method:'mark_as_offensive_batch',args:[this.spamIDs,key,values],}).then(function(){window.location.reload();});},});publicWidget.registry.WebsiteForumBackButton=publicWidget.Widget.extend({selector:'.o_back_button',events:{'click':'_onBackButtonClick',},_onBackButtonClick(){window.history.back();},});});;

/* /website_forum/static/src/js/website_forum.share.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_forum.share',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var qweb=core.qweb;var ForumShare=publicWidget.registry.socialShare.extend({selector:'',xmlDependencies:publicWidget.registry.socialShare.prototype.xmlDependencies.concat(['/website_forum/static/src/xml/website_forum_share_templates.xml']),events:{},init:function(parent,options,targetType){this._super.apply(this,arguments);this.targetType=targetType;},start:function(){var def=this._super.apply(this,arguments);this._onMouseEnter();return def;},_bindSocialEvent:function(){this._super.apply(this,arguments);$('.oe_share_bump').click($.proxy(this._postBump,this));},_render:function(){var $question=this.$('article.question');if(!this.targetType){this._super.apply(this,arguments);}else if(this.targetType==='social-alert'){$question.before(qweb.render('website.social_alert',{medias:this.socialList}));}else{$('body').append(qweb.render('website.social_modal',{medias:this.socialList,target_type:this.targetType,state:$question.data('state'),}));$('#oe_social_share_modal').modal('show');}},_postBump:function(){this._rpc({route:'/forum/post/bump',params:{post_id:this.element.data('id'),},});},});publicWidget.registry.websiteForumShare=publicWidget.Widget.extend({selector:'.website_forum',start:function(){if(sessionStorage.getItem('social_share')){var socialData=JSON.parse(sessionStorage.getItem('social_share'));(new ForumShare(this,false,socialData.targetType)).attachTo($(document.body));sessionStorage.removeItem('social_share');}
var $questionContainer=$('.oe_js_bump');if($questionContainer.length){new ForumShare(this,false,'social-alert').attachTo($questionContainer);}
return this._super.apply(this,arguments);},});});;

/* /openerp_website/static/src/js/layout/animate_children.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.o_animate_in_children',function(require){'use strict';var sAnimation=require('website.content.snippets.animation');sAnimation.registry.o_animate_in_children=sAnimation.Class.extend({selector:'.o_animate_in_children',start:function(){var def=this._super.apply(this,arguments);if(this.editableMode){return def;}
var delay=0;_.each(this.$el.children(),function(el){$(el).css('transition-delay',delay+'ms');delay+=100;});return def;},destroy:function(){this._super.apply(this,arguments);this.$el.children().css('transition-delay','');},});});;

/* /openerp_website/static/src/js/layout/top_menu.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.top_menu',function(require){'use strict';var sAnimation=require('website.content.snippets.animation');var config=require('web.config');if(config.device.size_class<=config.device.SIZES.VSM){sAnimation.registry.o_mobile_sub_nav=sAnimation.Class.extend({selector:'.o_sub_nav',events:{'click ul [data-toggle=dropdown]':'_onToggleClick',},_onToggleClick:function(ev){ev.preventDefault();ev.stopPropagation();$(ev.currentTarget).parent().toggleClass('show').siblings().removeClass('show');},});}
sAnimation.registry.top_menu_init=sAnimation.Class.extend({selector:'#wrapwrap',start:function(){var $body=$('#wrapwrap');var $header=$body.find('.o_main_header');var $ctaContainer=$header.find('.call-to-action');var ctaOuterWidth=$ctaContainer.find('>.btn').outerWidth(true)+2;var headerHeight=$header.outerHeight();var isDesktop=undefined;checkMindowMedia();$body.on('resize',_.throttle(checkMindowMedia,250));function checkMindowMedia(){var old=isDesktop;isDesktop=($body.outerWidth(true)>=576);if(old!==isDesktop){onScrollWindow();}}
$body.on('scroll',_.throttle(onScrollWindow,25));function onScrollWindow(e){var isScrolled=$body.scrollTop()>headerHeight;$header.toggleClass('o_scrolled',isScrolled);$ctaContainer.css('max-width',(isScrolled&&isDesktop?ctaOuterWidth:0));}
var timer;$header.on('click','.o_primary_nav .dropdown-toggle',function(e){e.preventDefault();var $a=$(this);var $allA=$('.o_primary_nav .dropdown-toggle');clearTimeout(timer);$allA.not($a).parent().removeClass('show');$a.parent().toggleClass('show');$a.closest('ul').toggleClass('o_sub_opened',$a.parent().hasClass('show'));if($a.closest('.o_primary_nav').children('.show').length>0){$header.addClass('o_sub_opened');}else{timer=setTimeout(function(){$header.removeClass('o_sub_opened');},200);}});$header.on('click','.o_primary_nav .o_secondary_nav',function(e){if(e.target===e.currentTarget){$header.find('.show').removeClass('show');$header.find('.o_sub_opened').addBack().removeClass('o_sub_opened');}});$header.on('click','.o_mobile_menu_toggle',function(e){e.preventDefault();$(this).find('i').toggleClass('fa-bars fa-times');$header.toggleClass('o_mobile_menu_opened');$body.toggleClass('overflow-hidden');});return this._super.apply(this,arguments);},});});;

/* /openerp_website/static/src/js/layout/top_banner.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.js_top_banner',function(require){'use strict';var config=require('web.config');var sAnimation=require('website.content.snippets.animation');sAnimation.registry.js_top_banner=sAnimation.Class.extend({selector:'.js_top_banner',innerSelector1:'.row, .o_wblog_post_title',innerSelector2:'[style*="background-image"]',start:function(){this._super.apply(this,arguments);if(this.editableMode||config.device.size_class<=config.device.SIZES.VSM){return;}
var $win=$('#wrapwrap');this.$inner=this.$(this.innerSelector1);this.$inner_bg=this.$(this.innerSelector2).addBack().filter(this.innerSelector2).last();var bgSize=(this.$inner_bg.css('background-size')||'');if(bgSize.indexOf('%')<0){this.$inner_bg=$();}else{bgSize=bgSize.split(' ');var bgStart='';var bgEnd='%';if(bgSize[0]!=='auto'){bgEnd+=' auto';}else{bgStart='auto ';}}
var bannerHeight=Math.max(450,this.$el.outerHeight(true));var bannerMarginBottom=parseFloat(this.$el.css('margin-bottom'));var scrollFactor=1.6;var initialOpacity=(this.$inner_bg.length>0?this.$inner_bg:this.$inner).css('opacity');var updateCallback=_.throttle(_.bind(this.$inner_bg.length>0?_updateBannerBg:_updateBanner,this),10);updateCallback();$win.scrollTop($win.scrollTop()-(bannerMarginBottom-parseFloat(this.$el.css('margin-bottom'))));$win.on('scroll.js_top_banner',updateCallback);function _updateBanner(){var top=Math.min($win.scrollTop(),bannerHeight/scrollFactor);var percentageHidden=top/bannerHeight*scrollFactor;this.el.style.setProperty('margin-bottom',(bannerMarginBottom-top*(scrollFactor-1))+'px','important');this.$inner.css('opacity',initialOpacity*(1-percentageHidden));}
function _updateBannerBg(){var top=Math.min($win.scrollTop(),bannerHeight);var percentageHidden=top/bannerHeight;this.$inner_bg.css({backgroundSize:bgStart+(100+15*percentageHidden)+bgEnd,opacity:initialOpacity*(1-percentageHidden),});}},destroy:function(){this._super.apply(this,arguments);$(window).off('.js_top_banner');this.el.style.removeProperty('margin-bottom');if(this.$inner){this.$inner.css('opacity','');}
if(this.$inner_bg){this.$inner_bg.css({backgroundSize:'',opacity:''});}},});});;

/* /openerp_website/static/src/js/layout/sale.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.cart',function(require){"use strict";var publicWidget=require('web.public.widget');require('website_sale.website_sale');publicWidget.registry.WebsiteSale.include({_addToCartInPage:function(){$('.o_wsale_my_cart').removeClass('d-none');this._super.apply(this,arguments);}});});;

/* /openerp_website/static/src/js/layout/forum.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('odoo.odoo_forum',function(require){'use strict';var sAnimation=require('website.content.snippets.animation');sAnimation.registry.odoo_forum=sAnimation.Class.extend({selector:'.website_forum',read_events:{'click #o_forum_search_trigger':'_onSearchTriggerClick',},_onSearchTriggerClick:function(ev){$(ev.currentTarget).toggleClass('active');this.$el.toggleClass('show');this.$('.oe_search_box').last()[this.$el.hasClass('show')?'focus':'blur']();},});});;

/* /openerp_website/static/src/js/snippets/o_play_visible.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.o_play_visible',function(require){'use strict';var sAnimation=require('website.content.snippets.animation');sAnimation.registry.o_play_visible=sAnimation.Class.extend({selector:'.o-play-visible',start:function(){var def=this._super.apply(this,arguments);if(this.editableMode){return def;}
var self=this;this.video=this.$el[0];this._pause();this.$w=$(window);this.$h=$('header.o_main_header');this._updateData();this.$w.on('resize.o_play_visible',_.debounce(this._updateData.bind(this),250));this.$w.on('scroll.o_play_visible',_.debounce(function(){var offset_top=self.$w.scrollTop();var trigger=(self.$w_height+offset_top);if(trigger>=(self.$t_offset+self.$t_limit)&&(offset_top<(self.$t_height+self.$t_offset+self.$h_height))){self._play();}else{self._pause();}},250));return def;},destroy:function(){this._super.apply(this,arguments);if(this.video){this._pause();}
$(window).off('.o_play_visible');},_pause:function(){if(!this.video.paused){this.video.pause();}},_play:function(){if(this.video.paused){this.video.play();}},_updateData:function(){this.$t_offset=this.$el.offset().top;this.$t_height=this.$el.height();this.$w_height=this.$w.height();this.$h_height=this.$h.height();this.$t_limit=this.$w_height>this.$t_height?(this.$t_height*3/4):0;},});sAnimation.registry.mediaVideo.include({start:function(){var def=this._super.apply(this,arguments);if(this.$el.attr('src')){this.$('iframe').attr('src',this.$target.attr('src'));}
return def;},});});;

/* /openerp_website/static/src/js/snippets/s_affix.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.s_affix',function(require){'use strict';var sAnimation=require('website.content.snippets.animation');sAnimation.registry.s_affix=sAnimation.Class.extend({selector:'.s_affix',start:function(){this._super.apply(this,arguments);if(this.editableMode){return;}
var $nav=this.$('#features_affix');var $nav_parent=$nav.parent();var $page_content=this.$('[role="main"]');var $wrapwrap=$('#wrapwrap');$nav.addClass('list-group');_.each($page_content.find('h1, h2').not('.o_not_in_affix_menu'),function(el){var $title=$(el);var id=_.uniqueId('part_');$('<a>').addClass('list-group-item list-group-item-action py-1 border-0').text($title.text()).attr('href',"#"+id).appendTo($nav);$title.before($('<div/>',{id:id,class:'anchor'}));});var odoo_header_height=$('#oe_main_menu_navbar').outerHeight()||0;var header_height=$('.o_main_header',$wrapwrap).first().outerHeight()||0;var real_top=odoo_header_height+header_height;if(real_top){this.$('.anchor').css({'margin-top':-real_top+'px','padding-top':real_top+'px','pointer-events':'none'});}
var checkAffix=function(){$nav.toggleClass('o_js_affix_active',$nav_parent.is(':visible'));if($nav_parent.is(':hidden')){return;}
$nav.width($nav_parent.width());};checkAffix();$(window).on('resize.s_affix',_.debounce(checkAffix,250));$().getScrollingElement().scrollspy({target:'.o_js_affix_active',offset:header_height,});},destroy:function(){this._super.apply(this,arguments);this.$('#features_affix').empty();this.$('.anchor').remove();$(window).off('.s_affix');},});});;

/* /openerp_website/static/src/js/snippets/s_panel_video.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.s_panel_video',function(require){'use strict';var core=require('web.core');var sAnimation=require('website.content.snippets.animation');sAnimation.registry.s_panel_video=sAnimation.Class.extend({selector:".s_panel_video",xmlDependencies:(sAnimation.Class.prototype.xmlDependencies||[]).concat(['/openerp_website/static/src/xml/odoo_website.xml']),read_events:{'click .s_figure_link, .s_panel_video_play, .btn_video_play':'_onClick',},start:function(){this.videoID=this.$target.data('video-id');return this._super.apply(this,arguments);},_onClick:function(){var self=this;this.$modal=$(core.qweb.render('openerp_website.s_panel_video_modal',{video_id:this.videoID}));this.$modal.appendTo('body');this.$modal.modal();this.$modal.on('hidden.bs.modal',function(){self.$modal.remove();});},});});;

/* /openerp_website/static/src/js/snippets/s_ribbon_video.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.s_ribbon_video',function(require){'use strict';var sAnimation=require('website.content.snippets.animation');sAnimation.registry.s_ribbon_video=sAnimation.Class.extend({selector:'.s_ribbon_video',read_events:{'mouseenter .o_col_video':'_onMouseEnter',},start:function(){var def=this._super.apply(this,arguments);if(this.editableMode){return def;}
$(document).on('click.s_ribbon_video',this._toggleVideo.bind(this,false));return def;},destroy:function(){this._super.apply(this,arguments);$(document).off('.s_ribbon_video');this.$target.removeClass('js_video_hover js_prepend_video');},_toggleVideo:function(toggle){var self=this;this.$target.toggleClass('js_video_hover',toggle);setTimeout(function(){self.$target.toggleClass('js_prepend_video',toggle);},300);},_onMouseEnter:function(){this._toggleVideo(true);},});});;

/* /openerp_website/static/src/js/snippets/s_users_mosaic.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.s_users_mosaic',function(require){'use strict';var config=require('web.config');var sAnimation=require('website.content.snippets.animation');sAnimation.registry.s_users_mosaic=sAnimation.Class.extend({selector:".s_users_mosaic",start:function(){var def=this._super.apply(this,arguments);if(this.editableMode||config.device.size_class<=config.device.SIZES.MD){return def;}
var self=this;var $win=$(window);this.$mosaic=this.$('#mosaic');var horizontal_pieces=18;var vertical_pieces=8;var total_pieces=horizontal_pieces*vertical_pieces;var count=0;var userImgs=[];var percentageH=100/(horizontal_pieces-1);var percentageV=100/(vertical_pieces-1);for(var i=0;i<total_pieces;i++){var horizontal_position=(i%horizontal_pieces);var vertical_position=Math.floor(i/horizontal_pieces);var $userImg=$('<span/>');$userImg.css('background-position',(percentageH*horizontal_position)+'% '+(percentageV*vertical_position)+'%').css('background-image','url(/openerp_website/static/src/img/2016/mosaic_1.jpg)');this.$mosaic.append($userImg);userImgs.push($userImg);}
var visible=false;checkVisibility();$win.on('scroll.s_users_mosaic',_.debounce(checkVisibility,200));return def;function checkVisibility(){var winScroll=$win.scrollTop();var mosaicTop=self.$mosaic.offset().top;var newVisible=(winScroll+$win.outerHeight()>mosaicTop&&winScroll<mosaicTop+self.$mosaic.outerHeight());if(newVisible!==visible){visible=newVisible;if(visible){toggleDisplay();}else{clearTimeout(self.animation_timer);}}}
function toggleDisplay(){if(count===0){shuffleArray(userImgs);}
userImgs[count].toggleClass('o_fade');count=(count+1)%total_pieces;self.animation_timer=setTimeout(toggleDisplay,250);}
function shuffleArray(array){for(var i=array.length-1;i>0;i--){var j=Math.floor(Math.random()*(i+1));var temp=array[i];array[i]=array[j];array[j]=temp;}}},destroy:function(){this._super.apply(this,arguments);clearTimeout(this.animation_timer);$(window).off('.s_users_mosaic');if(this.$mosaic){this.$mosaic.empty();}},});});;

/* /openerp_website/static/src/js/snippets/s_tooltips_tabs.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.s_tooltips_tabs',function(require){'use strict';var sAnimation=require('website.content.snippets.animation');sAnimation.registry.s_tooltips_tabs=sAnimation.Class.extend({selector:'.s_tooltips_tabs',start:function(){var def=this._super.apply(this,arguments);if(this.editableMode){_.each(this.$('.js_noscript_img'),function(el){var $noscriptImg=$(el);$noscriptImg.replaceWith($noscriptImg.text());});return def;}
_.each(this.$('.tab-pane'),function(el){var $tab=$(el);var $tooltips=$tab.find('.s_tooltip_tabs_tooltip');var $img=$tab.find('.s_tooltip_tabs_tooltip_image');$tab.on('click.s_tooltip_tabs_tooltip_link','.s_tooltip_tabs_tooltip_link',function(e){e.preventDefault();var $tooltip=$(e.currentTarget).closest('.s_tooltip_tabs_tooltip');$tooltips.not($tooltip).removeClass('s_tooltip_tabs_tooltip_active');$tooltip.toggleClass('s_tooltip_tabs_tooltip_active');$tab.toggleClass('s_tooltip_tabs_tooltip_is_open',$tooltip.hasClass('s_tooltip_tabs_tooltip_active'));});$img.on('click.s_tooltip_tabs_tooltip_image',getImageHandler($tab,$tooltips));});this.image_loading_callback=function(e){var $tab=$($(e.target).attr('href'));var $tooltips=$tab.find('.s_tooltip_tabs_tooltip');var $noscriptImg=$tab.find('.js_noscript_img');var $img=$($noscriptImg.text());$noscriptImg.replaceWith($img);$img.on('click.s_tooltip_tabs_tooltip_image',getImageHandler($tab,$tooltips));};this.$el.closest('ul + *').prev().on('mouseover','a[href^="#"]',this.image_loading_callback);function getImageHandler($tab,$tooltips){return function(){$tab.removeClass('s_tooltip_tabs_tooltip_is_open');$tooltips.removeClass('s_tooltip_tabs_tooltip_active');};}
return def;},destroy:function(){this._super.apply(this,arguments);_.each(this.$target.find('.tab-pane'),function(el){var $tab=$(el);var $img=$tab.find('.s_tooltip_tabs_tooltip_image');$tab.off('click.s_tooltip_tabs_tooltip_link','.s_tooltip_tabs_tooltip_link');$img.off('click.s_tooltip_tabs_tooltip_image');});this.$target.closest('ul + *').prev().off('mouseover','a[href^="#"]',this.image_loading_callback);},});});;

/* /openerp_website/static/src/js/snippets/s_animated_headline.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.s_animated_headline',function(require){'use strict';var utils=require('web.concurrency');var sAnimation=require('website.content.snippets.animation');sAnimation.registry.s_animated_headline=sAnimation.Class.extend({selector:'.s_animated_headline_content',animationDelay:2500,typeLettersDelay:150,selectionDuration:500,typeAnimationDelay:800,start:function(){var def=this._super.apply(this,arguments);if(this.editableMode){return def;}
this._stopped=false;this.$('b').each(function(){var $word=$(this),letters=$word.text().split(''),selected=$word.hasClass('s_animated_headline_visible');for(var i in letters){letters[i]=(selected)?'<i class="in">'+letters[i]+'</i>':'<i>'+letters[i]+'</i>';}
var newLetters=letters.join('');$word.html(newLetters).css('opacity',1);});var self=this;utils.delay(this.animationDelay).then(function(){self._hideWord(self.$target.find('.s_animated_headline_visible').eq(0));});return def;},destroy:function(){this._super.apply(this,arguments);this._stopped=true;},_hideWord:function($word){if(this._stopped)return;var self=this;var nextWord=(!$word.is(':last-child'))?$word.next():$word.parent().children().eq(0);var $parentSpan=$word.parent('.s_animated_headline_content');$parentSpan.addClass('s_animated_headline_selected').removeClass('s_animated_headline_waiting');utils.delay(this.selectionDuration).then(function(){$parentSpan.removeClass('s_animated_headline_selected');$word.removeClass('s_animated_headline_visible').addClass('s_animated_headline_hidden').children('i').removeClass('in').addClass('out');utils.delay(self.typeAnimationDelay).then(function(){self._showWord(nextWord,self.typeLettersDelay);});});},_showWord:function($word,duration){if(this._stopped)return;this._showLetter($word.find('i').eq(0),$word,duration);$word.addClass('s_animated_headline_visible').removeClass('s_animated_headline_hidden');},_showLetter:function($letter,$word,duration){if(this._stopped)return;var self=this;$letter.addClass('in').removeClass('out');if(!$letter.is(':last-child')){utils.delay(duration).then(function(){self._showLetter($letter.next(),$word,duration);});}else{var delay=200;utils.delay(delay).then(function(){$word.parents('.s_animated_headline_content').addClass('s_animated_headline_waiting');utils.delay(Math.max(0,self.animationDelay-delay)).then(function(){self._hideWord($word);});});}},});});;

/* /openerp_website/static/src/js/oe_event_track.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.odoo_experience_track',function(require){"use strict";require('web.dom_ready');var Widget=require('web.Widget');var $form=$('#o_xp_track_proposal');if(!$form.length){return null;}
var OdooExperienceTrackWidget=Widget.extend({events:{"keyup textarea[name='description']":"validate_description","click .o_more_attachments":"add_attachment","click .o_less_attachments":"remove_attachment",},start:function(){this.$el.off('submit');this.$el[0].addEventListener('submit',this.validate_submit.bind(this),true);},validate_submit:function(ev){ev.preventDefault();var $btn=this.$('button[type="submit"]');var init_html=$btn.html();$btn.prop('disabled','disabled');$btn.html('<i class="fa fa-spinner fa-spin mr-2"/>'+init_html);var valid=this.validate_description(ev);if(valid){this.$el.submit();}else{$('.o_xp_wcount').addClass('bg-danger');$btn.removeProp('disabled');$btn.html(init_html);}},validate_description:function(ev){var self=this;var $description=self.$("textarea[name='description']");var $btn=self.$("button[type='submit']");var $wcount=$description.parent().parent().find('.o_xp_wcount');var num_words=$description.val().split(/\s+/g).length;if(num_words<150){$description.parent().addClass('has-error');$wcount.removeClass('d-none');$wcount.find('#o_xp_wcount').text(num_words);return false;}else{$wcount.addClass('d-none');$description.parent().removeClass('has-error');return true;}},add_attachment:function(ev){ev.preventDefault();var attachment_fields=this.$('input[type=file]');attachment_fields.first().parent().children('a').removeClass('d-none');var new_attachment_field=attachment_fields.first().parent().clone();new_attachment_field.children('input').val('').attr('name','attachment'+attachment_fields.length);attachment_fields.last().parent().after(new_attachment_field);},remove_attachment:function(ev){ev.preventDefault();$(ev.target).closest('div').remove();var attachment_fields=$('input[type=file]');attachment_fields.each(function(index){$(this).attr('name','attachment'+index);});if(attachment_fields.length==1){attachment_fields.parent().children('a').addClass('d-none');}},});var oe_track_widget=new OdooExperienceTrackWidget();oe_track_widget.setElement($('#o_xp_track_proposal'));oe_track_widget.start();});;

/* /openerp_website/static/src/js/snippets/oe_country_events.ext.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.oe_country_events',function(require){'use strict';var core=require('web.core');var sAnimation=require('website.content.snippets.animation');require('website_event.geolocation');sAnimation.registry.visitor.include({xmlDependencies:(sAnimation.registry.visitor.prototype.xmlDependencies||[]).concat(['/openerp_website/static/src/xml/odoo_website.xml']),start:function(){return this._super.apply(this,arguments).then(function(){var $data=$('.country_events_list');_.each($data.find('.oe_website_overflow_ellipsis'),function(el){var $el=$(el);var $a=$el.find('a');var date=$el.find('b > span:first-child').text();var index=date.indexOf(' ');var time_class='';if(index<0){index=date.length;}else if(date.substring(index,date.length).indexOf('-')>=0){time_class='days-range';}
$el.replaceWith(core.qweb.render('openerp_website.oe_country_events_item',{url:$a.attr('href'),desc:$a.text(),icoC:$el.find('i.fa').attr('class'),icoT:$el.find('i.fa').attr('title'),day:date.substring(index,date.length),month:date.substring(0,index),time_class:time_class,}));});});},});});;

/* /openerp_website/static/src/js/components/o_internal_tooltip_links.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.o_internal_tooltip_link',function(require){'use strict';var sAnimation=require('website.content.snippets.animation');sAnimation.registry.o_internal_tooltip_link=sAnimation.Class.extend({selector:'.o_internal_tooltip_link',start:function(){this.$el.tooltip();return this._super.apply(this,arguments);},});sAnimation.registry.o_popover=sAnimation.Class.extend({selector:'[data-toggle="popover"]',start:function(){this.$el.popover();return this._super.apply(this,arguments);},});});;

/* /openerp_website/static/src/js/components/country_selector.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.o_country_selector',function(require){'use strict';var core=require('web.core');var sAnimation=require('website.content.snippets.animation');sAnimation.registry.o_country_selector=sAnimation.Class.extend({selector:'.o_country_selector',xmlDependencies:(sAnimation.Class.prototype.xmlDependencies||[]).concat(['/openerp_website/static/src/xml/odoo_website.xml']),read_events:{'click':'_onClick',},destroy:function(){this._super.apply(this,arguments);if(this.$modal){this.$modal.modal('hide');}},_onClick:function(ev){var self=this;ev.preventDefault();this._rpc({model:'res.country',method:'search_read',domain:[],fields:['id','name','code','image_url'],}).then(function(countries){self.$modal=$(core.qweb.render('openerp_website.o_country_selector_modal',{countries:countries}));self.$modal.appendTo('body');self.$modal.modal();self.$modal.on('shown.bs.modal',function(){var $input=self.$modal.find('#filter');var $countries=self.$modal.find('.row > div');$input.on('change paste keyup',function(){var query=$input.val().toLowerCase();_.each($countries,function(el){var $c=$(el);var txt=$c.data('country').toLowerCase();$c.toggleClass('d-none',(txt.indexOf(query)<0));});});_.each($countries,function(el){var $c=$(el);$c.on('click',function(e){e.preventDefault();var hash=$.deparam(window.location.hash);if(hash.force_country){delete hash.force_country;window.location.hash=$.param(hash);}
window.location=_.str.sprintf('/localization?country=%s&redirect=%s',$c.data('country_code'),encodeURIComponent(window.location.pathname+window.location.search+window.location.hash));});});$input.focus();});self.$modal.on('hidden.bs.modal',function(){self.$modal.remove();});});},});});;

/* /openerp_website/static/src/js/components/o_device_detection.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.o_device_detection',function(require){'use strict';require('web.dom_ready');var userAgent=navigator.userAgent||navigator.vendor||window.opera;$('html').toggleClass('o_ios_device',/iPad|iPhone|iPod/.test(userAgent)&&!window.MSStream);$('html').toggleClass('o_android_device',/android/i.test(userAgent));$('html').toggleClass('o_win_phone_device',/windows phone/i.test(userAgent));});;

/* /openerp_website/static/src/js/components/apps_assets.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.o_apps_assets',function(require){"use strict";var sAnimation=require('website.content.snippets.animation');sAnimation.registry.o_apps_assets=sAnimation.Class.extend({selector:'.o_apps_icons',read_events:{'change .o_apps_search':'_onInputChange','paste  .o_apps_search':'_onInputChange','keyup  .o_apps_search':'_onInputChange','click  .o_apps_search_clear':'_onResetInput'},_checkGroups:function(groups){var tot=this.$(".o_app_icon_entry").length;var hidden=this.$(".o_app_icon_entry.d-none").length;this.$('.o_no_results').toggleClass('d-none',tot!==hidden);this.$('.o_results_number').toggleClass('d-none',hidden===0||tot===hidden).find('b').text(tot-hidden);_.each(groups,function(el){var $el=$(el);$el.toggleClass('d-none',$el.find('.o_app_icon_entry:not(.d-none)').length===0);});},_onInputChange:function(ev){var self=this;var query=$(ev.target).val().toLowerCase();_.each(self.$('.o_app_icon_entry'),function(el){var $el=$(el);var txt=$el.text().toLowerCase();$el.toggleClass('d-none',(txt.indexOf(query)<0));self._checkGroups(self.$('.o_apps_group'));});},_onResetInput:function(ev){this.$(".o_apps_search").val('').trigger('change').focus();ev.preventDefault();},});});;

/* /openerp_website/static/src/js/OneSignal/odoo.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('odoo.odoo_onesignal',function(require){'use strict';var utils=require('web.utils');var sAnimation=require('website.content.snippets.animation');if(window.location.search.indexOf('no_push')>=0){return $.Deferred().reject("OneSignal ask no_push");}
if(window.location.hostname.indexOf('www.odoo.com')!==0){return $.Deferred().reject("OneSignal for www.odoo.com only");}
if(utils.get_cookie('odoo_no_push')==='1'){return;}
window.OneSignal=window.OneSignal||[];sAnimation.registry.o_push_modal=sAnimation.Class.extend({selector:'#wrapwrap',start:function(){var def=this._super.apply(this,arguments);if(this.editableMode||$('.o_no_onesignal').length){return def;}
var self=this;OneSignal.push(function(){if(!OneSignal.isPushNotificationsSupported()){return;}
var pAllowNotif=OneSignal.getNotificationPermission();var pIsSubscribed=OneSignal.isPushNotificationsEnabled();Promise.all([pAllowNotif,pIsSubscribed]).then(function(values){var isAllow=values[0];var isSubscribed=values[1];if(isAllow==='default'){$.get('/openerp_website/push/pushbox.xml').done(function(content){$('body').append(content);setTimeout(function(){$('#push-notif').show();$('body').on('click','#push-notif .push_accept',self.registerPush);$('body').on('click','#push-notif .push_refuse',self.noPush);$('body').on('click','#push-notif .push_close',self.closePush);},8000);});}else if(isAllow==='granted'&&(!isSubscribed)){OneSignal.registerForPushNotifications();}});});return def;},destroy:function(){this._super.apply(this,arguments);$('#push-notif').remove();},registerPush:function(){utils.set_cookie('odoo_no_push',0);OneSignal.push(["registerForPushNotifications"]);$('#push-notif').remove();},noPush:function(){utils.set_cookie('odoo_no_push',1,24*60*60*30);$('#push-notif').remove();},closePush:function(){utils.set_cookie('odoo_no_push',1,2*60*60);$('#push-notif').remove();},});});;

/* /openerp_website/static/src/js/components/db_activation_steps.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.o_db_activation',function(require){"use strict";var ajax=require('web.ajax');var core=require('web.core');var s_animation=require('website.content.snippets.animation');var constants=require('saas_worker.const');var utils=require('web.utils');var _t=core._t;s_animation.registry.o_db_activation=s_animation.Class.extend({selector:'.o_db_activation_container',pos:0,xmlDependencies:['/openerp_website/static/src/xml/db_activation_steps.xml'],_secret_user_signature:null,_dbUuid:null,_dbName:null,_dbUserLogin:null,_dbUserId:null,_initialStep:null,_hasInviteDeal:null,_invitedUsersCount:null,_loggedUsersCount:null,_invitedEmails:null,_dbCountry:null,_acceptedCountries:null,_orderId:null,_orderStatus:null,_trackingUrl:null,start:function(editable_mode){this._super.apply(this,arguments);if(editable_mode)return;var $dataset=$("div[name='o_db_activation_dataset']");var data=$dataset.data();for(var k in data){this['_'+k]=data[k];}
this._retrieve_user_secret_signature();if(this._initialStep>0){this.pos=this._initialStep-1;}
this.$el.find('.o_db_activation_steps').fadeIn(500);this._next();},_next:function(){var self=this;var pos=this.pos;var pos_next=parseInt(pos+1);var $new_content=$(core.qweb.render("openerp_website.o_db_activation_step_"+pos_next,this._get_render_values(pos_next)));this._updateContent($new_content,pos,pos_next);},_skip:function(){var pos=this.pos;var $new_content=$(core.qweb.render("openerp_website.o_db_activation_step_4",this._get_render_values(4)));this.$el.find('.o_db_activation_steps').fadeOut(200);this._updateContent($new_content,pos,4);},_get_render_values:function(step){if(step==4){return{'database_url_simple':this._dbName+'.'+constants.SAAS_BASE_URL,'invitation_sent':this._invitedUsersCount||0,'invitation_success':this._loggedUsersCount||0,'has_invitation_deal':this._hasInviteDeal==="True"||0,};}
else if(step==5){return{'email':this._dbUserLogin,'country':this._dbCountry,'accepted_countries':this._acceptedCountries,};}
else if(step==6){return{'database_url_simple':this._dbName+'.'+constants.SAAS_BASE_URL,'follow_order_url':constants.WEBSITE+'/odoo-enterprise/track-order?orderid='+encodeURIComponent(this._orderId),};}
else if(step==7){return{'order_status':(this._orderStatus||'error').toLowerCase(),'tracking_url':this._trackingUrl||false,'database_url_simple':this._dbName+'.'+constants.SAAS_BASE_URL,};}
return{};},_updateContent:function($new_content,pos,pos_next){var self=this;var $steps=this.$el.find('.o_db_activation_steps');this.$el.find('.o_db_activation_content').fadeOut(200,function(){$(this).replaceWith($new_content);self.$el.removeClass('step_'+pos).addClass('step_'+pos_next);self.$el.find('input[autofocus="true"]').focus();self._bind_events();});var next_image=pos_next>=4?4:pos_next;self.$el.find('.o_db_activation_img:not(.o_current)').css('background-image','url("/openerp_website/static/src/img/db_activation/db_activation_bg_'+next_image+'.jpg")');self.$el.find('.o_db_activation_img').toggleClass('o_current');if(pos_next>=4){$steps.fadeOut(200);}else{$steps.find('.progress-bar').width(function(){switch(pos_next){case 1:return 0;case 2:return"50%";case 3:return"100%";}});$steps.find('.o_db_activation_steps_group > div:nth-child('+pos_next+')').addClass('o_current');$steps.find('.o_db_activation_steps_group > div:nth-child('+parseInt(pos_next-1)+')').addClass('o_done');}
this.pos=pos_next;},_retrieve_user_secret_signature:function(){var def=$.Deferred();if(this._secret_user_signature){return def.resolve();}
var self=this;var dbname=this._dbName;var signature_url=constants.SCHEME+'://'+dbname+'.'+constants.SAAS_BASE_URL+'/saas_trial/signature';var settings={xhrFields:{withCredentials:true}};ajax.jsonRpc(signature_url,'call','',settings).then(function(res){if(res){self._secret_user_signature=res;def.resolve();}
else{def.reject();}}).guardedCatch(function(){def.reject();});return def;},_displayError:function(message,selector){var $error_html=$(core.qweb.render("openerp_website.o_db_action_error",{'message':message}));var $field=this.$el.find(selector);$field.find('div.oe_db_activation_error_msg').remove();$field.prepend($error_html);},_invite_users:function(def){var self=this;var invitee=[];var db_user_id=parseInt(this._dbUserId);for(var i=0;i<3;i++){var $invitee_mail=this.$el.find('input[id="oe_invitee_email_'+i+'"]');var $invitee_name=this.$el.find('input[id="oe_invitee_name_'+i+'"]');if($invitee_mail.val().length>0){invitee.push({'name':$invitee_name.val(),'mail':$invitee_mail.val(),});}}
this._retrieve_user_secret_signature().then(function(){ajax.jsonRpc('/odoo-enterprise/invite-users-submit','call',{'db_uuid':self._dbUuid,'login':self._dbUserLogin,'user_id':db_user_id,'secret_signature':self._secret_user_signature,'invitee':invitee,}).then(function(data){if(data&&data.result){self._invitedUsersCount=invitee.length;def.resolve();}
else{var message=_t("There was a server error, please retry");switch(data.error_code){case"failed_invitation":break;case"user_exists":message=_.str.sprintf(_t("The email(s) %s are already invited in this database."),data.error_data.join(', '));break;case"db_not_found":message=_t("Unknown database !");break;case"no_mails":message=_t("Please set a at least one email address");break;}
self._displayError(message,"form");def.reject();}}).guardedCatch(function(){self._displayError(_t("Server error, please retry"),"form");def.reject();});}).fail(function(){self._displayError(_.str.sprintf(_t("You have to be connected to your database %s to invite colleagues."),self._dbName),"form");def.reject();});},_get_input_value:function(input_id,required){var value=this.$el.find('input[id="'+input_id+'"]').val();if(!value&&required)
{this._displayInfoError(input_id,_t('This field is required.'));return false;}
return value;},_redeem_gift:function(def){var self=this;var firstName=self._get_input_value('oe_redeem_first_name',true)||def.reject();var lastName=self._get_input_value('oe_redeem_last_name',true)||def.reject();var addrLine1=self._get_input_value('oe_redeem_addr_line_1',true)||def.reject();var addrLine2=self._get_input_value('oe_redeem_addr_line_2',false);var addrCity=self._get_input_value('oe_redeem_addr_city',true)||def.reject();var addrState=self._get_input_value('oe_redeem_addr_state',false);var addrPostalCode=self._get_input_value('oe_redeem_addr_postalcode',true)||def.reject();var addrCountryCode=self.$el.find('select[id="oe_redeem_addr_country"]').val();var phone=self._get_input_value('oe_redeem_phone',true)||def.reject();var email=self._get_input_value('oe_redeem_email',true)||def.reject();if(!utils.is_email(email))
{self._displayInfoError('oe_redeem_email',_t('Invalid email address'));def.reject();}
if(addrState&&addrState.length!=2){self._displayInfoError('oe_redeem_addr_state',_t('The country state code must be 2 characters long'));def.reject();}
if(def.state()!=='rejected')
{ajax.jsonRpc('/odoo-enterprise/redeem-invitation-gift-submit','call',{'login':self._dbUserLogin,'db_uuid':self._dbUuid,'firstName':firstName,'lastName':lastName,'addrLine1':addrLine1,'addrLine2':addrLine2,'addrCity':addrCity,'addrState':addrState,'addrPostalCode':addrPostalCode,'addrCountryCode':addrCountryCode,'phone':phone,'email':email,}).then(function(data){if(data&&data.result){self._orderId=data.order_id;def.resolve();}
else{var message=_t("There was a server error, please retry");switch(data.error_code){case"cannot_order":break;case"unsupported_country":message=_t('The country you selected is not supported by our invitation gift plan.');break;case"already_redeemed":message=_t("The gift for this invitation has already been redeemed.");break;case"not_found":message=_t("This invitation doesn't exist");break;}
self._displayError(message,"form");def.reject();}}).guardedCatch(function(){self._displayError(_t("There was a server error, please retry"),"form");def.reject();});}},_validate_before_next:function(){var def=$.Deferred();if(!this._validateFields()){return def.reject();}
if(this.pos==3){this._invite_users(def);}
else if(this.pos==5){this._redeem_gift(def);}
else{def.resolve();}
return def;},_validate_before_skip:function(){return true;},_displayInfoError:function(field_id,message){var $tooltip=$(core.qweb.render("openerp_website.o_db_activation_tooltip",{'message':message}));var $input_field=this.$el.find('input[id="'+field_id+'"]');$input_field.next('div.tooltip').remove();var $parent_div=$input_field.parent();$parent_div.append($tooltip);setTimeout(function(){$parent_div.addClass('o_has_warning').on('click',function(e){$(e.target).closest('div.o_has_warning').removeClass('o_has_warning');$(e.target).next('div.tooltip').remove();});},200);},_validateInviteeInfo:function(){var success=true;var at_least_one_mail=false;for(var i=0;i<3&&success;i++)
{var invitee_name=this.$el.find('input[id="oe_invitee_name_'+i+'"]').val();var invitee_email=this.$el.find('input[id="oe_invitee_email_'+i+'"]').val();if(invitee_email.length){at_least_one_mail=true;if(!utils.is_email(invitee_email)){this._displayInfoError('oe_invitee_email_'+i,_t('Invalid email address'));success=false;}
if(invitee_name.length===0){this._displayInfoError('oe_invitee_name_'+i,_t('Please insert your colleague name'));success=false;}}}
if(at_least_one_mail===false){this._displayInfoError('oe_invitee_email_0',_t('Please insert your colleague email'));this._displayInfoError('oe_invitee_name_0',_t('Please insert your colleague name'));}
return success&&at_least_one_mail;},_validateFields:function(){if(this.pos==3)
{return this._validateInviteeInfo();}
return true;},_bind_events:function(){var self=this;this.$el.find('.o_db_activation_next').on('click',function(e){var $target=$(e.target);$target.prepend('<span class="oe_db_activation_spinner"><i class="fa fa-spinner fa-spin"></i>&nbsp;</span>');self._validate_before_next().then(function(){self._next();$target.find('span[class="oe_db_activation_spinner"]').remove();},function(){$target.find('span[class="oe_db_activation_spinner"]').remove();});});this.$el.find('.o_db_activation_skip').on('click',function(){if(self._validate_before_skip()){self._skip();}});},});});;

/* /openerp_website/static/src/js/components/documents_calculator.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.o_documents_calculator',function(require){"use strict";var sAnimation=require('website.content.snippets.animation');var core=require('web.core');var _t=core._t;sAnimation.registry.o_documents_calculator=sAnimation.Class.extend({selector:'.o_dc',save_list:[],read_events:{'change .o_dc_range':'_getResults','input .o_dc_range':'_updateLabel',},start:function(){var self=this;_.each(this.$el.find('.tab-pane'),function(tab){var $tab=$(tab);var before=0,after=0;_.each($tab.find('.o_dc_before [data-sec]'),function(step){before=before+$(step).data('sec');});_.each($tab.find('.o_dc_after [data-sec]'),function(step){after=after+$(step).data('sec');});self.save_list.push({'tab':$tab.attr('id'),'before':before,'after':after,});});this._getResults();},_getResults:function(){var self=this;var tot_before_seconds=0,tot_after_seconds=0,tot_saved_seconds=0;_.each(this.$('.o_dc_range'),function(input){var $input=$(input);var value=$input.val();$input.siblings('label').text(value);_.each(self.save_list,function(task){if(task.tab==$input.data('for')){tot_before_seconds=tot_before_seconds+(task.before*value);tot_after_seconds=tot_after_seconds+(task.after*value);}});});tot_saved_seconds=tot_before_seconds-tot_after_seconds;this._formatTime(tot_before_seconds,this.$('.o_before'));this._formatTime(tot_after_seconds,this.$('.o_after'));this._formatTime(tot_saved_seconds,this.$('.s_o_number'));var percentage=100-(((tot_before_seconds-tot_saved_seconds)/tot_before_seconds)*100)||0;this.$('.o_dc_result figcaption span').text(percentage.toFixed(1).replace('.0','')+'%');var normalized_result=percentage/100*314||0;this.$('circle').css('stroke-dasharray',normalized_result+", 200, 0, 200");},_formatTime:function(seconds,$el){var timin=(seconds>=3600)?3600:60;var scale=(seconds>=3600)?_t("hours"):_t("minutes");var $value=$el.find('.o_value');$value.fadeTo(200,0,function(){$value.text((seconds/timin).toFixed(1).replace('.0',''));$el.find('.o_measure').text(scale);$value.fadeTo(300,1);});},_updateLabel:function(ev){var $input=$(ev.target);$input.siblings('label').text($input.val());},});});;

/* /openerp_website/static/src/js/components/o_images_viewer.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.o_images_viewer',function(require){'use strict';var core=require('web.core');var sAnimation=require('website.content.snippets.animation');var Dialog=require('web.Dialog');var oImagesViewerDialog=Dialog.extend({template:'openerp_website.o_images_viewer_modal',init:function(parent,options,imgs){this._super(parent,_.extend({technical:false,},options||{}));this.imgs=imgs;},start:function(){var self=this;this.$modal.attr('id','o_images_viewer_modal');this.$modal.find('.close').appendTo(this.$modal);this.$modal.find('.modal-header, .modal-footer').remove();this.$modal.on('click',function(ev){if($(ev.target).is('.modal-body, .modal-content, .modal-dialog, .modal')){self.close();}});},});sAnimation.registry.o_images_viewer=sAnimation.Class.extend({selector:'.o_images_viewer',xmlDependencies:['/openerp_website/static/src/xml/odoo_website.xml'],read_events:{'click':'_onClick',},_getFullsizeImgs:function(){return _.map(this.$('[data-fullsize-src]'),function(el){var $el=$(el);return{src:$el.data('fullsize-src')||$el.attr('src'),alt:$el.data('fullsize-alt')||$el.attr('alt'),};});},_onClick:function(){var imgs=this._getFullsizeImgs();if(!imgs.length){return;}
new oImagesViewerDialog(this,{},imgs).open();},});});;

/* /openerp_website/static/src/js/pages/o_website_app_page.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.o_website_app_page',function(require){"use strict";const config=require('web.config');const{registry,Animation}=require('website.content.snippets.animation');const wUtils=require('website.utils');registry.o_website_app_page_edit_mode=Animation.extend({selector:'#wrapwrap.o_website_builder',disabledInEditableMode:false,start(){if(this.editableMode){window.alert("DO NOT SAVE THIS PAGE VIA THE WEBSITE BUILDER PLEASE");}
return this._super(...arguments);},});registry.o_website_app_page=Animation.extend({selector:'#wrapwrap.o_website_builder',effects:[{startEvents:'resize',update:'_onWindowResize',},{startEvents:'scroll',update:'_onWindowScroll',}],async start(){for(const el of[document.documentElement,document.body,this.el]){el.style.overflow="initial";el.style.height="auto";}
this.bannerEl=this.el.querySelector('#owb_banner');this.bannerImg1El=this.el.querySelector('#owb_banner_img_1');this.bannerImg2El=this.el.querySelector('#owb_banner_img_2');this.bannerImg3El=this.el.querySelector('#owb_banner_img_3');this.introImageEl=this.el.querySelector('#owb_intro_image');this.introVideoEl=this.el.querySelector('#owb_intro_video');this.introVideoBorderRadius=parseInt(getComputedStyle(this.introVideoEl)[['border-top-left-radius']]);this.introVideoMaxClipX=75.1;this.introVideoScrollBarExtraClipX=1.1;this.introVideoMaxClipY=64;this.$('#owb_business_carousel').on("slide.bs.carousel",(ev)=>{const $entries=this.$('.owb_bs_index_entry');$entries[ev.from].classList.remove('active');$entries[ev.to].classList.add('active');});this.ccEls=this.el.querySelectorAll('.owb_slide_cc');this.tccStartEl=this.el.querySelector('#owb_slide_cc0_pre');this.tccScreenAndTitleEl=this.el.querySelector('#owb_tcc_screen_and_title');this.tccTitleEl=this.el.querySelector('#owb_tcc_title');this.tccScreenEl=this.el.querySelector('#owb_tcc_screen');this.tccBrowserHeaderEl=this.el.querySelector('#owb_tcc_item_header');this.tccBrowserShapeEl=this.el.querySelector('#owb_tcc_item_shape');this.tccBrowserLadyEl=this.el.querySelector('#owb_tcc_lady');this.tccEditorBoxEl=this.el.querySelector('#owb_editor_panel_content_box');this.tccEditorArrowEl=this.el.querySelector('#owb_editor_panel_content_arrow_container');this.tccLinkEls=this.el.querySelectorAll('.owb_screen_2_action_btn');this.tccScreenCurrentScale=1;this.themePerspectiveEl=this.el.querySelector('#owb_themes_perspective');this.themeEvenGroupEls=this.el.querySelectorAll('.owb_themes_group_even');this.themeOddGroupEls=this.el.querySelectorAll('.owb_themes_group_odd');this.playinviewEls=this.el.querySelectorAll('.owb_playinview');for(const el of this.el.querySelectorAll('.owb_word_effect')){this._splitText(el,'owb_css_anim owb_css_anim_word');}
this.cssAnimEls=this.el.querySelectorAll('.owb_css_anim');this.$scrollingElement=$().getScrollingElement();this._currentScroll=this.$scrollingElement.scrollTop();wUtils.onceAllImagesLoaded(this.$el.find('.owb_wait_init_load')).then(()=>{this.el.classList.add('loaded');for(const el of this.el.querySelectorAll('.owb_intro_item')){el.classList.add('active');}
this._checkDimensions();this._update();});this.introVideoEl.addEventListener('loadeddata',()=>{if(this.introVideoEl.readyState>=3){this._checkDimensions();this._update();}});return this._super(...arguments);},destroy(){this._super(...arguments);},_checkDimensions(){this.windowWidth=window.innerWidth;this.windowHeight=parseFloat(getComputedStyle(this.bannerEl).minHeight);const introImageSpacing=20;const img1Bottom=this.bannerImg1El.getBoundingClientRect().bottom;const introVideoBCR=this.introVideoEl.getBoundingClientRect();const introImageStartPosY=img1Bottom+introImageSpacing+this._currentScroll;const introImageEndPosY=introVideoBCR.top+this._currentScroll;const introClippedImageStartHeight=(this.bannerImg3El.getBoundingClientRect().top+this._currentScroll-introImageSpacing-introImageStartPosY);this.introImageInitialScale=introClippedImageStartHeight*(100/this.introVideoMaxClipY)/introVideoBCR.height;this.introImageEl.style.transformOrigin=config.device.size_class>=config.device.SIZES.LG?'top left':'top center';this.introImageEl.style.width=`${introVideoBCR.width}px`;this.introImageFixedStartPosY=Math.min(introImageStartPosY,this.windowHeight*0.75-introClippedImageStartHeight/2);this.introImageNaturalStartPosY=img1Bottom+introImageSpacing-this.bannerImg1El.parentElement.getBoundingClientRect().top;this.introImageFixedBreakpointStart=introImageStartPosY-this.introImageFixedStartPosY;this.introImageFixedBreakpointEnd=introImageEndPosY-this.introImageFixedStartPosY;this.ccItemsData=[];for(const el of this.ccEls){this.ccItemsData.push({breakpoint:el.getBoundingClientRect().top+this._currentScroll-this.windowHeight/2-50,bgColor:el.dataset.bgColor,color:el.dataset.color,darkColor:el.dataset.darkColor,});}
const tccBCR=this.tccStartEl.parentElement.getBoundingClientRect();this.tccBreakpointStart=tccBCR.top+this._currentScroll;this.tccBreakpointEnd=tccBCR.bottom+this._currentScroll-this.windowHeight;const ladyBCR=this.tccBrowserLadyEl.getBoundingClientRect();this.tccScreenMaxScale=Math.max(this.windowWidth/(ladyBCR.width/this.tccScreenCurrentScale),this.windowHeight/(ladyBCR.height/this.tccScreenCurrentScale))+0.3;const themeBCR=this.themePerspectiveEl.getBoundingClientRect();this.themeBreakpointStart=themeBCR.top+this._currentScroll-this.windowHeight;this.themeBreakpointEnd=themeBCR.bottom+this._currentScroll+this.windowHeight;this.playinviewsData=[];for(const el of this.playinviewEls){const bcr=el.getBoundingClientRect();this.playinviewsData.push({breakpointStart:bcr.top+this._currentScroll-this.windowHeight/2,breakpointEnd:bcr.bottom+this._currentScroll,});}
this.cssAnimsBreakpoints=[];for(const el of this.cssAnimEls){const refEl=el.parentElement.classList.contains('owb_split_text_parent')?el.parentElement:el;const bcr=refEl.getBoundingClientRect();this.cssAnimsBreakpoints.push(bcr.top+this._currentScroll-this.windowHeight+100);}},_update(){const progress=(breakpoint1,breakpoint2)=>{return Math.max(0,Math.min((this._currentScroll-breakpoint1)/(breakpoint2-breakpoint1),1));};const introImageShouldBeFixed=this._currentScroll>this.introImageFixedBreakpointStart;this.introImageEl.classList.toggle('position-fixed',introImageShouldBeFixed);this.introImageEl.style.top=`${Math.round(introImageShouldBeFixed ? this.introImageFixedStartPosY : this.introImageNaturalStartPosY)}px`;const introImageInvProgress=1-progress(this.introImageFixedBreakpointStart,this.introImageFixedBreakpointEnd);const useVideo=introImageInvProgress<0.01;const scale=1-(1-this.introImageInitialScale)*introImageInvProgress;const clipX=(100-this.introVideoMaxClipX)+this.introVideoScrollBarExtraClipX*Math.min(1,6*introImageInvProgress);const clipY=(100-this.introVideoMaxClipY)*Math.min(1,3*introImageInvProgress);this.introImageEl.style.setProperty('transform',`scale(${Math.round(scale * 1000) / 1000})`,'important');this.introImageEl.style.clipPath=`inset(0% ${Math.round(clipX * 100) / 100}% ${Math.round(clipY * 100) / 100}% 0% round ${this.introVideoBorderRadius}px)`;this.introImageEl.style.opacity=useVideo?'0':'1';this.introImageEl.classList.toggle('d-none',useVideo);this.introVideoEl.style.clipPath=`inset(0% 0% 0% ${useVideo ? 0 : (this.introVideoMaxClipX)}% round ${this.introVideoBorderRadius}px)`;this._playPause(this.introVideoEl,useVideo);const aboveTCC=this._currentScroll<this.tccBreakpointStart;const belowTCC=this._currentScroll>this.tccBreakpointEnd;const tccFixed=!aboveTCC&&!belowTCC;this.tccScreenAndTitleEl.classList.toggle('position-fixed',tccFixed);this.tccScreenAndTitleEl.style.top=belowTCC?'auto':`0`;this.tccScreenAndTitleEl.style.bottom=belowTCC?`0`:'auto';const tccScaleInvProgress=1-Math.pow(progress(this.tccBreakpointStart,this.ccItemsData[0].breakpoint),0.5);this.tccScreenCurrentScale=Math.round((1+tccScaleInvProgress*(this.tccScreenMaxScale-1))*100)/100;this.tccScreenEl.style.transform=`scale(${this.tccScreenCurrentScale})`;const tccTitleInvProgress=Math.min(1,1.1*tccScaleInvProgress);const gray=255*tccTitleInvProgress;this.tccTitleEl.style.color=`rgba(${gray}, ${gray}, ${gray}, 1.0)`;this.tccTitleEl.style.transform=`translateY(${200 * tccTitleInvProgress}%)`;const tccItemsProgress=progress(this.ccItemsData[0].breakpoint,this.ccItemsData[0].breakpoint+100);this.tccBrowserHeaderEl.style.transform=`translateY(-${100 * (1 - tccItemsProgress)}%)`;this.tccBrowserShapeEl.style.transform=`rotate(-${15 * tccItemsProgress}deg)`;if(tccItemsProgress>0.5){this.tccEditorBoxEl.classList.add('owb_css_anim_move_down');this.tccEditorArrowEl.classList.add('owb_css_anim_move_up');}
let theData=this.ccItemsData[0];let i=0;for(i=this.ccItemsData.length-1;i>0;i--){const data=this.ccItemsData[i];if(this._currentScroll>data.breakpoint){theData=data;break;}}
for(const el of this.tccLinkEls){el.classList.remove('active');}
this.tccLinkEls[i].classList.add('active');document.documentElement.style.setProperty('--tcc-bg-color',theData.bgColor);document.documentElement.style.setProperty('--tcc-color',theData.color);document.documentElement.style.setProperty('--tcc-dark-color',theData.darkColor);const themeProgress=progress(this.themeBreakpointStart,this.themeBreakpointEnd);for(const el of this.themeEvenGroupEls){el.style.transform=`translateY(-${themeProgress * 30}%)`;}
for(const el of this.themeOddGroupEls){el.style.transform=`translateY(${themeProgress * 30}%)`;}
i=0;for(const el of this.playinviewEls){const data=this.playinviewsData[i];this._playPause(el,this._currentScroll>data.breakpointStart&&this._currentScroll<data.breakpointEnd);i++;}
i=0;for(const el of this.cssAnimEls){if(this._currentScroll>this.cssAnimsBreakpoints[i]){el.classList.add('active');}
i++;}},_playPause(el,shouldPlay){try{if(shouldPlay===el.paused){if(shouldPlay){el.play().catch(()=>null);}else{el.pause();}}}catch(err){}},_splitText(el,classes){el.innerHTML=el.textContent.trim().split(/\s+/g).map((item,i)=>`<span class="d-inline-block owb_split_text_parent">
                <span class="d-inline-block ${classes}" style="animation-delay: ${i * 300}ms;">${item}</span>
            </span>`).join(' ');},_onWindowResize(){const _do=()=>{this._currentScroll=this.$scrollingElement.scrollTop();this._checkDimensions();this._update();};_do();clearTimeout(this._resizeTimeout);this._resizeTimeout=setTimeout(()=>_do(),1000);},_onWindowScroll(scrollOffset,elapsedTime){this._currentScroll=scrollOffset;this._update();},});});;

/* /openerp_website/static/src/js/enterprise_download.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.enterprise_download',function(require){'use strict';require('web.dom_ready');var Widget=require('web.Widget');if($('#oe_download_modal').length!=1){return $.Deferred().reject("DOM doesn't contain `#oe_download_modal`");}
var DownloadWidget=Widget.extend({_dataset:null,events:{'click .oe_download_button':'download',},start:function(){var self=this;this.$el.on('show.bs.modal',function(e){self.onShowModal(e);});return this._super.apply(this,arguments);},clearErrors:function(){this.$el.find('.oe_download_invalid_code').addClass('d-none');this.$el.find('.oe_download_server_error').addClass('d-none');},onShowModal:function(e){this._dataset=e.relatedTarget.dataset;this.clearErrors();},download:function(){var self=this;var code=this.$el.find('.oe_download_code').val();this.clearErrors();ajax.jsonRpc('/download/check_subscription','call',{code:code}).then(function(result){if(result){var download_url=_.str.sprintf('/thanks/download?code=%s&platform_version=%s',encodeURIComponent(code),encodeURIComponent(self._dataset.platformVersion));window.location=download_url;}
else{self.$el.find('.oe_download_invalid_code').removeClass('d-none');}}).guardedCatch(function(){self.$el.find('.oe_download_server_error').removeClass('d-none');});}});var downloadWidget=new DownloadWidget();downloadWidget.setElement($('#oe_download_modal'));downloadWidget.start();});;

/* /openerp_website/static/src/js/online_sync.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.online_sync',function(require){require('web.dom_ready');let iframe=null;const url='https://production.odoofin.com';const iframe_style='position:fixed;border:none;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:10000;';const closeIframe=function(){window.removeEventListener('message',receiveMessage,false);iframe.parentNode.removeChild(iframe);$('.supported_inst_btn').prop('disabled',false);}
const receiveMessage=function(event){if(event.origin===url){closeIframe();}}
$('.supported_inst_btn').on('click',function(){$(this).prop('disabled',true);iframe=document.createElement('iframe');iframe.setAttribute('id','OdooFinFrame');iframe.setAttribute('style',iframe_style);let includeParams='&includeParam='+encodeURIComponent(JSON.stringify($(this).data()));iframe.src=url+'/proxy/v1/iframe?mode=view&origin='+encodeURIComponent(window.location.origin)+includeParams;window.addEventListener('message',receiveMessage,false);document.body.appendChild(iframe);});});;

/* /openerp_website/static/src/js/iap-extract/upload_demo_widget.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.ExtractDemoUploaderWidget',function(require){"use strict";require('web.dom_ready');if(!$('.odoo-demo-upload').length){return $.Deferred().reject("DOM doesn't contain `.odoo-demo-upload`");}
const ajax=require('web.ajax');const Widget=require('web.Widget');const core=require('web.core');const config=require('web.config');const ExtractDemoWidget=Widget.extend({xmlDependencies:['/openerp_website/static/src/xml/accounting_extract_demo_templates.xml'],events:{'change':'_onChangeFileInput',},init:function(){this._super.apply(this,arguments);this.document_id=-1;this.doc_type=false;},_renderCarousel(document_content,results){var $carousel=$(core.qweb.render("openerp_website.o_extract_demo_carousel",results));document_content.empty();document_content.append($carousel);},_showDocumentForm(container){container.find("#tabPanel").show();container.find("#spinner").hide();container.find("#documentForm").show();},_hideDocumentForm(container){container.find("#tabPanel").hide();container.find("#spinner").show();container.find("#documentForm").hide();},_uploadDocument(reader,document_type){reader.onload=(e)=>{this.doc_type=document_type;ajax.jsonRpc('https://iap-extract.odoo.com/iap/extract/demo_upload/','call',{attachment:e.target.result,doc_type:document_type}).then((data)=>{var $container=$('#document_content');this._renderCarousel($container,{});this._hideDocumentForm($container);this.document_id=data.document_id;if(this.document_id!==-1){this._checkForUpdate()}});};},_checkForUpdate(){const timer=setInterval(()=>{ajax.jsonRpc('https://iap-extract.odoo.com/iap/extract/demo_update/','call',{document_id:this.document_id,}).then((data)=>{if(data["status_code"]==0){clearInterval(timer);this._renderForm(data);}else if(data["status_code"]!=1){clearInterval(timer);$("#file_upload_form").after('<div name="processing_message" class="alert alert-warning">'+'An error occured, we can\'t process your document actually'+'</div>')}});},2000);},_renderForm(data){var results={};$.each(data.results[0],function(key,feature){if(key!=="global_taxes"){if(key=="images"){results['pages']=[];feature.forEach(image=>{results['pages'].push("data:image/png;base64,"+image);});}
else if(key=="partner_infos"){var state=" ";if("state"in feature&&feature["state"]!=0){state=feature["state"]};results['address']=feature["street"]+" "+feature["zip"]+" "+
feature["city"]+" "+state+" "+feature["country_id"];}
else if(key=="invoice_lines"){results['lines']=[];for(var invoice_line of feature){if("quantity"in invoice_line&&"description"in invoice_line&&"total"in invoice_line){results['lines'].push(invoice_line["quantity"]["selected_value"]["content"]+" x \""+invoice_line["description"]["selected_value"]["content"]+"\" for "+invoice_line["total"]["selected_value"]["content"]);}}}
else{results[key]=feature["selected_value"]["content"];}}});var $container=$('#document_content');this._renderCarousel($container,results);this._showDocumentForm($container);},_onChangeFileInput:function(ev){ev.preventDefault();ev.stopPropagation();const element=this.el;const reader=new FileReader();this._uploadDocument(reader,element.name);reader.readAsDataURL(element.files[0]);},});var widget=new ExtractDemoWidget();widget.attachTo($('.odoo-demo-upload'));const ExtractDemoSelectorWidget=Widget.extend({xmlDependencies:['/openerp_website/static/src/xml/accounting_extract_demo_templates.xml'],events:{'click':'_onClick',},init:function(id){this._super(this,arguments);this.templateId=id;},_renderCarousel(document_content){var $carousel=$(core.qweb.render("openerp_website."+this.templateId));document_content.empty();document_content.append($carousel);},_showDocumentForm(container){container.find("#tabPanel").show();container.find("#spinner").hide();container.find("#documentForm").show();},_hideDocumentForm(container){container.find("#tabPanel").hide();container.find("#spinner").show();container.find("#documentForm").hide();},_onClick:function(ev){var $container=$('#document_content');this._renderCarousel($container);this._hideDocumentForm($container)
setTimeout(()=>{this._showDocumentForm($container)},3000);},});let widget2=new ExtractDemoSelectorWidget("invoice_preview_1");widget2.attachTo($('#preview_1'));widget2=new ExtractDemoSelectorWidget("invoice_preview_2");widget2.attachTo($('#preview_2'));widget2=new ExtractDemoSelectorWidget("invoice_preview_3");widget2.attachTo($('#preview_3'));widget2=new ExtractDemoSelectorWidget("invoice_preview_4");widget2.attachTo($('#preview_4'));widget2=new ExtractDemoSelectorWidget("invoice_preview_5");widget2.attachTo($('#preview_5'));widget2=new ExtractDemoSelectorWidget("invoice_preview_6");widget2.attachTo($('#preview_6'));widget2=new ExtractDemoSelectorWidget("invoice_preview_7");widget2.attachTo($('#preview_7'));widget2=new ExtractDemoSelectorWidget("expense_preview_1");widget2.attachTo($('#exp_preview_1'));widget2=new ExtractDemoSelectorWidget("expense_preview_2");widget2.attachTo($('#exp_preview_2'));widget2=new ExtractDemoSelectorWidget("expense_preview_3");widget2.attachTo($('#exp_preview_3'));widget2=new ExtractDemoSelectorWidget("expense_preview_4");widget2.attachTo($('#exp_preview_4'));widget2=new ExtractDemoSelectorWidget("expense_preview_5");widget2.attachTo($('#exp_preview_5'));});;

/* /openerp_portal/static/src/js/accounting_firms.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.o_in_place_image_input',function(require){'use strict';var core=require('web.core');var sAnimation=require('website.content.snippets.animation');sAnimation.registry.accountant_firm_registration_form=sAnimation.Class.extend({selector:'.oe_accountant_firm_registration_form',start:function(){var self=this;self.$input=$('#company_logo',this.$el);self.$btn_clear=$('.o_btn_clear',self.$el);self.$img_preview=$('.img_preview',self.$el);self.$img=$('>img',self.$img_preview);function inputOnChange(){var file=self.$input[0].files[0];if(file){var reader=new FileReader();reader.onload=function(e){var $img=self.$img_preview.children();$img.one('load',function(){self.$btn_clear.css({'top':(100-self.$img_preview.children().innerHeight())/2});});$img.attr('src',e.target.result);self.$btn_clear.removeClass('d-none');};reader.readAsDataURL(file);}else if(!self.$img[0].src.match(new RegExp("/web/image/res.partner/\\d+/image_128$"))){self.$img[0].src='/web/static/src/img/placeholder.png';self.$btn_clear.addClass('d-none');}}
self.$img.on('click',function(){self.$input[0].click();});self.$input.on('change',inputOnChange);self.$btn_clear.on('click',function(){self.$input.val('');inputOnChange();});inputOnChange();},});});;

/* /openerp_portal/static/src/js/partner_dashboard.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_portal.partner_dashboard',function(require){'use strict';var core=require('web.core');var wysiwygLoader=require('web_editor.loader');var publicWidget=require('web.public.widget');var sAnimation=require('website.content.snippets.animation');var ajax=require('web.ajax');var _t=core._t;publicWidget.registry.textarea_dashboard=publicWidget.Widget.extend({selector:".form_partner_dashboard",xmlDependencies:['/web_editor/static/src/xml/editor.xml','/website_forum/static/src/xml/website_forum_templates.xml',],start:function(){var def=this._super.apply(this,arguments);if(this.editableMode){return def;}
var self=this;_.each($('textarea.load_editor'),function(textarea){var $textarea=$(textarea);if(!$textarea.val().match(/\S/)){$textarea.val('<p><br/></p>');}
var options={height:250,toolbarTemplate:'website_forum.web_editor_toolbar',resizable:true,userGeneratedContent:true,plugins:{MediaPlugin:false,},};wysiwygLoader.loadFromTextarea(self,$textarea[0],options)});return def;},});sAnimation.registry.chart_dashboard=sAnimation.Class.extend({jsLibs:['/web/static/lib/Chart/Chart.js',],selector:"#chartbox",read_events:{'click #chart_switch_country a':'changeCountryDashboard',},changeCountryDashboard:function(e){e.preventDefault();var self=this;var chart=this.$el.find('#chart');var country_id=e.target.dataset.country;chart.css('opacity','0.1');ajax.jsonRpc('/my/partner/stat_by_country/'+country_id,'call',{}).then(function(res){self.$el.find('#chart_country').text(res.country_name);self.$el.find('#chart_leads').text(res.country_leads);self.$el.find('#chart_partners').text(res.country_partners);var show_customer=res.country_customers>res.country_partners*4;self.$el.find('#chart_customers').text(show_customer?res.country_customers:'');self.$el.find('#chart_customers_hidden').toggleClass('hidden',!show_customer);self.$el.find('#chart').data('size',JSON.parse(res.company_size));chart.css('opacity','1');self.refreshGraph();});},refreshGraph:function(){var self=this;var values_dict=self.$el.find('#chart').data('size');var label_order=['< 5','5-20','20-50','50-250','> 250'];var sorted_dict=values_dict.sort(function(a,b){return label_order.indexOf(a.label)-label_order.indexOf(b.label);});var data=[];var labels=[];sorted_dict.forEach(function(pt){data.push(pt.value);labels.push(pt.label);});var config={type:'bar',data:{labels:labels,datasets:[{data:data,fill:'start',label:_t('# of Leads '),backgroundColor:'rgb(135, 89, 123, 0.8)',}],},options:{legend:{display:false,},tooltips:{"enabled":false},scales:{xAxes:[{scaleLabel:{display:true,labelString:'Company Size',fontStyle:'bolder',},}],yAxes:[{scaleLabel:{display:true,labelString:'Leads',fontStyle:'bolder',},}],},hover:{animationDuration:0},animation:{duration:0,onComplete:function(){var chartInstance=this.chart,ctx=chartInstance.ctx;ctx.textAlign='center';this.data.datasets.forEach(function(dataset,i){var meta=chartInstance.controller.getDatasetMeta(i);meta.data.forEach(function(bar,index){var data=dataset.data[index];ctx.fillText(data,bar._model.x,bar._model.y-5);});});}},}};var $canvas=this.$el.find('#chart canvas');var context=$canvas.get(0).getContext('2d');if(window.graph){graph.destroy();}
window.graph=new Chart(context,config);},start:function(){var def=this._super.apply(this,arguments);if(this.editableMode){return def;}
this.refreshGraph();return def;},destroy:function(){this._super.apply(this,arguments);var self=this;d3.select(self.el).selectAll('svg').remove();},});sAnimation.registry.img_dashboard=sAnimation.Class.extend({selector:".readUrl",read_events:{'change':'_onChange',},start:function(){this.$el.closest('form').find('.img_preview').children().attr('style',"max-width:100px");},_onChange:function(){if(this.el.files&&this.el.files[0]){var reader=new FileReader();var self=this;reader.onload=function(e){self.$el.closest('form').find('.img_preview').children().attr('src',e.target.result);};reader.readAsDataURL(this.el.files[0]);}},});sAnimation.registry.publish_button_dashboard=sAnimation.Class.extend({selector:".publish_checkbox",read_events:{'change':'_onChange',},_onChange:function(){var self=this;ajax.rpc('/my/partner/toggle_publish').then(function(result){$('.js_publish_error_message').toggleClass('d-none',true);self.$el.closest('label').find(".text_publish_btn").text(result?_t("Published"):_t("Unpublished"));$('.publish_checkbox').prop('checked',result);}).guardedCatch(function(){$('.js_publish_error_message').toggleClass('d-none',false);});},});});;

/* /openerp_portal/static/src/js/portal_certif.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_portal.portal_certif',function(require){'use strict';var sAnimation=require('website.content.snippets.animation');sAnimation.registry.update_certif=sAnimation.Class.extend({selector:'.o_update_certif',read_events:{'click a':'_onClickUpdateCertif','change select.o_change_certif':'_onChangeCertif',},_onClickUpdateCertif:function(ev){var self=this;ev.preventDefault();this.$('.default_certif').toggle();this.$('.choice_certif').toggle();},_onChangeCertif:function(ev){var self=this;ev.preventDefault();$("button[name='Goooo']").attr('disabled','disabled');let url=new URL(window.location.href)
let search=$.deparam(url.search.substring(1))
search['channel_id']=ev.currentTarget.value;url.search='?'+$.param(search);window.location.href=url},});});;

/* /openerp_enterprise/static/src/js/openerp_enterprise_track.js defined in bundle 'web.assets_frontend_lazy' */
$(document).ready(function(){setTimeout(function(){if(!this.ga){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create',_.str.trim('UA-52174891-1'),'auto');ga('send','pageview');}},1);function log_tracking(x){if($.getUrlVar("debug")){console.log("Odoo_tracking: "+x);}}
$.extend({getUrlVars:function(){var vars=[],hash;var hashes=window.location.href.slice(window.location.href.indexOf('?')+1).split('&');for(var i=0;i<hashes.length;i++)
{hash=hashes[i].split('=');vars.push(hash[0]);vars[hash[0]]=hash[1];}
return vars;},getUrlVar:function(name){return $.getUrlVars()[name];}});var vpv=vpv||function vpv(page){log_tracking(page);track_ga('send','pageview',{'page':page,'title':document.title,});};var track_ga=track_ga||function track_ga(){website_ga=this.ga||function(){};website_ga.apply(this,arguments);};window.addEventListener('gaw',function(o){log_tracking("Event gaw received");if(o.detail&&o.detail.type){if(o.detail.type.toLowerCase()=="vpv"){vpv(o.detail.params.page);}
else if(o.detail.type.toLowerCase()=="event"){param=o.detail.params;track_ga('send','event',param.category,param.action,param.label||undefined,param.value||undefined);}
else{log_tracking("Type unknown - "+o.detail.type.toLowerCase());}}
else{log_tracking("Missing details or type for tracking");}});$(document).on("submit","form.oe_signup_form",function(o){var scope=$.getUrlVar("scope");vpv(_.str.sprintf('/stats/signup/[%s]',scope));});$(document).on("submit","form.oe_login_form",function(o){var scope=$.getUrlVar("scope");vpv(_.str.sprintf('/stats/signin/[%s]',scope));});$(document).on("click","a[href^='/oauth2/nothanks']",function(o){vpv('/stats/skip_signin');});$(document).on("submit","form.oe_track",function(o){var action=$(this).data("oe-track-action");if(action){vpv(_.str.sprintf('/stats/form/%s',action));}});$(document).on("click","a.oe_track",function(o){var action=$(this).data("oe-track-action");if(action){vpv(_.str.sprintf('/stats/a/%s',action));}});$(document).on("click","a.oe_track_ev",function(o){var categ=$(this).data("oe-track-ev-category")||'NoCategGiven';var action=$(this).data("oe-track-ev-action")||undefined;var label=$(this).data("oe-track-ev-label")||undefined;var value=$(this).data("oe-track-ev-value")||undefined;track_ga('send','event',categ,action,label,value);});$(document).on("click","a.download_book",function(o){track_ga('send','event','ebook','download',this.id);});});;

/* /openerp_enterprise/static/src/js/odoo_enterprise_github.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_enterprise.github_access',function(require){'use strict';var core=require('web.core');var Widget=require('web.Widget');var _t=core._t;require('web.dom_ready');if(!$('.oe-github-access').length){return $.Deferred().reject("DOM doesn't contain '.oe-github-access'");}
var GithubManager=Widget.extend({'events':{'submit #oe-github-add':'submitUser','blur input[name="github_username"]':'resetUsername',},resetUsername:function(ev,empty){var $btn=this.$el.find('.oe-github-add');$btn.prop('disabled',false);$btn.removeClass('btn-warning btn-danger');$btn.html('<i class="fa fa-user-plus"/> '+_t('Add'));var $form=this.$el.find('#oe-github-add');$form.data('github-valid',false);if(empty){var $input=this.$el.find("input[name='github_username']");$input.val('');}},submitUser:function(ev){var $form=this.$el.find('#oe-github-add');if(!$form.data('github-valid')){ev.preventDefault();var btn=this.$el.find('.btn.oe-github-add[type="submit"]');btn.removeClass('btn-warning btn-danger');btn.prop('disabled',true);btn.html('<i class="fa fa-spin fa-spinner"/> '+_t('Checking User on Github'));var gh_username=this.$el.find('input[name="github_username"]').val();$.ajax('https://api.github.com/users/'+gh_username).then(function(r){if(r.type==='User'){$form.data('github-valid',true);$form.submit();}
else{btn.addClass('btn-danger');btn.html('<i class="fa fa-exclamation-triangle"/> '+_t('Organization accounts cannot be used'));btn.prop('disabled',false);}}).guardedCatch(function(){btn.addClass('btn-danger');btn.html('<i class="fa fa-exclamation-triangle"/> '+_t('User does not exist on Github'));btn.prop('disabled',false);});}},});var github_form=new GithubManager();github_form.setElement($('#oe-github-table'));github_form.start();});;

/* /openerp_enterprise/static/src/js/openerp_enterprise_self_page.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_enterprise.upgrade',function(require){var ajax=require('web.ajax');var utils=require('web.utils');require('web.dom_ready');if(!$('div.oe_self_page').length){return $.Deferred().reject("DOM doesn't contain 'div.oe_self_page'");}
window.pricing_init=function(r){function localeString(x,sep,dec,grp,round){var sx=(''+x).split('.'),s='',i,j;sep||(sep=' ');grp||grp===0||(grp=3);i=sx[0].length;while(i>grp){j=i-grp;s=sep+sx[0].slice(j,i)+s;i=j;}
s=sx[0].slice(0,i)+s;sx[0]=s;if(sx.length==2){sx[1]=Number('.'+sx[1]).toFixed(round).split('.')[1];}
return sx.join(dec);}
Number.prototype.toLocaleString=((1000).toLocaleString('en').length==5)&&Number.prototype.toLocaleString||(function(lang){var s=' ',c=',';if(!lang||lang.toLowerCase()=='en'){s=',';c='.';}return localeString(this,s,c,3,2);});var update_price=function(){var p={"users_num":0,"total":0,"taxes":0,"users_price_yearly_full":0,"price_yearly_full":0,};p.users_num=Math.max(parseInt($(".openerp_website_pricing_users").val()),1);$(".openerp_website_pricing_users").val(p.users_num);p.users_num=Math.max(p.users_num,5);p.users_price_yearly_full=utils.round_precision(parseInt(p.users_num)*r.users,0.01);p.total=utils.round_precision(parseInt(p.users_num)*r.total,0.01);p.taxes=utils.round_precision(parseInt(p.users_num)*r.taxes,0.01);p.price_yearly_full=p.users_price_yearly_full;$(".oe_upgrade_upto").html((p.users_num>5)?p.users_num:"Up to 5");$.each(p,function(k,v){$(".openerp_website_pricing_"+k).text(v.toLocaleString());});};var udpate_country=function(country){$("input[name='country_name']").val(country.name);$("input[name='partner_country_id']").val(country.id);if(country.vat_forced){$('.oe_upgrade_forced_country').removeClass('d-none');}else{$('.oe_upgrade_forced_country').addClass('d-none');}};var update_form=function(e){var vat=$("input[name='partner_vat']").val();var $table_spin=$(".openerp_website_enterprise_table_spinner");var $submit=$("button[type='submit']");$submit.attr('disabled',true);$table_spin.fadeIn();var data={'vat':vat,};ajax.jsonRpc('/odoo-enterprise/update-form','call',data).then(function(result){r.taxes=result.taxes;r.total=r.users+r.taxes;if(result.valid_vat||!vat){$('.oe_upgrade_invalid_vat').addClass('d-none');}else{$('.oe_upgrade_invalid_vat').removeClass('d-none');}
udpate_country(result.country);update_price();$table_spin.fadeOut();unserialize();$submit.attr('disabled',false);});};var serialize=function(e){var $data=$('.oe_payment_form select,input:not(.no_serialize)');$data=$data.filter(function(index){return $(this).val()!=='';});window.location.hash=$data.serialize();};var unserialize=function(){var $data=$.deparam(window.location.hash.substring(1));$.each($.deparam(window.location.hash.substring(1)),function(k,v){var $el=$("input[name='"+k+"']:not(.no_serialize), select[name='"+k+"']:not(.no_serialize)");v=decodeURIComponent(v);if($el.attr("type")=="checkbox"){$el.prop("checked",true);}else if($el.attr("type")=="radio"){$el.filter('[value="'+v+'"]').prop("checked",true).change();}else{$el.val(v);}});};var check_email=function(){if($('.login_alert').length){var email=$("input[name='partner_email']");ajax.jsonRpc('/openerp_enterprise/exists','call',{login:email.val().trim()}).then(function(exists){$('label.select-label .login_alert').toggle(exists);});}};$('body').on('click','a.login_now',function(){var l=window.location;var vals={redirect:encodeURIComponent(l.pathname+l.search+l.hash),login:encodeURIComponent($("input[name='partner_email']").val().trim())};window.location=_.str.sprintf('/web/login?login=%(login)s&redirect=%(redirect)s',vals);});$(".openerp_website_pricing_users").on("change",update_price);$("input[name='partner_vat']").on("change",update_form);$('input, select, radio').on('change',serialize);$("input[name='partner_email']").on("blur",check_email);if('partner_country_id'in $.deparam(window.location.hash.substring(1))){$("select[name='partner_country_id']").val($.deparam(window.location.hash.substring(1)).partner_country_id);}
unserialize();update_form();};});;

/* /saas_worker/static/src/js/const.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('saas_worker.const',function(require){return $.ajax('/saas_worker/const.json',{dataType:"json"});});;

/* /openerp_enterprise/static/src/js/help_task.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_enterprise.close_ticket',function(require){'use strict';require('web.dom_ready');if(!$('#modal_ticket, #btn_ticket').length===2){return $.Deferred().reject("DOM doesn't contain '#modal_ticket' and '#btn_ticket'");}
$('#btn_ticket').on('click',function(event){$("#modal_ticket").modal();})});;

/* /openerp_enterprise/static/src/js/password_reveal.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_enterprise.password_field_reveal',function(require){require('web.dom_ready');$(".odoo-password-reveal button").click(function(){let $input=$(".odoo-password-reveal input");let new_type=$input.attr("type")==="text"?"password":"text";$input.attr("type",new_type);$(".odoo-password-reveal button i").toggleClass("fa-eye fa-eye-slash");});});;

/* /openerp_enterprise/static/src/js/signup.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_enterprise.signup',function(require){require('web.dom_ready');var ajax=require('web.ajax');if(!$('.o_odoo_enterprise_sign').length){return $.Deferred().reject("DOM doesn't contain '.o_odoo_enterprise_sign'");}
function QueryUpdate(url,keyString,replaceString){var base=url.split("?")[0];var query=url.split("?")[1]||'';var bFound=false;var vars=query.split("&");for(var i=0;i<vars.length;i++){var pair=vars[i].split("=");if(pair[0]==keyString){vars[i]=pair[0]+"="+replaceString;bFound=true;}}
if(!bFound){vars.push(keyString+"="+replaceString);}
return base+"?"+vars.join("&");}
$('#top_menu').addClass('d-none');$('input[name="login"]').blur(function(ev){var e=$(ev.target);var login=e.val().toLowerCase();e.val(login);var path=document.location.pathname;var query=$.deparam(document.location.search.substring(1));if('token'in query){return;}
ajax.jsonRpc('/openerp_enterprise/exists','call',{login:login,include_saas_databases:path.indexOf("login")>-1}).then(function(exists){var show=false;var text="";if(exists&&path.indexOf("signup")>-1){show=true;newUrl=QueryUpdate($('.oe_login_buttons a:first').attr("href"),"login",login);$('.oe_login_buttons a:first').attr("href",newUrl);text="This account already exists. Please <a href='%s'>sign in</a>.";text=_.str.sprintf(text,newUrl);}
else if(!exists&&path.indexOf("login")>-1){show=true;text="This account doesn't exist. Please create an account.";}
$('input[name="login"]').popover('dispose');$('input[name="login"]').popover({content:text,placement:'top',trigger:'manual',html:true});$('.oe_login_buttons a:first').popover({content:"Click here to go to the correct form.",placement:'right',trigger:'manual'});if(show&&login){$('input[name="login"]').popover('show');$('input[name != "login"], select').attr('readonly',true);$('.oe_login_buttons a:first').popover('show');}else{$('input[name="login"]').popover('hide');$('input[name != "login"], select').attr('readonly',false);$('.oe_login_buttons a:first').popover('hide');}});});});;

/* /openerp_enterprise/static/src/js/pricing2.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_enterprise.pricing',function(require){"use strict";var core=require('web.core');var Widget=require('web.Widget');var round_precision=require('web.utils').round_precision;var consts=require('saas_worker.const');var Pricing=Widget.extend({events:{'change input, select':'update_price','change input[type="checkbox"]':'checkbox_change_event','click .openerp_enterprise_button_get_a_quote':'get_a_quote','change .js_change_country':'change_country','click .odoo_pricing_board a[data-toggle="tab"]':'price_by_changed','click input[type="checkbox"][data-is-installed]':'lock_installed_app_state','change .openerp_enterprise_hosting_type':'host_type_radio_change','click a[data-toggle="tab"]':'click_periodicity_tab','change input[name="implementation_service"]':'change_implementation_service','click .openerp_enterprise_pricing_buy_now':'click_buy_now','keyup .openerp_enterprise_pricing_users':'_preventSubmit','change input.openerp_enterprise_pricing_users':'update_odoosh_recommendation','change .openerp_enterprise_odoo_sh_item input':'check_odoosh_limits','click .btn-plus':'increment_app_input_number','click .btn-minus':'decrement_app_input_number',},pricingData:null,isOneAppFree:false,init:function(parent,data){this.pricingData=data;},start:function(){var self=this;$.each($.deparam(window.location.hash.substring(1)),function(k,v){if(k==='goto'){var $elem=$('#'+v);if($elem.hasClass('collapse')){$elem.collapse();}
var offset=$elem.offset().top;window.scrollTo(0,offset);}
var $el=$('input[name="'+k+'"]:not(.no_serialize), select[name="'+k+'"]:not(.no_serialize)');v=decodeURIComponent(v);if($el.length>0){switch($el.attr('type')){case"checkbox":$el.prop('checked',true).change();break;case"radio":$el.filter('[value="'+v+'"]').prop('checked',true).change();break;default:$el.val(v).change();break;}}});$('.odoo_pricing_board a[data-toggle="tab"][href="#'+$("input[name='price_by']:checked").val()+'"]').click();$($(".openerp_enterprise_pricing input[type='checkbox']")[0]).change();$('input.openerp_enterprise_pricing_users').change();this.colorize();var localization_options={};if(self.pricingData.currency==="USD"){localization_options.currency=self.pricingData.currency;localization_options.style="currency";}
else{localization_options.minimumFractionDigits=2;localization_options.maximumFractionDigits=2;}
$.each($('.amount_to_localize'),function(i,j){$(j).text(parseFloat($(j).text()).toLocaleString(self.pricingData.localeLang[self.pricingData.currency],localization_options));});$('[data-toggle="tooltip"]').tooltip();$('[data-toggle="popover"]').popover();self.ensure_china_no_online_pricing();},checkbox_change_event:function(ev){this.ensure_constraints(ev);this.colorize(ev);this.ensure_one_app_free();$('.openerp_enterprise_pricing_error_no_apps').addClass('d-none');if(ev.target.id=="app_iot"){if(ev.target.checked){this.$('.openerp_enterprise_iot_pricing').removeClass('d-none');}else{this.$('.openerp_enterprise_iot_pricing').addClass('d-none');}}},update_price:function(){window.location.hash=$('.openerp_enterprise_pricing > form.openerp_enterprise_pricing_form').find('input:not(.no_serialize),select:not(.no_serialize)').serialize();var r=this.pricingData;var p={"apps_num":0,"apps_time":0,"num_iot_box":0,"iot_price_monthly":0,"iot_price_yearly":0,"apps_price_monthly":0,"apps_price_yearly_full":0,"apps_price_yearly":0,"price_yearly_in_year":0,};p.users_num=$(".openerp_enterprise_pricing_users").val();p.user_amount_yearly=(r.users.price+r.users.discount)*0.8;p.user_amount_monthly=(r.users.price+r.users.discount);p.user_amount_yearly_full=r.users.price*0.8;p.user_amount_monthly_full=r.users.price;p.users_price_monthly=parseFloat(p.users_num)*r.users.price;p.users_price_yearly=parseFloat(p.users_num)*r.users.price*0.8;p.users_price_discount_monthly=parseFloat(p.users_num)*r.users.discount;p.users_price_discount_yearly=parseFloat(p.users_num)*r.users.discount*0.8;$(".openerp_enterprise_pricing_app_checkbox:checked").each(function(i,o){if($(o).data("app-name")=="iot"){p.num_iot_box=parseInt($(".openerp_enterprise_pricing_iot_boxes").val());p.iot_price_monthly=p.num_iot_box*parseFloat(r.apps[$(o).data("app-name")].price)
p.iot_price_yearly=p.iot_price_monthly*0.8;}else{p.apps_num++;p.apps_price_monthly+=parseFloat(r.apps[$(o).data("app-name")].price);p.apps_price_yearly=p.apps_price_monthly*0.8;p.apps_time+=parseFloat(r.apps[$(o).data("app-name")].time);}});var force_pack=$.deparam(window.location.hash.substring(1)).force_pack;var pack=$.deparam(window.location.hash.substring(1)).pack;if(force_pack&&pack&&pack===200){p.pack='Pro';}else{if(force_pack&&pack&&pack!=='auto'){p.apps_time=pack;}
if(p.apps_time<=25){p.pack='Basic';}else if(p.apps_time<=50){p.pack='Standard';}else{p.pack='Custom';}}
var total_odoo_sh_price_monthly=0;var total_odoo_sh_price_yearly=0;if($('.openerp_enterprise_hosting_odoo_sh:checked').length==1){p.odoo_sh_workers_count=parseInt($('input[name="odoosh_workers"]').val());p.odoo_sh_price_workers_monthly=r.odoo_sh.workers.price*p.odoo_sh_workers_count;p.odoo_sh_price_workers_yearly=p.odoo_sh_price_workers_monthly*0.8;p.odoo_sh_storage_count=parseInt($('input[name="odoosh_storage"]').val());p.odoo_sh_price_storage_monthly=r.odoo_sh.storage.price*p.odoo_sh_storage_count;p.odoo_sh_price_storage_yearly=p.odoo_sh_price_storage_monthly*0.8;p.odoo_sh_staging_count=parseInt($('input[name="odoosh_staging"]').val());p.odoo_sh_price_staging_monthly=r.odoo_sh.staging.price*p.odoo_sh_staging_count;p.odoo_sh_price_staging_yearly=p.odoo_sh_price_staging_monthly*0.8;total_odoo_sh_price_monthly=p.odoo_sh_price_workers_monthly+p.odoo_sh_price_storage_monthly+p.odoo_sh_price_staging_monthly;total_odoo_sh_price_yearly=p.odoo_sh_price_workers_yearly+p.odoo_sh_price_storage_yearly+p.odoo_sh_price_staging_yearly;}
else{p.odoo_sh_price_workers_monthly=0;p.odoo_sh_price_workers_yearly=0;p.odoo_sh_price_storage_monthly=0;p.odoo_sh_price_storage_yearly=0;p.odoo_sh_price_staging_monthly=0;p.odoo_sh_price_staging_yearly=0;}
p.pack_name=r.packs[p.pack].name;p.pack_fullprice=r.packs[p.pack].price;p.pack_price=r.packs[p.pack].discounted_price;p.pack_time=r.packs[p.pack].time;var $pack=$('#pack_'+p.pack_time);if($pack.length==1){$pack[0].checked=true;}
if(this.isOneAppFree){p.users_price_monthly=p.apps_price_monthly=p.users_price_discount_monthly=0;p.users_price_yearly=p.apps_price_yearly=p.users_price_discount_yearly=0;p.price_monthly=0;p.price_yearly=0;p.users_price_discount_monthly=0;p.users_price_discount_yearly=0;}
else{p.price_monthly=p.users_price_monthly+p.apps_price_monthly+p.iot_price_monthly+total_odoo_sh_price_monthly+p.users_price_discount_monthly;p.price_yearly=p.users_price_yearly+p.apps_price_yearly+p.iot_price_yearly+total_odoo_sh_price_yearly+p.users_price_discount_yearly;p.price_yearly_in_year=p.price_yearly*12;}
p.start_monthly=p.price_monthly+p.pack_price;p.start_yearly=p.price_yearly+p.pack_price;$.each(p,function(k,v){var options={};if(k.indexOf('price')>=0||k.indexOf('amount')>=0){if(r.currency==="USD"){options.currency=r.currency;options.style="currency";}
else{options.minimumFractionDigits=2;options.maximumFractionDigits=2;}}
$(".openerp_enterprise_pricing_"+k).text(v.toLocaleString(r.localeLang[r.currency],options));});},increment_app_input_number:function(event){event.stopPropagation();event.preventDefault();var app_input_number=$(event.target).closest('.app_input_number').find('input');if(app_input_number.length>0){app_input_number[0].stepUp()
this.ensure_one_app_free()
this.update_price()}},decrement_app_input_number:function(event){event.stopPropagation();event.preventDefault();var app_input_number=$(event.target).closest('.app_input_number').find('input');if(app_input_number.length>0){app_input_number[0].stepDown()
this.ensure_one_app_free()
this.update_price()}},update_odoosh_recommendation:function(event){var $input=$(event.target);var n_users=parseInt($input.val())||1;var $recommendations=$('.openerp_enterprise_odoo_sh_recommendation');$recommendations.each(function(index,rec){var $rec=$(rec)
var amount=Math.ceil(n_users/$rec.data('ratio'));$rec.val(amount);var $item=$rec.parents('.openerp_enterprise_odoo_sh_item');var max=parseInt($item.find('input').attr('max'))||Infinity;$item.find('.openerp_enterprise_odoo_sh_warning').prop('hidden',amount<=max);});$('.openerp_enterprise_selected_users').text(n_users);},check_odoosh_limits:function(event){var $input=$(event.target);var max=parseInt($input.attr('max'))||Infinity;var amount=parseInt($input.val())||1;if(amount>max){var $item=$input.parents('.openerp_enterprise_odoo_sh_item');$item.find('.openerp_enterprise_odoo_sh_warning').prop('hidden',false)}},get_a_quote:function(){e.preventDefault();var apps=[];$(".openerp_enterprise_pricing_app_checkbox:checked").each(function(i,o){apps.push(r.apps[$(o).data('app-name')].name);});var descr="Hello, I would like to use Odoo with the following details : \n";descr+="  * Users : "+$(".openerp_enterprise_pricing_users").val()+"\n";descr+="  * Apps : "+apps+"\n";descr+="  * Pack : "+$("div.openerp_enterprise_pricing_step_body .openerp_enterprise_pricing_pack_name").text()+"\n";descr+="\n";descr+="  * Link: "+window.location.href;window.location="/page/contactus?phone_required=1&description="+encodeURIComponent(descr);},change_country:function(ev){var sel=$('input[name="force_country"]').val();if($('input[name="force_country"]').val()!==this.pricingData.current_country&&$('input[name="force_country"]').val()!==""){window.location=_.str.sprintf('/localization?country=%s&redirect=%s',sel.toString(),encodeURIComponent(window.location.pathname+window.location.search+window.location.hash));}},price_by_changed:function(ev){var periodicity=$(ev.target).closest("[data-toggle='tab']").attr('href');$(periodicity+'_by').prop('checked',true).change();if(periodicity==="#monthly"){this.$('.hide_monthly_apps').removeClass('d-none');this.$('.hide_yearly_apps').addClass('d-none');}
else{this.$('.hide_monthly_apps').addClass('d-none');this.$('.hide_yearly_apps').removeClass('d-none');}},lock_installed_app_state:function(ev){ev.target.checked=true;},host_type_radio_change:function(ev){if(ev.target.checked&&ev.target.value==="odoo_sh"){this.$('.openerp_enterprise_odoo_sh_pricing').removeClass('d-none');}
else{this.$('.openerp_enterprise_odoo_sh_pricing').addClass('d-none');}
if(ev.target.checked&&ev.target.value==="on_premise"){var success_pack=$('input[name="implementation_service"][value="success_pack"]');if(success_pack[0].checked){$('input[name="implementation_service"][value="self"]').prop("checked",true).change()}
$('.openerp_enteprise_impl_service_success').addClass('d-none');}
else{$('.openerp_enteprise_impl_service_success').removeClass('d-none');}
this.ensure_one_app_free();this.ensure_allowed_periodicity();this.ensure_china_no_online_pricing();},click_periodicity_tab:function(ev){var type=$(ev.target).closest('[data-type]').data('type');if(type==='monthly'){$('.openerp_enterprise_user_pricing_monthly').removeClass('d-none');$('.openerp_enterprise_user_pricing_yearly').addClass('d-none');}
else if(type==='yearly'){$('.openerp_enterprise_user_pricing_monthly').addClass('d-none');$('.openerp_enterprise_user_pricing_yearly').removeClass('d-none');}
this.ensure_allowed_periodicity();},_preventSubmit:function(ev){if(ev.keyCode==13){ev.stopPropagation();ev.preventDefault();this.update_price();}},change_implementation_service:function(ev){if(ev.target.checked){switch(ev.target.value){case"self":$('.openerp_enterprise_integrating_partner').addClass('d-none');$('.openerp_enterprise_success_packs_info').addClass('d-none');break;case"success_pack":$('.openerp_enterprise_integrating_partner').addClass('d-none');$('.openerp_enterprise_success_packs_info').removeClass('d-none');break;case"partner":$('.openerp_enterprise_integrating_partner').removeClass('d-none');$('.openerp_enterprise_success_packs_info').addClass('d-none');break;}}},click_buy_now:function(ev){if($(".openerp_enterprise_pricing_app_checkbox:checked").length===0){ev.stopPropagation();ev.preventDefault();$('.openerp_enterprise_pricing_error_no_apps').removeClass('d-none');}},ensure_constraints:function(e){var self=this;var checkbox=$(e.target);var depends=self.get_depends(checkbox);if(checkbox.prop('checked')&&depends.length){$.each(depends,function(i,j){$("input[data-app-name="+j+"]").prop('checked',true).change();});}
else if(!checkbox.prop('checked')){var depending=_.filter($("input[data-app-depends]"),function(o){return _.indexOf(self.get_depends($(o)),checkbox.data('app-name'))>-1;});$.each(depending,function(i,j){$(j).prop('checked',false).change();});}},colorize:function(oo){oo=!oo?$(".openerp_enterprise_pricing_app_checkbox"):$(oo.target);oo.each(function(i,o){var closest=$($(o).closest(".openerp_enterprise_pricing_app"));closest.toggleClass("selected",$(o).prop('checked'));});},get_depends:function(o){return(o.data('app-depends')||'').split(',').filter(function(n){return n!="";});},get_depends_recursively:function(o){var dependencies=this.get_depends(o);if(dependencies.length===0){return[];}
for(var i=0;i<dependencies.length;i++){dependencies=dependencies.concat(this.get_depends_recursively($('#app_'+dependencies[i])));}
dependencies=dependencies.filter(function(item,pos){return dependencies.indexOf(item)==pos;});return dependencies;},ensure_allowed_periodicity:function(){var allow_monthly_hosting_type=['odoo_sh','online'];var periodicity=this.$('input[name="price_by"]:checked').val();var has_selected_authorized_monthly=allow_monthly_hosting_type.indexOf(this.$('input[name="hosting"]:checked').val())!==-1;if(periodicity==="monthly"&&has_selected_authorized_monthly===false){this.$('.openerp_enterprise_pricing_form_button').addClass('d-none');this.$('.openerp_enterprise_pricing_monthly_not_allowed').removeClass('d-none');}
else{this.$('.openerp_enterprise_pricing_form_button').removeClass('d-none');this.$('.openerp_enterprise_pricing_monthly_not_allowed').addClass('d-none');}},ensure_one_app_free:function(){var free_app=this.is_one_app_free(false);if(free_app){this.isOneAppFree=true;this.$('.openerp_enterprise_pricing_is_free_trial').removeClass('d-none');this.$('.openerp_enterprise_pricing_is_not_free_trial').addClass('d-none');this.$('.openerp_enterprise_pricing_start_trial_with_app')[0].href='/trial?selected_app='+free_app;}
else{this.isOneAppFree=false;this.$('.openerp_enterprise_pricing_is_free_trial').addClass('d-none');this.$('.openerp_enterprise_pricing_is_not_free_trial').removeClass('d-none');}
this.update_price();},is_one_app_free:function(ignoreHost){var $checked_apps=$('input[data-app-name]:checked');var dependencies=[];if($checked_apps.length===0||(ignoreHost===false&&$('input[name="hosting"]:checked').val()!=='online')){return false;}
for(var i=0;i<$checked_apps.length;i++){var deps=this.get_depends_recursively($($checked_apps[i]));dependencies=dependencies.concat(deps);}
dependencies=dependencies.filter(function(item,pos){return dependencies.indexOf(item)==pos;});var top_apps=$checked_apps.filter(function(index,name){return(dependencies.indexOf(name.dataset.appName)!=-1)!==true;});if(($checked_apps.filter("#app_iot").length==1)&&(parseInt($(".openerp_enterprise_pricing_iot_boxes").val())>0)){return false;}
if(top_apps.length==1&&!consts.ONE_APP_FREE_EXCLUDE.includes(top_apps[0].dataset.appName)){return top_apps[0].dataset.appName;}
return false;},ensure_china_no_online_pricing:function(){if(this.pricingData.current_country=='CN'&&$(".openerp_enterprise_hosting_type:checked[value='online']").length>0){$(".openerp_enterprise_pricing_step").slice(0,2).addClass("d-none");$(".odoo_pricing_board").addClass("d-none");$(".openerp_enterprise_pricing_hide_alert").removeClass("d-none");}else{$(".openerp_enterprise_pricing_step").slice(0,2).removeClass("d-none");$(".odoo_pricing_board").removeClass("d-none");$(".openerp_enterprise_pricing_hide_alert").addClass("d-none");}}});return Pricing;});function localeString(x,sep,dec,grp,round){var sx=(''+x).split('.'),s='',i,j;sep||(sep=' ');grp||grp===0||(grp=3);i=sx[0].length;while(i>grp){j=i-grp;s=sep+sx[0].slice(j,i)+s;i=j;}
s=sx[0].slice(0,i)+s;sx[0]=s;if(sx.length==2){sx[1]=Number('.'+sx[1]).toFixed(round).split('.')[1];}
return sx.join(dec);}
Number.prototype.toLocaleString=((1000).toLocaleString('en').length==5)&&Number.prototype.toLocaleString||(function(lang){var s=' ',c=',';if(!lang||lang.toLowerCase()=='en'){s=',';c='.';}return localeString(this,s,c,3,2);});

/* /openerp_enterprise/static/src/js/odoo_enterprise_start_trial.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_enterprise.start_trial',function(require){'use strict';var dom=require('web.dom');var Widget=require('web.Widget');var ajax=require('web.ajax');var core=require('web.core');var consts=require('saas_worker.const');require('web.dom_ready');var _t=core._t;if($('#set-password-form').length){var checkMatch=function(e){var $form=$('#set-password-form');var $submitField=$form.find('input[type="submit"]');var password=$('#password').val();var passwordConfirmation=$form.find('#password-confirmation').val();function validate(el,valid){var $el=$form.find('.password-'+el);if(valid){$el.removeClass('fa-times text-danger d-none').addClass('fa-check text-success').show();}else{$el.removeClass('fa-check text-success d-none').addClass('fa-times text-danger').show();}}
validate('match',password===passwordConfirmation&&password!=='');validate('length',password.length>=6);$('#password').siblings('.moving-label').toggleClass('group-label',password!='');$submitField.prop('disabled',!(password===passwordConfirmation&&password!==''&&password.length>=6));};$('#password').on('keyup change',function(e){checkMatch(e);});$('#password-confirmation').on('keyup change',function(e){checkMatch(e);});}
if(!$('.subscription-widget,.loading-screen').length){return $.Deferred().reject('Not on start page?');}
var SubscriptionWidget=Widget.extend({events:{'change .openerp_enterprise_trial_app_checkbox':'selectApp','click .openerp_enterprise_validate_trial':'goToNextStep','click .back-to-choose-app-step':'goToPreviousStep','click #edit-db-name':'editDbName','keyup #company-name':'changeCompanyName','change #company-name':'changeCompanyName',},init:function(){this._super();this.customDomainName=false;},start:function(){var self=this;this.$form=this.$('.oe_start_trial_form');this.$form.on('submit',function(e,force){if(!force){e.preventDefault();self.submitForm(e);}});this.$('[data-toggle="tooltip"]').tooltip();if(this.$('#selected-app').val()!==""){this.currentStep=2;var currentApps=$('#selected-app').val().split(':');var apps_selected=_.filter($(".openerp_enterprise_trial_app_checkbox"),function(checkbox){return currentApps.indexOf($(checkbox).data().app)>=0;});$(apps_selected).prop("checked",true);this.update_side_panel();}
else{this.currentStep=1;}
var slugifiedCompanyName=_.str.slugify(this.$('#company-name').val());if(slugifiedCompanyName.length>0){this.$('#db-name').val(slugifiedCompanyName);this.$('#db-name-read-only').html(slugifiedCompanyName);this.$('.field-db-name-read-only').slideDown();}
this.updatePageContent();},update_side_panel:function(){var apps_checked=$(".openerp_enterprise_trial_app_checkbox:checked");var app_list=_.map(apps_checked,function(entry){return $(entry).data();});var $infoPanel=this.$('.choose-app-info-panel');var $message=$infoPanel.find('.openerp_enterprise_multi_trial_message');if(app_list.length===1&&!consts.ONE_APP_FREE_EXCLUDE.includes(app_list[0].app)){$message.removeClass('alert-info').addClass('alert-success').html(_t('<b>Free</b>, with <b>unlimited</b> users, <b>forever</b>.'));}else{if(app_list.length>10){this.maxAppsReached=true;$('.openerp_enterprise_validate_trial').prop('disabled',true);$message.removeClass('alert-success').addClass('alert-info').html(_t('You can select at most <b>10 apps</b> to start with.<br/>You can install more apps later.'));}else{this.maxAppsReached=false;$('.openerp_enterprise_validate_trial').prop('disabled',false);$message.removeClass('alert-success').addClass('alert-info').html(_t('<b>15 day free trial</b>, <small>no credit card required.</small>'));}}
var cssTransition=this.$('.choose-app-list').css('transition-duration');var normalize=cssTransition.indexOf('ms')!==-1?1:1000;var transitionTime=parseInt(parseFloat(cssTransition)*normalize,10);var delay=$infoPanel.hasClass('d-none')?transitionTime:0;this.$('.choose-app-list').toggleClass('offset-lg-1 col-lg-10',app_list.length<1).toggleClass('col-lg-9',app_list.length>=1);setTimeout(function(){$infoPanel.toggleClass('d-none',app_list.length<1);},delay);var app_label=app_list.length>1?"Apps":"App";$infoPanel.find('span.choose-app-info-panel-app-label').text(app_label);$infoPanel.find('h6 > b').text(app_list.length);$infoPanel.find('ul li').remove();_.each(app_list,function(app){$infoPanel.find('ul').append('<li class="fw_semibold"><img height="16" class="mr4" src="'+app.icon+'"/>'+app.title+'</li>');});},selectApp:function(e){this.$currentApp=$(e.target).closest('.oe-app');var apps_checked=$(".openerp_enterprise_trial_app_checkbox:checked");var app_list=_.map(apps_checked,function(entry){return $(entry).data().app;});this.$('#selected-app').val(app_list.join(':'));this.update_side_panel();},selectAppQuotes:function(){var quotes_list=this.$('.quotes_side_panel');var checked_app_checkboxes=this.$('.openerp_enterprise_trial_app_checkbox:checked');var quotes=quotes_list.find('.testimonial_odoo');_.each(checked_app_checkboxes,function(app_checkbox){$.merge(quotes,quotes_list.find('.testimonial_'+$.data(app_checkbox,'app')));});var displayedQuotes=_.sample(quotes,1);$(displayedQuotes).removeClass('d-none');},resetQuotes:function(){this.$('.quotes_side_panel>.quote').addClass('d-none');},goToNextStep:function(){this.currentStep=this.currentStep+1;this.hint();this.updatePageContent();},goToPreviousStep:function(e){e.preventDefault();this.currentStep=this.currentStep-1;this.updatePageContent();},hint:function(e){var self=this;var apps_checked=$(".openerp_enterprise_trial_app_checkbox:checked");var app_list=_.map(apps_checked,function(entry){return $(entry).data().app;});var params={'app_list':app_list,};var qs=$.deparam.querystring();if("hosting"in qs){params.hosting=qs.hosting;}
ajax.jsonRpc('/odoo-enterprise/trial-hint','call',params).then(function(res){if(res.success){if(res.hint_hosting){self.$('#hosting').val(res.hint_hosting);}
var settings={xhrFields:{withCredentials:true}};ajax.jsonRpc(res.hint_url,'call',{'token':res.trial_token,'modules':app_list,'deps':res.deps},settings);}});},updatePageContent:function(){var self=this;dom.getScrollingElement().scrollTo({top:0,behavior:"smooth"});[1,2].forEach(function(step){var $block=self.$('.o_trial_step_'+step.toString());$block.toggleClass('d-none',self.currentStep!=step);setTimeout(function(){$block.find('.o_animate_in_children').toggleClass('o_visible',self.currentStep===step);},10);});if(self.currentStep==2){this.selectAppQuotes();}else{this.resetQuotes();}},editDbName:function(e){e.preventDefault();this.customDomainName=true;this.$('.field-db-name-read-only').addClass('d-none');this.$('.db-name-section').removeClass('d-none');},changeCompanyName:function(e){if(this.customDomainName==false){var slugifiedCompanyName=_.str.slugify($(e.target).val());this.$('#db-name').val(slugifiedCompanyName);this.$('#db-name-read-only').html(slugifiedCompanyName);if(slugifiedCompanyName.length>0){if(this.$('.field-db-name-read-only').is(':hidden')){this.$('.field-db-name-read-only').slideDown();}}else{this.$('.field-db-name-read-only').slideUp();}}},submitForm:_.debounce(function(e,force){var self=this;this.$('.error_message').remove();var $dbNameSection=this.$('.db-name-section');var $dbName=this.$('#db-name');var db_name=$dbName.val();var errors=[];var $email=this.$("input[name='email']");var $company_size=this.$("input[name='company_size'],select[name='company_size']");var $primary_interest=this.$("input[name='plan'],select[name='plan']");if(!($email.val()&&$email.val().match(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,63}$/))){errors.push({message:"<p class='error_message'>"+_t("Please double-check your email")+"</p>",element:this.$('.field-email')});}
if(!db_name){errors.push({message:"<p class='error_message'>"+_t("Please choose your domain name")+"</p>",element:$dbNameSection});}
if((/\s/.test(db_name))){errors.push({message:"<p class='error_message'>"+_t("Spaces are not allowed in domain names")+"</p>",element:$dbNameSection});}else if(db_name.length<4){errors.push({message:"<p class='error_message'>"+_t("Your domain must be at least 4 characters long")+"</p>",element:$dbNameSection});}else if(db_name.length>50){errors.push({message:"<p class='error_message'>"+_t("Your domain must be less than 50 characters long")+"</p>",element:$dbNameSection});}else if(!/^([a-z0-9][a-z0-9-]{2,}[a-z0-9])$/.test(db_name)){errors.push({message:"<p class='error_message'>"+_t("Special characters are not allowed in domain names")+"</p>",element:$dbNameSection});}
if(!$company_size.val()){errors.push({message:"<p class='error_message'>"+_t("Please indicate your company's size")+"</p>",element:$company_size});}
if(!$primary_interest.val()){errors.push({message:"<p class='error_message'>"+_t("Please let us know your primary interest")+"</p>",element:$primary_interest});}
if(errors.length>0){_.forEach(errors,function(error){error.element.after(error.message);});}else{if(window.grecaptcha){grecaptcha.execute('6Ldp7rgUAAAAAJF-NZ6k-y0HGEPozP3SeROO_z7F',{action:'trial_form'}).then(function(token){$('input[name="grc3_token"]').val(token);self.$form.trigger('submit','force');});}
else
{self.$form.trigger('submit','force');}}},2000,true),getUrlVars:function(){var vars=[],hash;var hashes=window.location.href.slice(window.location.href.indexOf('?')+1).split('&');for(var i=0;i<hashes.length;i++)
{hash=hashes[i].split('=');vars.push(hash[0]);vars[hash[0]]=hash[1];}
return vars;},});if($('.subscription-widget').length){var subscriptionWidget=new SubscriptionWidget();subscriptionWidget.setElement($('.subscription-widget'));subscriptionWidget.start();}
var LoadingWidget=Widget.extend({init:function(){this._super();},start:function(){this.finalMsg=this.$('.o_start_trial_final_message').text();var self=this;var messages=this.$('.o_start_trial_message');core.bus.on('trial_built',this,this._onTrialBuilt);this._fadeBg();this._pyroAnimate(4000);this._showMessage(messages,0);},_pyroAnimate:function(pyro_duration){this.$('.o_pyro').fadeIn('slow').delay(pyro_duration).fadeOut(2000);},_showMessage:function(messages,i){var self=this;var $message=messages.eq(i);var delay=$message.data('delay')||0;var duration=$message.data('duration')||1000;setTimeout(function(){$message.animate({opacity:1,top:'-=20',},300);if($message.data('has-typewrite')){self._fadeBg();}
setTimeout(function(){if($message.data('has-typewrite')){self._typeWrite($message.find('.o_typewrite'));}else{$message.animate({opacity:0,top:'-=30'},500);self._showMessage(messages,i+1);}},duration);},delay);},_fadeBg:function(){this.$el.toggleClass('bg-900 bg-white');},_typeWrite:function($el){var self=this;var typing=[];var apps=$el.data('apps');var TxtType=function(el,toType){typing.toType=toType;typing.el=el;typing.loopNum=0;typing.txt='';typing.tick();typing.isDeleting=false;};typing.tick=function(){var i=typing.loopNum%typing.toType.length;var fullTxt=typing.toType[i];typing.txt=typing.isDeleting?fullTxt.substring(0,typing.txt.length-1):fullTxt.substring(0,typing.txt.length+1);$el.find('.o_typewrite_content').text(typing.txt);var that=typing;var delta=200-Math.random()*100;if(typing.isDeleting){delta/=2;}
if(!typing.isDeleting&&typing.txt===fullTxt){delta=1000;typing.isDeleting=true;}else if(typing.isDeleting&&typing.txt===''){typing.isDeleting=false;typing.loopNum++;delta=500;if(self.isCompleted||(i===typing.toType.length-2)){typing.toType=[self.finalMsg.trim()];}}
setTimeout(function(){if(that.txt!=that.toType[that.toType.length-1]){that.tick();}},delta);};this.test=new TxtType($el[0],apps);},_onTrialBuilt:function(){this.isCompleted=true;},});if($('.loading-screen').length){var loadingWidget=new LoadingWidget();loadingWidget.setElement($('.loading-screen'));loadingWidget.start();}});;

/* /openerp_enterprise/static/src/js/openerp_enterprise_template.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_enterprise.database_template_share',function(require){var core=require('web.core');var Wysiwyg=require('web_editor.wysiwyg.root');var sAnimation=require('website.content.snippets.animation');sAnimation.registry.OpenerpEnterpriseDatabasesTemplates=sAnimation.Class.extend({selector:".openerp_enterprise_databases_templates",start:function(){$('select.oe-template-filter').change(function(e){$(e.target).closest('form').submit();});},});sAnimation.registry.OpenerpEnterpriseDatabasesTemplateShare=sAnimation.Class.extend({selector:".openerp_enterprise_database_template_share",start:function(){var self=this;$('.openerp_enterprise_database_template_share form').submit(function(e){self._is_edu();$(e.target).find('#template_edu').prop('checked',edu);});this._update_state();$('input[name="_template_edu"]').click(function(){self._update_state();});$('textarea.load-editor').each(function(){var $textarea=$(this);$textarea.css('height','200px').addClass('invisible');if(!$textarea.val().match(/\S/)){$textarea.val('<p><br/></p>');}
var $form=$textarea.closest('form');var toolbar=[['style',['style']],['font',['bold','italic','underline','clear']],['para',['ul','ol','paragraph']],['table',['table']],['insert',['linkPlugin']],['history',['undo','redo']]];var options={height:150,toolbar:toolbar,styleWithSpan:false,plugins:{MediaPlugin:false,},};var wysiwyg=new Wysiwyg(self,options);wysiwyg.attachTo($textarea).then(function(){$form.on('click','button',function(){$textarea.html($form.find('.note-editable').code());});});});},_is_edu:function(){edu=$('#_template_edu').prop('checked');return edu;},_update_state:function(){if(this._is_edu()){$('label.oe-template-edu').show();$('label.oe-template-demo').hide();}else{$('label.oe-template-edu').hide();$('label.oe-template-demo').show();}},});});;

/* /openerp_enterprise/static/src/js/support.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_website.issues',function(require){require('web.dom_ready');ajax=require('web.ajax');var core=require('web.core');var QWeb=core.qweb;var qtemplates=ajax.loadXML("/openerp_enterprise/static/src/xml/support.xml",QWeb);if(!$('.o_support_form').length){return $.Deferred().reject("DOM doesn't contain 'form[action=\'/help/submit\']'");}
function question_toggle(value){$('.o_show_'+value).removeClass('d-none');$('.o_hide_'+value).addClass('d-none');}
function question_toggle_edition(){var checked_edition=$('input[name="edition"]:checked').val();question_toggle(checked_edition);}
function question_toggle_stage(){var $checked_stage=$('input[name="stage"]:checked');question_toggle($checked_stage.val());if($checked_stage.hasClass('internal')){$('div.internal').removeClass('d-none')}
else{$('div.internal').addClass('d-none')}}
function toggle_dbname_display(){var $select=$('select[name="dbname"]');if($select.length!==0){var $extra_input=$('.o_dbname_other');if($select.val()==='other'){$select.addClass('o_input_inline');$extra_input.removeClass('d-none');if($extra_input.val()){check_db_name($extra_input.val())}}else{$select.removeClass('o_input_inline');$extra_input.addClass('d-none');$('.o_support_send').prop('disabled',false);$('.o_dbname_warning').remove();}}}
function check_db_name(name){ajax.jsonRpc('/help/check_db_name','call',{'db_name':name,}).then(function(result){$('.o_dbname_warning').remove();$('.o_support_send').prop('disabled',false);if(!result){$('.o_support_send').prop('disabled',true);$('.o_dbname_other').parent().after('<span class="text-epsilon o_dbname_warning col"><i class="fa fa-warning"/> Invalid instance name. Your ticket will be processed faster if you enter a valid instance name.</span>');}});}
function toggle_contract_display(){$('.o_support_send').prop('disabled',false);var $select=$('select[name="contract_number"]');if($select.length!==0){var $extra_input=$('.o_contract_number_other_input');if($select.val()==='other'){$select.addClass('o_input_inline');$extra_input.parent().removeClass('d-none');}else{$select.removeClass('o_input_inline');$extra_input.parent().addClass('d-none');$extra_input.val($select.val())}}}
$('input[name="edition"]').on('click',function(){question_toggle_edition();if(this.value=='online'||this.value=='enterprise'){question_toggle_stage();}
if(this.value=='online'){toggle_dbname_display();}
if(this.value=='enterprise'){toggle_contract_display();}});$('input[name="stage"]').on('click',function(){question_toggle_stage();});question_toggle_edition();question_toggle_stage();toggle_dbname_display();toggle_contract_display();$('select.o_select_other').on('change',function(){if(this.name==='contract_number'){toggle_contract_display();}else{toggle_dbname_display();}});$('.o_dbname_other').on('change',function(){check_db_name(this.value);});var $attachContainer=$('.o_attachments .list-group');var fileInputChange=function($el){$el.on('change',function(){$el.closest('li').toggleClass('js_has_data',$el.val());$attachContainer.toggleClass('js_has_data',$attachContainer.find('.js_has_data').length>0);$('.form-group.o_attachments .alert').remove();});};fileInputChange($('input[type=file]'));var fileInputAdd=function(){var attachment_fields=$('input[type=file]');var $newField=$(QWeb.render('FileInputTemplate',{name:attachment_fields.length}));fileInputChange($newField);$attachContainer.append($newField);if(attachment_fields.length>0){$newField.find('input').trigger('click');}};$('.o_more_attachments').on('click',function(event){event.preventDefault();fileInputAdd();});$('.o_attachments').on('click','.o_less_attachments',function(event){event.preventDefault();var attachment_fields=$('input[type=file]');$(this).closest('li').remove();if(attachment_fields.length==1){fileInputAdd();$attachContainer.removeClass('js_has_data');}else{attachment_fields.each(function(index){$(this).attr('name','attachment'+index);});}});$('.has-error input').on('input',function(){$(this).closest('.has-error').removeClass('has-error').find('label .fa-remove').add('.help-block.has-error').remove();});$('.o_dbname_other input').on('blur',function(event){check_db_name($(this).val());});$('form[action=\'/help/submit\']').on('submit',function(event){$('.o_support_send').prop('disabled',true);});var has_error=$('.has-error');if(has_error.length>0)
{var main_header=$('.o_main_header');var nav_bar=$('.o_main_navbar');$(window).scrollTop(has_error.offset().top-(nav_bar.innerHeight()+main_header.innerHeight()));}});;

/* /openerp_apps/static/src/js/portal.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_apps.portal',function(require){'use strict';require('web.dom_ready');if(!$('.o_redeem_info').length){return $.Deferred().reject("DOM doesn't contain '.o_redeem_info'");}
if($('.o_redeem_info').length){var redeem_info=$("div[id='account_data']");$("input[name='redeem_method']").on('click',function(){if(this.value=="manual"){redeem_info.addClass('d-none');}
else{redeem_info.removeClass('d-none');}});$('.o_redeem_info').find("input[name='redeem_method']").change();}});;

/* /planning/static/src/js/planning_calendar_front.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('planning.calendar_frontend',function(require){"use strict";const publicWidget=require('web.public.widget');publicWidget.registry.PlanningView=publicWidget.Widget.extend({selector:'#calendar_employee',jsLibs:['/web/static/lib/fullcalendar/core/main.js','/web/static/lib/fullcalendar/core/locales-all.js','/web/static/lib/fullcalendar/interaction/main.js','/web/static/lib/fullcalendar/moment/main.js','/web/static/lib/fullcalendar/daygrid/main.js','/web/static/lib/fullcalendar/timegrid/main.js','/web/static/lib/fullcalendar/list/main.js'],cssLibs:['/web/static/lib/fullcalendar/core/main.css','/web/static/lib/fullcalendar/daygrid/main.css','/web/static/lib/fullcalendar/timegrid/main.css','/web/static/lib/fullcalendar/list/main.css'],init:function(parent,options){this._super.apply(this,arguments);},start:function(){if($('.message_slug').attr('value')){$("#PlanningToast").toast('show');}
this._super.apply(this,arguments);this.calendarElement=this.$(".o_calendar_widget")[0];const employeeSlotsFcData=JSON.parse($('.employee_slots_fullcalendar_data').attr('value'));const openSlotsIds=$('.open_slots_ids').attr('value');const locale=$('.locale').attr('value');const defaultStart=moment($('.default_start').attr('value')).toDate();const defaultView=$('.default_view').attr('value');const minTime=$('.mintime').attr('value');const maxTime=$('.maxtime').attr('value');let calendarHeaders={left:'dayGridMonth,timeGridWeek,listMonth',center:'title',right:'today,prev,next'};if(employeeSlotsFcData.length===0){calendarHeaders={left:false,center:'title',right:false,};}
let titleFormat='MMMM YYYY';if(defaultView&&(employeeSlotsFcData||openSlotsIds)){this.calendar=new FullCalendar.Calendar($("#calendar_employee")[0],{plugins:['moment','dayGrid','timeGrid','list','interraction'],locale:locale,defaultView:defaultView,navLinks:true,eventLimit:2,titleFormat:titleFormat,defaultDate:defaultStart,timeFormat:'LT',displayEventEnd:true,height:'auto',eventTextColor:'white',eventOverlap:true,eventTimeFormat:{hour:'numeric',minute:'2-digit',meridiem:'long',omitZeroMinute:true,},minTime:minTime,maxTime:maxTime,header:calendarHeaders,events:employeeSlotsFcData,eventClick:this.eventFunction,});this.calendar.setOption('locale',locale);this.calendar.render();}},eventFunction:function(calEvent){const planningToken=$('.planning_token').attr('value');const employeeToken=$('.employee_token').attr('value');$(".modal-title").text(calEvent.event.title);$(".modal-header").css("background-color",calEvent.event.backgroundColor);$("#start").text(moment(calEvent.event.start).format("YYYY-MM-DD hh:mm A"));$("#stop").text(moment(calEvent.event.end).format("YYYY-MM-DD hh:mm A"));$("#alloc_hours").text(calEvent.event.extendedProps.alloc_hours);$("#role").text(calEvent.event.extendedProps.role);if(calEvent.event.extendedProps.alloc_perc!==100){$("#alloc_perc_value").text(calEvent.event.extendedProps.alloc_perc);$("#alloc_perc").css("display","");}else{$("#alloc_perc").css("display","none");}
if(calEvent.event.extendedProps.role){$("#role").prev().css("display","");$("#role").text(calEvent.event.extendedProps.role);$("#role").css("display","");}else{$("#role").prev().css("display","none");$("#role").css("display","none");}
if(calEvent.event.extendedProps.note){$("#note").prev().css("display","");$("#note").text(calEvent.event.extendedProps.note);$("#note").css("display","");}else{$("#note").prev().css("display","none");$("#note").css("display","none");}
$("#allow_self_unassign").text(calEvent.event.extendedProps.allow_self_unassign);if(calEvent.event.extendedProps.allow_self_unassign&&!calEvent.event.extendedProps.is_unassign_deadline_passed){document.getElementById("dismiss_shift").style.display="block";}else{document.getElementById("dismiss_shift").style.display="none";}
$("#modal_action_dismiss_shift").attr("action","/planning/"+planningToken+"/"+employeeToken+"/unassign/"+calEvent.event.extendedProps.slot_id);$("#fc-slot-onclick-modal").modal("show");},});return publicWidget.registry.PlanningView;});;

/* /payment_authorize/static/src/js/payment_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('payment_authorize.payment_form',require=>{'use strict';const core=require('web.core');const ajax=require('web.ajax');const checkoutForm=require('payment.checkout_form');const manageForm=require('payment.manage_form');const _t=core._t;const authorizeMixin={_getInlineFormInputs:function(acquirerId){if(this.authorizeInfo.payment_method_type==="credit_card"){return{card:document.getElementById(`o_authorize_card_${acquirerId}`),month:document.getElementById(`o_authorize_month_${acquirerId}`),year:document.getElementById(`o_authorize_year_${acquirerId}`),code:document.getElementById(`o_authorize_code_${acquirerId}`),};}else{return{accountName:document.getElementById(`o_authorize_account_name_${acquirerId}`),accountNumber:document.getElementById(`o_authorize_account_number_${acquirerId}`),abaNumber:document.getElementById(`o_authorize_aba_number_${acquirerId}`),accountType:document.getElementById(`o_authorize_account_type_${acquirerId}`),};}},_getPaymentDetails:function(acquirerId){const inputs=this._getInlineFormInputs(acquirerId);if(this.authorizeInfo.payment_method_type==='credit_card'){return{cardData:{cardNumber:inputs.card.value.replace(/ /g,''),month:inputs.month.value,year:inputs.year.value,cardCode:inputs.code.value,},};}else{return{bankData:{nameOnAccount:inputs.accountName.value.substring(0,22),accountNumber:inputs.accountNumber.value,routingNumber:inputs.abaNumber.value,accountType:inputs.accountType.value,},};}},_prepareInlineForm:function(provider,paymentOptionId,flow){if(provider!=='authorize'){return this._super(...arguments);}
if(flow==='token'){return Promise.resolve();}
this._setPaymentFlow('direct');let acceptJSUrl='https://js.authorize.net/v1/Accept.js';return this._rpc({route:'/payment/authorize/get_acquirer_info',params:{'acquirer_id':paymentOptionId,},}).then(acquirerInfo=>{if(acquirerInfo.state!=='enabled'){acceptJSUrl='https://jstest.authorize.net/v1/Accept.js';}
this.authorizeInfo=acquirerInfo;}).then(()=>{ajax.loadJS(acceptJSUrl);}).guardedCatch((error)=>{error.event.preventDefault();this._displayError(_t("Server Error"),_t("An error occurred when displayed this payment form."),error.message.data.message);});},_processPayment:function(provider,paymentOptionId,flow){if(provider!=='authorize'||flow==='token'){return this._super(...arguments);}
if(!this._validateFormInputs(paymentOptionId)){this._enableButton();return Promise.resolve();}
const secureData={authData:{apiLoginID:this.authorizeInfo.login_id,clientKey:this.authorizeInfo.client_key,},...this._getPaymentDetails(paymentOptionId),};return Accept.dispatchData(secureData,response=>this._responseHandler(paymentOptionId,response));},_responseHandler:function(acquirerId,response){if(response.messages.resultCode==='Error'){let error="";response.messages.message.forEach(msg=>error+=`${msg.code}: ${msg.text}\n`);this._displayError(_t("Server Error"),_t("We are not able to process your payment."),error);return Promise.resolve();}
return this._rpc({route:this.txContext.transactionRoute,params:this._prepareTransactionRouteParams('authorize',acquirerId,'direct'),}).then(processingValues=>{return this._rpc({route:'/payment/authorize/payment',params:{'reference':processingValues.reference,'partner_id':processingValues.partner_id,'opaque_data':response.opaqueData,'access_token':processingValues.access_token,}}).then(()=>window.location='/payment/status');}).guardedCatch((error)=>{error.event.preventDefault();this._displayError(_t("Server Error"),_t("We are not able to process your payment."),error.message.data.message);});},_validateFormInputs:function(acquirerId){const inputs=Object.values(this._getInlineFormInputs(acquirerId));return inputs.every(element=>element.reportValidity());},};checkoutForm.include(authorizeMixin);manageForm.include(authorizeMixin);});;

/* /project_forecast/static/src/js/forecast_calendar_front.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@project_forecast/js/forecast_calendar_front',async function(require){'use strict';let __exports={};const PlanningView=require('planning.calendar_frontend');PlanningView.include({eventFunction:function(calEvent){this._super.apply(this,arguments);const $project=$("#project");if(calEvent.event.extendedProps.project){$project.text(calEvent.event.extendedProps.project);$project.css("display","");$project.prev().css("display","");}else{$project.css("display","none");$project.prev().css("display","none");}
const $task=$("#task");if(calEvent.event.extendedProps.task){$task.text(calEvent.event.extendedProps.task);$task.prev().css("display","");$task.css("display","");}else{$task.css("display","none");$task.prev().css("display","none");}},});return __exports;});;

/* /auth_totp_portal/static/src/js/totp_frontend.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('auth_totp_portal.button',function(require){'use strict';const{_t}=require('web.core');const publicWidget=require('web.public.widget');const Dialog=require('web.Dialog');const{handleCheckIdentity}=require('portal.portal');function fromField(f,record){switch(f.getAttribute('name')){case'qrcode':const qrcode=document.createElement('img');qrcode.setAttribute('class','img img-fluid');qrcode.setAttribute('src','data:image/png;base64,'+record['qrcode']);return qrcode;case'url':const url=document.createElement('a');url.setAttribute('href',record['url']);url.textContent=f.getAttribute('text')||record['url'];return url;case'code':const code=document.createElement('input');code.setAttribute('name','code');code.setAttribute('class','form-control col-10 col-md-6');code.setAttribute('placeholder','6-digit code');code.required=true;code.maxLength=6;code.minLength=6;return code;case'secret':const secretSpan=document.createElement('span');secretSpan.setAttribute('name','secret');secretSpan.setAttribute('class','o_field_copy_url');secretSpan.textContent=record['secret'];const copySpanIcon=document.createElement('span');copySpanIcon.setAttribute('class','fa fa-clipboard');const copySpanText=document.createElement('span');copySpanText.textContent=_t(' Copy');const copyButton=document.createElement('button');copyButton.setAttribute('class','btn btn-sm btn-primary o_clipboard_button o_btn_char_copy py-0 px-2');copyButton.onclick=function(event){event.preventDefault();$(copyButton).tooltip({title:_t("Copied !"),trigger:"manual",placement:"bottom"});var clipboard=new ClipboardJS('.o_clipboard_button',{target:function(){return $(secretSpan)[0];},container:this.el});clipboard.on('success',function(){clipboard.destroy();$(copyButton).tooltip('show');_.delay(function(){$(copyButton).tooltip("hide");},800);});clipboard.on('error',function(e){clipboard.destroy();});};copyButton.appendChild(copySpanIcon);copyButton.appendChild(copySpanText);const secretDiv=document.createElement('div');secretDiv.setAttribute('class','o_field_copy d-flex justify-content-center align-items-center');secretDiv.appendChild(secretSpan);secretDiv.appendChild(copyButton);return secretDiv;default:return document.createTextNode(record[f.getAttribute('name')]||'');}}
function fixupViewBody(oldNode,record){let qrcode=null,code=null,node=null;switch(oldNode.nodeType){case 1:if(oldNode.tagName==='field'){node=fromField(oldNode,record);switch(oldNode.getAttribute('name')){case'qrcode':qrcode=node;break;case'code':code=node;break}
break;}
node=document.createElement(oldNode.tagName);for(let i=0;i<oldNode.attributes.length;++i){const attr=oldNode.attributes[i];node.setAttribute(attr.name,attr.value);}
for(let j=0;j<oldNode.childNodes.length;++j){const[ch,qr,co]=fixupViewBody(oldNode.childNodes[j],record);if(ch){node.appendChild(ch);}
if(qr){qrcode=qr;}
if(co){code=co;}}
break;case 3:case 4:node=document.createTextNode(oldNode.data);break;default:}
return[node,qrcode,code]}
class Button{constructor(parent,model,record_id,input_node,button_node){this._parent=parent;this.model=model;this.record_id=record_id;this.input=input_node;this.text=button_node.getAttribute('string');this.classes=button_node.getAttribute('class')||null;this.action=button_node.getAttribute('name');if(button_node.getAttribute('special')==='cancel'){this.close=true;this.click=null;}else{this.close=false;this.click=this._click.bind(this);}}
async _click(){if(!this.input.reportValidity()){this.input.classList.add('is-invalid');return;}
try{await this.callAction(this.record_id,{code:this.input.value});}catch(e){this.input.classList.add('is-invalid');this.input.setCustomValidity(e.message);this.input.reportValidity();return;}
this.input.classList.remove('is-invalid');window.location=window.location;}
async callAction(id,update){try{await this._parent._rpc({model:this.model,method:'write',args:[id,update]});await handleCheckIdentity(this._parent.proxy('_rpc'),this._parent._rpc({model:this.model,method:this.action,args:[id]}));}catch(e){e.event.preventDefault();throw new Error(!e.message?e.toString():!e.message.data?e.message.message:e.message.data.message||_t("Operation failed for unknown reason."));}}}
publicWidget.registry.TOTPButton=publicWidget.Widget.extend({selector:'#auth_totp_portal_enable',events:{click:'_onClick',},async _onClick(e){e.preventDefault();const w=await handleCheckIdentity(this.proxy('_rpc'),this._rpc({model:'res.users',method:'action_totp_enable_wizard',args:[this.getSession().user_id]}));if(!w){window.location=window.location;return;}
const{res_model:model,res_id:wizard_id}=w;const record=await this._rpc({model,method:'read',args:[wizard_id,[]]}).then(ar=>ar[0]);const doc=new DOMParser().parseFromString(document.getElementById('totp_wizard_view').textContent,'application/xhtml+xml');const xmlBody=doc.querySelector('sheet *');const[body,,codeInput]=fixupViewBody(xmlBody,record);codeInput.addEventListener('input',()=>codeInput.setCustomValidity(''));const buttons=[];for(const button of doc.querySelectorAll('footer button')){buttons.push(new Button(this,model,record.id,codeInput,button));}
const $content=document.createElement('form');$content.appendChild(body);$content.addEventListener('submit',(e)=>{e.preventDefault();dialog.$footer.find('.btn-primary').click();});var dialog=new Dialog(this,{$content,buttons}).open();}});publicWidget.registry.DisableTOTPButton=publicWidget.Widget.extend({selector:'#auth_totp_portal_disable',events:{click:'_onClick'},async _onClick(e){e.preventDefault();await handleCheckIdentity(this.proxy('_rpc'),this._rpc({model:'res.users',method:'action_totp_disable',args:[this.getSession().user_id]}))
window.location=window.location;}});publicWidget.registry.RevokeTrustedDeviceButton=publicWidget.Widget.extend({selector:'.fa.fa-trash.text-danger',events:{click:'_onClick'},async _onClick(e){e.preventDefault();await handleCheckIdentity(this.proxy('_rpc'),this._rpc({model:'res.users.apikeys',method:'remove',args:[parseInt(this.target.id)]}));window.location=window.location;}});publicWidget.registry.RevokeAllTrustedDevicesButton=publicWidget.Widget.extend({selector:'#auth_totp_portal_revoke_all_devices',events:{click:'_onClick'},async _onClick(e){e.preventDefault();await handleCheckIdentity(this.proxy('_rpc'),this._rpc({model:'res.users',method:'revoke_all_devices',args:[this.getSession().user_id]}));window.location=window.location;}});});;

/* /hr_contract_salary/static/src/js/hr_contract_salary.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('hr_contract_salary',function(require){"use strict";const concurrency=require('web.concurrency');const publicWidget=require('web.public.widget');const utils=require('web.utils');const{qweb,_t}=require('web.core');publicWidget.registry.SalaryPackageWidget=publicWidget.Widget.extend({selector:'#hr_cs_form',xmlDependencies:['/hr_contract_salary/static/src/xml/resume_sidebar.xml',],events:{"change .advantage_input":"onchangeAdvantage","change input.folded":"onchangeFolded","change .personal_info":"onchangePersonalInfo","click #hr_cs_submit":"submitSalaryPackage","click a[name='recompute']":"recompute","click button[name='toggle_personal_information']":"togglePersonalInformation","change input.bg-danger":"checkFormValidity","change div.invalid_radio":"checkFormValidity","change input.document":"onchangeDocument","input input[type='range']":"onchangeSlider","change select[name='country_id']":"onchangeCountry",},init(parent,options){this._super(parent);this.dp=new concurrency.DropPrevious();$('body').attr('id','hr_contract_salary');$("#hr_contract_salary select").select2({minimumResultsForSearch:-1});$('b[role="presentation"]').hide();$('.select2-arrow').append('<i class="fa fa-chevron-down"></i>');this.updateGross=_.debounce(this.updateGross,1000);this.initializeUnsetSliders();var whitelist=$("input[name='whitelist']").val();if(whitelist){var whitelisted_fields=whitelist.split(',');$('input').toArray().forEach(input=>{if(!whitelisted_fields.includes(input.name)){$(input).attr("disabled",true);}});$('select').toArray().forEach(select=>{if(!whitelisted_fields.includes(select.name)){$(select).attr("disabled",true);}});}
this.onchangeCountry();$('#hr_cs_configurator .hr_cs_control input.folded:checked').closest('div').find('.folded_content').removeClass('d-none')},willStart(){return Promise.all([this._super(),this.updateGross(),]);},initializeUnsetSliders(){$("input[type='range']").toArray().forEach(input=>{const inputName=input.name.replace('_slider','');const valueInput=$("input[name='"+inputName+"']");if(!valueInput.val()){$(input).val(0);valueInput.val(0);}});},getFileData(documentName){const file=$("input[name='"+documentName+"']");return new Promise(async resolve=>{if(file[0].files[0]){const testString=await utils.getDataURLFromFile(file[0].files[0]);const regex=new RegExp(",(.{0,})","g");const img_src=regex.exec(testString)[1];resolve(img_src);}else{resolve(false);}});},async getPersonalDocuments(){const documentNames=$("input[type='file']").toArray().map(input=>({name:input.name,appliesOn:$(input).attr('applies-on'),}));let documentSrcs={'employee':{},'address':{},'bank_account':{}};const promises=documentNames.map(async({name,appliesOn})=>{const docSrc=await this.getFileData(name)
documentSrcs[appliesOn][name]=docSrc;});await Promise.all(promises);return documentSrcs;},getAdvantages(){const advantages={'contract':{},'employee':{},'address':{},'bank_account':{},};advantages.employee.job_title=$("input[name='job_title']").val();$('input').toArray().filter(input=>input.hasAttribute('applies-on')).filter(input=>input.type!=='file').forEach(input=>{const appliesOn=$(input).attr('applies-on');if(input.type==='checkbox'){advantages[appliesOn][input.name]=input.checked;}else if(input.type==='radio'&&input.checked){advantages[appliesOn][input.name]=$(input).data('value');}else if(input.type!=='hidden'&&input.type!=='radio'){advantages[appliesOn][input.name]=input.value;}});$('select.advantage_input,select.personal_info').toArray().forEach(select=>{const appliesOn=$(select).attr('applies-on');advantages[appliesOn][select.name]=$(select).val();});return advantages;},updateGrossToNetModal(data){const resumeSidebar=$(qweb.render('hr_contract_salary.salary_package_resume',{'lines':data.resume_lines_mapped,'categories':data.resume_categories,}));this.$("div[name='salary_package_resume']").html(resumeSidebar);$("input[name='wage_with_holidays']").val(data['wage_with_holidays']);$("div[name='net']").removeClass('d-none').hide().slideDown("slow");$("input[name='NET']").removeClass('o_outdated');},onchangeFolded(event){const foldedContent=$(event.target.parentElement.parentElement).find('.folded_content');const checked=event.target.checked;if(!checked){$(foldedContent).find('input').toArray().forEach(input=>{if(input.type=='number'){$(input).val(0);$(input).trigger('change');}});}else{$(foldedContent).find('select').trigger('change');}
checked?$(foldedContent).removeClass('d-none'):$(foldedContent).addClass('d-none');},onchangeSlider(event){let advantageField=event.target.name.replace("_slider","");;$("input[name='"+advantageField+"']").val(event.target.value);},onchangeCountry(event){let countryID=parseInt($("select[name='country_id'][applies-on='address']").val());$("select[name='state_id']").find('option').toArray().forEach(option=>{let $option=$(option);let stateCountryID=$option.data('additional-info');if(countryID===stateCountryID){$option.removeClass('d-none');}else{$option.addClass('d-none');}})},_isInvalidInput(){let isInvalidInput;$('input[data-field-type=integer]').toArray().forEach(input=>{if(input.value&&!Number.isInteger(parseFloat(input.value))){isInvalidInput=true;if(!input.classList.contains('border-danger')){$("<div class='alert alert-danger alert-dismissable fade show'>").text(_t('Not a valid input in integer field')).appendTo($("button#hr_cs_submit").parent());input.classList.toggle('border-danger',isInvalidInput);$(".alert").delay(4000).slideUp(200,function(){$(this).alert('close');});}}else if(input.classList.contains('border-danger')){input.classList.remove('border-danger');}});return isInvalidInput;},async onchangeAdvantage(event){if(this._isInvalidInput()){return false;}
if(event.target.type==='number'&&parseFloat(event.target.value)<0){$(event.target).val(0);}
let advantageField=event.target.name;if(advantageField.includes('_slider')){advantageField=advantageField.replace("_slider","");}else if(advantageField.includes('_manual')){advantageField=advantageField.replace("_manual","");}else if(advantageField.includes('_radio')){advantageField=advantageField.replace("_radio","");}else if(advantageField.includes('select_')){advantageField=advantageField.replace("select_","");}
const requested_documents=$(event.target).data('requested_documents');if(requested_documents){let hide;if(event.target.type==='number'){hide=event.target.value==="0"||event.target.value==="";}else if(event.target.type==='checkbox'){hide=!event.target.checked;}else if(event.target.type==='radio'){hide=$(event.target.parentElement).find('.hr_cs_control_no').length;}
requested_documents.split(',').forEach(requested_document=>{const document_div=$("div[name='"+requested_document+"']");hide?document_div.addClass('d-none'):document_div.removeClass('d-none');});}
let newValue;if(event.target.type==='radio'){const target=$("input[name='"+event.target.name+"']").toArray().find(elem=>elem.checked);const description=$("span[name='description_"+advantageField+"']");$(target).hasClass('hide_description')?description.addClass('d-none'):description.removeClass('d-none');newValue=$(target).data('value');if(newValue==='No'){newValue=0;}}else if(event.target.type==='checkbox'){newValue=event.target.checked;}else{newValue=event.target.value;}
if(event.target.type!=='file'){const result=await this._rpc({route:'/salary_package/onchange_advantage',params:{'advantage_field':advantageField,'new_value':newValue,'contract_id':parseInt($("input[name='contract']").val()),'advantages':this.getAdvantages({includeFiles:false}),},});if(event.target.type!=='select'){$("input[name='"+advantageField+"']").val(result.new_value);}
$("span[name='description_"+advantageField+"']").html(result.description);if(result.extra_values){_.each(result.extra_values,function(extra_value){$("input[name='"+extra_value[0]+"']").val(extra_value[1]);});}
await this.updateGross();}},async onchangeDocument(input){if(input.target.files){const testString=await utils.getDataURLFromFile(input.target.files[0]);const regex=new RegExp(",(.{0,})","g");const img_src=regex.exec(testString)[1];if(img_src.startsWith('JVBERi0')){$('iframe#'+input.target.name+'_pdf').attr('src',testString);$('img#'+input.target.name+'_img').addClass('d-none');$('iframe#'+input.target.name+'_pdf').removeClass('d-none');}else{$('img#'+input.target.name+'_img').attr('src',testString);$('img#'+input.target.name+'_img').removeClass('d-none');$('iframe#'+input.target.name+'_pdf').addClass('d-none');}}},updateGross(){const self=this;$("div[name='net']").addClass('d-none');$("div[name='compute_net']").removeClass('d-none');$("a[name='details']").addClass('d-none');$("a[name='recompute']").removeClass('d-none');$("input[name='NET']").addClass('o_outdated');return this.dp.add(self._rpc({route:'/salary_package/update_salary',params:{'contract_id':parseInt($("input[name='contract']").val()),'advantages':self.getAdvantages({includeFiles:false}),},}).then(data=>{$("input[name='wage']").val(data['new_gross']);$("a[name='recompute']").addClass('d-none');$("a[name='details']").removeClass('d-none');self.updateGrossToNetModal(data);}));},async onchangePersonalInfo(event){let newValue;if(event.target.type==='radio'){const target=$("input[name='"+event.target.name+"']").toArray().filter(elem=>elem.checked);newValue=$(target).data('value');}else if(event.target.type==='checkbox'){newValue=event.target.checked;}else{newValue=event.target.value;}
const data=await this._rpc({route:'/salary_package/onchange_personal_info',params:{'field':event.target.name,'value':newValue,},});if(!_.isEmpty(data)){const childDiv=$("div[name='personal_info_child_group_"+data.field+"']")
const childInputs=childDiv.find('input').toArray();if(data.hide_children){childDiv.addClass('d-none');childInputs.forEach(input=>$(input).removeAttr('required'));}else{childDiv.removeClass('d-none');childInputs.forEach(input=>$(input).attr('required',''));}}},recompute(){$("a[name='details']").removeClass('d-none');$("a[name='recompute']").addClass('d-none');$("input[name='NET']").removeClass('o_outdated');},checkFormValidity(){const requiredEmptyInput=$("input:required").toArray().find(input=>input.value===''&&input.name!==''&&input.type!=='checkbox');const requiredEmptySelect=$("select:required").toArray().find(select=>$(select).val()==='');const email=$("input[name='email']").val();const atpos=email.indexOf("@");const dotpos=email.lastIndexOf(".");const invalid_email=atpos<1||dotpos<atpos+2||dotpos+2>=email.length;const isInvalidInput=this._isInvalidInput();let requiredEmptyRadio;const radios=Array.prototype.slice.call(document.querySelectorAll('input[type=radio]:required'));const groups=Object.values(radios.reduce((result,el)=>Object.assign(result,{[el.name]:(result[el.name]||[]).concat(el)}),{}));groups.some((group,index)=>{const $radio=group[0].parentElement.parentElement;if(!group.some(el=>el.checked)){requiredEmptyRadio=true;const $warning=document.createElement('div');$warning.classList='alert alert-danger alert-dismissable fade show';$warning.textContent=_t('Some required fields are not filled');document.querySelector("button#hr_cs_submit").parentElement.append($warning);$radio.classList.toggle('invalid_radio',requiredEmptyRadio);document.querySelector("section#hr_cs_personal_information").scrollIntoView({block:"start",behavior:"smooth"});}else if($radio.classList.contains('invalid_radio')){$radio.classList.toggle('invalid_radio');}});if(requiredEmptyInput||requiredEmptySelect){$("<div class='alert alert-danger alert-dismissable fade show'>").text(_t('Some required fields are not filled')).appendTo($("button#hr_cs_submit").parent());$("input:required").toArray().forEach(input=>{$(input).toggleClass('bg-danger',input.value==='');});$("select:required").toArray().forEach(select=>{const selectParent=$(select).parent().find('.select2-choice');selectParent.toggleClass('bg-danger',$(select).val()==='');});$("section#hr_cs_personal_information")[0].scrollIntoView({block:"start",behavior:"smooth"});}
if(invalid_email){$("input[name='email']").addClass('bg-danger');$("<div class='alert alert-danger alert-dismissable fade show'>").text(_t('Not a valid e-mail address')).appendTo($("button#hr_cs_submit").parent());$("section#hr_cs_personal_information")[0].scrollIntoView({block:"start",behavior:"smooth"});}else{$("input[name='email']").removeClass('bg-danger');}
$(".alert").delay(4000).slideUp(200,function(){$(this).alert('close');});return!invalid_email&&!requiredEmptyInput&&!requiredEmptySelect&&!requiredEmptyRadio&&!isInvalidInput;},async getFormInfo(){const personalDocuments=await this.getPersonalDocuments();let advantages=this.getAdvantages();advantages={'employee':Object.assign(advantages.employee,personalDocuments.employee),'contract':Object.assign(advantages.contract,personalDocuments.contract),'address':Object.assign(advantages.address,personalDocuments.address),'bank_account':Object.assign(advantages.bank_account,personalDocuments.bank_account),}
return{'contract_id':parseInt($("input[name='contract']").val()),'token':$("input[name='token']").val(),'advantages':advantages,'applicant_id':parseInt($("input[name='applicant_id']").val())||false,'employee_contract_id':parseInt($("input[name='employee_contract_id']").val())||false,'original_link':$("input[name='original_link']").val()};},async submitSalaryPackage(event){if(this.checkFormValidity()){const formInfo=await this.getFormInfo();const data=await this._rpc({route:'/salary_package/submit',params:formInfo,});if(data['error']){$("button#hr_cs_submit").parent().append("<div class='alert alert-danger alert-dismissable fade show'>"+data['error_msg']+"</div>");}else{document.location.pathname='/sign/document/'+data['request_id']+'/'+data['token'];}}},togglePersonalInformation(){$("button[name='toggle_personal_information']").toggleClass('d-none');$("div[name='personal_info']").toggle(500);$("div[name='personal_info_withholding_taxes']").toggle(500);},});return publicWidget.registry.SalaryPackageWidget;});;

/* /hr_contract_salary_payroll/static/src/js/hr_contract_salary.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('hr_contract_salary_payroll',function(require){"use strict";var SalaryPackageWidget=require("hr_contract_salary");var core=require('web.core');var qweb=core.qweb;SalaryPackageWidget.include({xmlDependencies:SalaryPackageWidget.prototype.xmlDependencies.concat(['/hr_contract_salary_payroll/static/src/xml/brut2net_modal.xml',]),updateGrossToNetModal(data){var modal_body=$(qweb.render('hr_contract_salary_payroll.salary_package_brut_to_net_modal',{'datas':data.payslip_lines}));this.$("main.modal-body").html(modal_body);this._super.apply(this,arguments);},});});;

/* /l10n_be_hr_contract_salary/static/src/js/hr_contract_salary.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('l10n_be_hr_contract_salary',function(require){"use strict";const hrContractSalary=require('hr_contract_salary');hrContractSalary.include({events:_.extend({},hrContractSalary.prototype.events,{"change input[name='has_hospital_insurance_radio']":"onchangeHospital","change input[name='fold_company_car_total_depreciated_cost']":"onchangeCompanyCar","change input[name='fold_private_car_reimbursed_amount']":"onchangePrivateCar",}),updateGrossToNetModal(data){this._super(data);$("input[name='double_holiday_wage']").val(data['double_holiday_wage']);},onchangeCompanyCar:function(event){var private_car_input=$("input[name='fold_private_car_reimbursed_amount']")
if(event.target.checked&&private_car_input[0].checked){private_car_input.click()}},onchangePrivateCar:function(event){var company_car_input=$("input[name='fold_company_car_total_depreciated_cost']")
if(event.target.checked&&company_car_input[0].checked){company_car_input.click()}},onchange_mobility:function(){this._super.apply(this,arguments);var fuel_card_div=$("div[name='fuel_card']");fuel_card_div.removeClass("hidden");},start:async function(){const res=await this._super(...arguments);this.onchangeHospital();$("input[name='insured_relative_children']").parent().addClass('d-none');$("input[name='insured_relative_adults']").parent().addClass('d-none');$("input[name='insured_relative_spouse']").parent().addClass('d-none');$("input[name='insured_relative_children_manual']").before($('<strong>',{class:'mt8',text:'# Children < 19'}));$("input[name='insured_relative_adults_manual']").before($('<strong>',{class:'mt8',text:'# Children >= 19'}));return res;},onchangeHospital:function(){const hasInsurance=$("input[name='has_hospital_insurance_radio']:last").prop('checked');if(hasInsurance){$("label[for='insured_relative_children']").parent().removeClass('d-none');$("label[for='insured_relative_adults']").parent().removeClass('d-none');$("label[for='insured_relative_spouse']").parent().removeClass('d-none');}else{$("input[name='fold_insured_relative_spouse']").prop('checked',false);$("input[name='insured_relative_children_manual']").val(0);$("input[name='insured_relative_adults_manual']").val(0);$("label[for='insured_relative_children']").parent().addClass('d-none');$("label[for='insured_relative_adults']").parent().addClass('d-none');$("label[for='insured_relative_spouse']").parent().addClass('d-none');}},});});;

/* /hr_contract_salary_internal/static/src/js/odoo_salary_modal.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_salary_grid.o_salary_modal',function(require){"use strict";var core=require('web.core');var sAnimation=require('website.content.snippets.animation');sAnimation.registry.o_salary_modal=sAnimation.Class.extend({read_events:{'click':'showModal',},selector:'.o_salary_modal',xmlDependencies:['/hr_contract_salary_internal/static/src/xml/odoo_salary_modal.xml'],start:function(){var self=this;this._super.apply(this,arguments);if(this.editableMode)return;if(!this.modalShow&&$.deparam(window.location.search.substr(1)).salary){this.modalShow=true;self.showModal();}},showModal:function(e){e.preventDefault();var self=this;var url_data=_.str.sprintf('/website/action/salary_grid_template?t=%s',odoo.csrf_token);$.get(url_data,function(response){var data=$.parseJSON(response.split("'").join('"'));self.$modal=$(core.qweb.render('openerp_salary_grid.o_salary_modal_template',{jobs:data.jobs}));self.$modal.appendTo('body');self.$modal.modal();var job_id=$('*[data-job-id]').data('job-id');if(job_id){self.$modal.find('#job option[value='+job_id+']').attr('selected','selected');}
self.$modal.on('shown.bs.modal',function(){var $exp=self.$modal.find('#experience');var $form=self.$modal.find('form');var $job=self.$modal.find('#job');var developer_job_id="1";$exp.focus();if($job.find(':selected').val()==developer_job_id){$('#salary_bonus_warning').removeClass('d-none');}
$job.on('change',function(e){var selected_job_id=$job.find(':selected').val();if(selected_job_id==developer_job_id){$('#salary_bonus_warning').removeClass('d-none');}else{$('#salary_bonus_warning').addClass('d-none');}});$form.on("submit",function(e){var $job_selected=$job.find(':selected');e.preventDefault();window.open(_.str.sprintf(data.controller,$job_selected.data('contract-id'),self.compute_salary($job_selected.data('contract-id'),parseInt($exp.val(),10)||0,data),job_id||$job_selected.val()||''),'_blank');self.$modal.modal('hide');});});self.$modal.on('hidden.bs.modal',function(){self.$modal.remove();});});},compute_salary:function(jobid,exp,data){return data.cost_grid[jobid][exp<=20?exp:20]*data.factor;},destroy:function(){this._super.apply(this,arguments);if(this.$modal){this.$modal.modal('hide');}},});});;

/* /hr_contract_salary_internal/static/src/js/hr_contract_salary.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('hr_contract_salary_internal',function(require){"use strict";var SalaryPackageWidget=require("hr_contract_salary");var core=require('web.core');var ajax=require('web.ajax');SalaryPackageWidget.include({onchange_mobility:function(){this._super.apply(this,arguments);var fuel_card_div=$("div[name='fuel_card']");fuel_card_div.removeClass("hidden");},checkFormValidity(){let deprecatedAdvantages=false;const internet=$("input[name='internet_manual']").val()
const has_mobile=$("input[name='mobile_radio'][data-value='30.0']:checked").val()
if((internet!==''&&internet!=='0')||has_mobile==='on'){deprecatedAdvantages=true;$("button#hr_cs_submit").parent().append($('<div>',{class:'alert alert-danger fade show',text:'Internet/Mobile advantages have been removed in favor of higher representation fees. Please unselect those advantages',}));}
$(".alert").delay(4000).slideUp(200,function(){$(this).alert('close');});return!deprecatedAdvantages&&this._super.apply(this,arguments);},});});;

/* /l10n_be_hr_contract_salary_group_insurance/static/src/js/hr_contract_salary.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('l10n_be_hr_contract_salary_group_insurance',function(require){"use strict";const hrContractSalary=require('hr_contract_salary');hrContractSalary.include({events:_.extend({},hrContractSalary.prototype.events,{"change input[name='l10n_be_has_ambulatory_insurance_radio']":"onchangeAmbulatory",}),start:async function(){const res=await this._super(...arguments);this.onchangeAmbulatory();$("input[name='l10n_be_ambulatory_insured_children']").parent().addClass('d-none');$("input[name='l10n_be_ambulatory_insured_adults']").parent().addClass('d-none');$("input[name='l10n_be_ambulatory_insured_spouse']").parent().addClass('d-none');$("input[name='l10n_be_ambulatory_insured_children_manual']").before($('<strong>',{class:'mt8',text:'# Children < 19'}));$("input[name='l10n_be_ambulatory_insured_adults_manual']").before($('<strong>',{class:'mt8',text:'# Children >= 19'}));return res;},onchangeAmbulatory:function(){const hasInsurance=$("input[name='l10n_be_has_ambulatory_insurance_radio']:last").prop('checked');if(hasInsurance){$("label[for='l10n_be_ambulatory_insured_children']").parent().removeClass('d-none');$("label[for='l10n_be_ambulatory_insured_adults']").parent().removeClass('d-none');$("label[for='l10n_be_ambulatory_insured_spouse']").parent().removeClass('d-none');}else{$("input[name='fold_l10n_be_ambulatory_insured_spouse']").prop('checked',false);$("input[name='l10n_be_ambulatory_insured_children_manual']").val(0);$("input[name='l10n_be_ambulatory_insured_adults_manual']").val(0);$("label[for='l10n_be_ambulatory_insured_children']").parent().addClass('d-none');$("label[for='l10n_be_ambulatory_insured_adults']").parent().addClass('d-none');$("label[for='l10n_be_ambulatory_insured_spouse']").parent().addClass('d-none');}},});});;

/* /l10n_be_hr_payroll_canteen/static/src/js/hr_contract_salary.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('l10n_be_hr_payroll_canteen',function(require){"use strict";var SalaryPackageWidget=require("hr_contract_salary");var core=require('web.core');var qweb=core.qweb;SalaryPackageWidget.include({getAdvantages(){var res=this._super.apply(this,arguments);res.contract.l10n_be_canteen_cost=parseFloat($("input[name='l10n_be_canteen_cost']").val()||"0.0");return res},});});;

/* /website_jitsi/static/src/js/chat_room.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_jitsi.chat_room',function(require){'use strict';const config=require("web.config");const core=require('web.core');const Dialog=require('web.Dialog');const publicWidget=require('web.public.widget');const QWeb=core.qweb;const _t=core._t;publicWidget.registry.ChatRoom=publicWidget.Widget.extend({selector:'.o_wjitsi_room_widget',xmlDependencies:['/website_jitsi/static/src/xml/chat_room_modal.xml'],events:{'click .o_wjitsi_room_link':'_onChatRoomClick',},start:async function(){await this._super.apply(this,arguments);this.roomName=this.$el.data('room-name');this.chatRoomId=parseInt(this.$el.data('chat-room-id'));this.autoOpen=parseInt(this.$el.data('auto-open')||0);this.checkFull=0;this.attachTo=this.$el.data('attach-to')||false;this.defaultUsername=this.$el.data('default-username')||false;this.jitsiServer=this.$el.data('jitsi-server')||'meet.jit.si';this.maxCapacity=parseInt(this.$el.data('max-capacity'))||Infinity;if(this.autoOpen){await this._onChatRoomClick();}},_onChatRoomClick:async function(){if(this.checkFull){let isChatRoomFull=await this._rpc({route:'/jitsi/is_full',params:{room_name:this.roomName,},});if(isChatRoomFull){window.location.reload();return;}}
if(await this._openMobileApplication(this.roomName)){return;}
await this._loadJisti();if(this.attachTo){let $parentNode=$(this.attachTo);$parentNode.find("iframe").trigger("empty");$parentNode.empty();await this._joinJitsiRoom($parentNode);}else{let $jitsiModal=$(QWeb.render('chat_room_modal',{}));$("body").append($jitsiModal);$jitsiModal.modal('show');let jitsiRoom=await this._joinJitsiRoom($jitsiModal.find('.modal-body'));jitsiRoom.addEventListener('videoConferenceLeft',async()=>{$('.o_wjitsi_room_modal').modal('hide');});$jitsiModal.on('hidden.bs.modal',async()=>{jitsiRoom.dispose();$(".o_wjitsi_room_modal").remove();});}},_joinJitsiRoom:async function($parentNode){let jitsiRoom=await this._createJitsiRoom(this.roomName,$parentNode);if(this.defaultUsername){jitsiRoom.executeCommand("displayName",this.defaultUsername);}
let timeoutCall=null;const updateParticipantCount=(joined)=>{this.allParticipantIds=Object.keys(jitsiRoom._participants).sort();const timeoutTime=this.allParticipantIds.length>=this.maxCapacity?0:2000;clearTimeout(timeoutCall);timeoutCall=setTimeout(()=>{this.allParticipantIds=Object.keys(jitsiRoom._participants).sort();if(this.participantId===this.allParticipantIds[0]){this._updateParticipantCount(this.allParticipantIds.length,joined);}},timeoutTime);};jitsiRoom.addEventListener('participantJoined',()=>updateParticipantCount(true));jitsiRoom.addEventListener('participantLeft',()=>updateParticipantCount(false));jitsiRoom.addEventListener('videoConferenceJoined',async(event)=>{this.participantId=event.id;updateParticipantCount(true);$('.o_wjitsi_chat_room_loading').addClass('d-none');if(this.checkFull&&this.allParticipantIds.length>this.maxCapacity){clearTimeout(timeoutCall);jitsiRoom.executeCommand('hangup');window.location.reload();}});jitsiRoom.addEventListener('videoConferenceLeft',async(event)=>{this.allParticipantIds=Object.keys(jitsiRoom._participants)
if(!this.allParticipantIds.length){this._updateParticipantCount(this.allParticipantIds.length,false);}});return jitsiRoom;},_updateParticipantCount:async function(count,joined){await this._rpc({route:'/jitsi/update_status',params:{room_name:this.roomName,participant_count:count,joined:joined,},});},_openMobileApplication:async function(roomName){if(config.device.isMobile){window.location=`intent://${this.jitsiServer}/${roomName}#Intent;scheme=org.jitsi.meet;package=org.jitsi.meet;end`;return true;}
return false;},_createJitsiRoom:async function(roomName,$parentNode){await this._loadJisti();const options={roomName:roomName,width:"100%",height:"100%",parentNode:$parentNode[0],configOverwrite:{disableDeepLinking:true},};return new window.JitsiMeetExternalAPI(this.jitsiServer,options);},_loadJisti:async function(){if(!window.JitsiMeetExternalAPI){await $.ajax({url:`https://${this.jitsiServer}/external_api.js`,dataType:"script",});}},});return publicWidget.registry.ChatRoom;});;

/* /website_event_meet/static/src/js/customize_options.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_meet.set_customize_options',function(require){"use strict";let EventSpecificOptions=require('website_event.set_customize_options').EventSpecificOptions;EventSpecificOptions.include({xmlDependencies:(EventSpecificOptions.prototype.xmlDependencies||[]).concat(['/website_event_meet/static/src/xml/customize_options.xml',]),events:_.extend({},EventSpecificOptions.prototype.events,{'change #allow-room-creation':'_onAllowRoomCreationChange',}),start:function(){this.$allowRoomCreationInput=this.$('#allow-room-creation');this._super.apply(this,arguments);},_onAllowRoomCreationChange:function(){let checkboxValue=this.$allowRoomCreationInput.is(':checked');this._toggleAllowRoomCreation(checkboxValue);},_getCheckboxFields:function(){let fields=this._super();fields=_.union(fields,['meeting_room_allow_creation']);return fields;},_getCheckboxFieldMatch:function(checkboxField){if(checkboxField==='meeting_room_allow_creation'){return this.$allowRoomCreationInput;}
return this._super(checkboxField);},_initCheckboxCallback:function(rpcData){this._super(rpcData);if(rpcData[0]['meeting_room_allow_creation']){let submenuInput=this._getCheckboxFieldMatch('meeting_room_allow_creation');submenuInput.attr('checked','checked');}},_toggleAllowRoomCreation:async function(val){await this._rpc({model:this.modelName,method:'write',args:[[this.eventId],{meeting_room_allow_creation:val}],});location.reload();},});});;

/* /website_event_meet/static/src/js/website_event_meeting_room.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_meet.website_event_meet_meeting_room',function(require){'use strict';const publicWidget=require('web.public.widget');const core=require('web.core');const Dialog=require('web.Dialog');const _t=core._t;publicWidget.registry.websiteEventMeetingRoom=publicWidget.Widget.extend({selector:'.o_wevent_meeting_room_card',xmlDependencies:['/website_event_meet/static/src/xml/website_event_meeting_room.xml'],events:{'click .o_wevent_meeting_room_delete':'_onDeleteClick','click .o_wevent_meeting_room_duplicate':'_onDuplicateClick','click .o_wevent_meeting_room_is_pinned':'_onPinClick',},start:function(){this._super.apply(this,arguments);this.meetingRoomId=parseInt(this.$el.data('meeting-room-id'));},_onDeleteClick:async function(event){event.preventDefault();event.stopPropagation();Dialog.confirm(this,_t("Are you sure you want to close this room ?"),{confirm_callback:async()=>{await this._rpc({model:'event.meeting.room',method:'write',args:[this.meetingRoomId,{is_published:false}],context:this.context,});this.$el.remove();}},);},_onDuplicateClick:function(event){event.preventDefault();event.stopPropagation();Dialog.confirm(this,_t("Are you sure you want to duplicate this room ?"),{confirm_callback:async()=>{await this._rpc({model:'event.meeting.room',method:'copy',args:[this.meetingRoomId],context:this.context,});window.location.reload();}},);},_onPinClick:async function(event){event.preventDefault();event.stopPropagation();const pinnedButtonClass="o_wevent_meeting_room_pinned";const isPinned=event.currentTarget.classList.contains(pinnedButtonClass);await this._rpc({model:'event.meeting.room',method:'write',args:[this.meetingRoomId,{is_pinned:!isPinned}],context:this.context,});if(isPinned){event.currentTarget.classList.remove(pinnedButtonClass);}else{event.currentTarget.classList.add(pinnedButtonClass);}}});return publicWidget.registry.websiteEventMeetingRoom;});;

/* /website_event_meet/static/src/js/website_event_create_meeting_room_button.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_meet.website_event_create_room_button',function(require){'use strict';const publicWidget=require('web.public.widget');const core=require('web.core');const QWeb=core.qweb;publicWidget.registry.websiteEventCreateMeetingRoom=publicWidget.Widget.extend({selector:'.o_wevent_create_room_button',xmlDependencies:['/website_event_meet/static/src/xml/website_event_meeting_room.xml'],events:{'click':'_onClickCreate',},_onClickCreate:async function(){if(!this.$createModal){const langs=await this._rpc({route:"/event/active_langs",});this.$createModal=$(QWeb.render('event_meet_create_room_modal',{csrf_token:odoo.csrf_token,eventId:this.$el.data("eventId"),defaultLangCode:this.$el.data("defaultLangCode"),langs:langs,}));this.$createModal.appendTo(this.$el.parentNode);}
this.$createModal.modal('show');},destroy:function(){$('.o_wevent_create_meeting_room_modal').remove();this._super.apply(this,arguments);},});return publicWidget.registry.websiteEventMeetingRoom;});;

/* /odoo_website_event/static/src/js/create_meeting_modal.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('odoo_website_event.website_event_meet_meeting_room_modal',function(require){'use strict';const CreateRoom=require('website_event_meet.website_event_create_room_button');CreateRoom.prototype.xmlDependencies.push('/odoo_website_event/static/src/xml/meeting_room.xml');});;

/* /openerp_french_certification/static/src/js/french_certification.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('openerp_french_certification.french_certification',function(require){'use strict';var Widget=require('web.Widget');var rpc=require('web.rpc');require('web.dom_ready');if(!$('.french-certification-widget,.loading-screen').length){return $.Deferred().reject('".french-certification-widget,.loading-screen" not present in DOM');}
var FrenchCertificationWidget=Widget.extend({events:{"focusout #db_name, #contract_nb":"validate_form",},validate_form:function(e){if(e){e.preventDefault();}
var self=this;var contract_nb=(this.$('#contract_nb').val()||'').trim();var db_name=(this.$('#db_name').val()||'').trim();var $warning=this.$('.fr-warning-box');if(contract_nb&&db_name){rpc.query({route:"/odoo-enterprise/check-fr-contract",params:{contract_nb:contract_nb,db_name:db_name,}}).then(function(data){self.$('#username').removeAttr('disabled');self.$('#company_name').removeAttr('disabled');self.$(':submit').removeAttr('disabled');self.$("input[name='db_uuid']").val(data);$warning.addClass('d-none');},function(err,msg){$warning.find('.fr-warning').text(err.message.data.message);$warning.removeClass('d-none');self.$('#username').attr('disabled','disabled');self.$('#company_name').attr('disabled','disabled');self.$(':submit').attr('disabled','disabled');self.$("input[name='db_uuid']").val('');});}},start:function(){var self=this;this._super.apply(this,arguments).then(function(){self.validate_form();})},});var french_certification_widget=new FrenchCertificationWidget();french_certification_widget.attachTo($('.french-certification-widget'));});;

/* /payment_sepa_direct_debit/static/src/js/payment_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('payment_sepa_direct_debit.payment_form',require=>{'use strict';const core=require('web.core');const checkoutForm=require('payment.checkout_form');const manageForm=require('payment.manage_form');const sepaSignatureForm=require('payment_sepa_direct_debit.signature_form');const _t=core._t;const sepaDirectDebitMixin={_prepareInlineForm:function(provider,paymentOptionId,flow){if(provider!=='sepa_direct_debit'){return this._super(...arguments);}
if(flow==='token'){return Promise.resolve();}
this._setPaymentFlow('direct');this._resetSepaForm();return this._rpc({route:'/payment/sepa_direct_debit/form_configuration',params:{'acquirer_id':paymentOptionId,'partner_id':parseInt(this.txContext.partnerId),},}).then(formConfiguration=>{const sepaForm=document.getElementById(`o_sdd_form_${paymentOptionId}`);if(formConfiguration.partner_name&&formConfiguration.partner_email){sepaForm.querySelector('div[name="o_sdd_signature_config"]').setAttribute('data-name',formConfiguration.partner_name);sepaForm.querySelector('span[name="o_sdd_partner_email"]').innerText=formConfiguration.partner_email;}
if(formConfiguration.sms_verification_required){sepaForm.querySelectorAll('div[name="o_sdd_sms"]').forEach(el=>{el.querySelector('input').required=true;el.classList.remove('d-none');});sepaForm.querySelector('button[name="o_sms_button"]').addEventListener('click',()=>{this._sendVerificationSms(paymentOptionId,parseInt(this.txContext.partnerId));});}
if(formConfiguration.signature_required){this.sdd_signature_required=true;this._setupSignatureForm(sepaForm);}});},_processPayment:function(provider,paymentOptionId,flow){if(provider!=='sepa_direct_debit'||flow==='token'){return this._super(...arguments);}
const sepaForm=document.getElementById(`o_sdd_form_${paymentOptionId}`);const ibanInput=sepaForm.querySelector('input[name="iban"]');const phoneInput=sepaForm.querySelector('input[name="phone"]');const verificationCodeInput=sepaForm.querySelector('input[name="verification_code"]');const signerInput=sepaForm.querySelector('input[name="signer"]');if(!ibanInput.reportValidity()||!phoneInput.reportValidity()||!verificationCodeInput.reportValidity()||(this.sdd_signature_required&&signerInput&&!signerInput.reportValidity())){this._enableButton();return Promise.resolve();}
let signature=undefined;if(this.sdd_signature_required&&signerInput){const signValues=this.signatureWidget._getValues();if(signValues){signature=signValues.signature;}}
return this._rpc({route:'/payment/sepa_direct_debit/create_token',params:{'acquirer_id':paymentOptionId,'partner_id':parseInt(this.txContext.partnerId),'iban':ibanInput.value,'mandate_id':this.mandate_id,'phone':phoneInput.value,'verification_code':verificationCodeInput.value,'signer':this.sdd_signature_required&&signerInput?signerInput.value:undefined,'signature':signature,},}).then(tokenId=>{return this._processPayment(provider,tokenId,'token');}).guardedCatch((error)=>{error.event.preventDefault();this._displayError(_t("Server Error"),_t("We are not able to process your payment."),error.message.data.message,);});},_resetSepaForm:function(){this.mandate_id=undefined;if(this.signatureWidget){this.signatureWidget.destroy();}},_sendVerificationSms:function(acquirerId,partnerId){this._hideError();const sepaForm=document.getElementById(`o_sdd_form_${acquirerId}`);const ibanInput=sepaForm.querySelector('input[name="iban"]');const phoneInput=sepaForm.querySelector('input[name="phone"]');const verificationCodeInput=sepaForm.querySelector('input[name="verification_code"]');if(!ibanInput.reportValidity()||!phoneInput.reportValidity()){return Promise.resolve();}
const sendSmsButton=sepaForm.querySelector('button[name="o_sms_button"]');sendSmsButton.setAttribute('disabled',true);return this._rpc({route:'/payment/sepa_direct_debit/get_mandate',params:{'acquirer_id':acquirerId,'partner_id':partnerId,'iban':ibanInput.value,'phone':phoneInput.value,},}).then(mandateId=>{this.mandate_id=mandateId;return this._rpc({route:'/payment/sepa_direct_debit/send_verification_sms',params:{acquirer_id:acquirerId,mandate_id:mandateId,phone:phoneInput.value,}});}).then(()=>{verificationCodeInput.removeAttribute('readonly');sendSmsButton.innerText=_t("SMS Sent");sendSmsButton.classList.add('fa','fa-check');setTimeout(()=>{sendSmsButton.removeAttribute('disabled');sendSmsButton.innerText=_t('Re-send SMS');sendSmsButton.classList.remove('fa','fa-check');},15000);}).guardedCatch(error=>{error.event.preventDefault();sendSmsButton.removeAttribute('disabled');this._displayError(_t("Server Error"),_t("Could not send the verification code."),error.message.data.message);});},_setupSignatureForm:function(sepaForm){const signatureForm=sepaForm.querySelector('div[name="o_sdd_signature_form"]');signatureForm.querySelector('input').required=true;signatureForm.classList.remove('d-none');const signatureConfig=sepaForm.querySelectorAll('div[name="o_sdd_signature_config"]');this.signatureWidget=new sepaSignatureForm(this,{mode:'draw',nameAndSignatureOptions:signatureConfig[0].dataset});this.signatureWidget.insertAfter(signatureConfig);},};checkoutForm.include(sepaDirectDebitMixin);manageForm.include(sepaDirectDebitMixin);});;

/* /payment_sepa_direct_debit/static/src/js/signature_form.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('payment_sepa_direct_debit.signature_form',function(require){'use strict';var SignatureForm=require('portal.signature_form').SignatureForm;var NameAndSignature=require('web.name_and_signature').NameAndSignature;var publicWidget=require('web.public.widget');var SepaNameAndSignature=NameAndSignature.extend({template:'payment_sepa_direct_debit.sign_name_and_signature',xmlDependencies:['/web/static/src/legacy/xml/name_and_signature.xml','/payment_sepa_direct_debit/static/src/xml/signature_form.xml'],focusName:function(){return;},});var SepaSignatureForm=SignatureForm.extend({template:'payment_sepa_direct_debit.signature_form',xmlDependencies:['/web/static/src/legacy/xml/name_and_signature.xml','/payment_sepa_direct_debit/static/src/xml/signature_form.xml'],init:function(parent,options){this._super.apply(this,arguments);this.csrf_token=odoo.csrf_token;this.callUrl=options.callUrl||'';this.rpcParams=options.rpcParams||{};this.nameAndSignature=new SepaNameAndSignature(this,options.nameAndSignatureOptions||{});},start:function(){var self=this;var hasBeenReset=false;this.$el.closest('.modal').on('shown.bs.modal',function(){if(!hasBeenReset){hasBeenReset=true;self.nameAndSignature.resetSignature();}});return this._super.apply(this,arguments);},_getValues:function(){if(!this.nameAndSignature.validateSignature()){return;}
return{name:this.nameAndSignature.getName(),signature:this.nameAndSignature.getSignatureImage()[1]};},});return SepaSignatureForm;});;

/* /sale_planning/static/src/js/frontend/sale_planning_calendar_portal.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@sale_planning/js/frontend/sale_planning_calendar_portal',async function(require){'use strict';let __exports={};const PlanningView=require('planning.calendar_frontend');PlanningView.include({eventFunction:function(calEvent){this._super.apply(this,arguments);const $saleLine=$("#sale_line");if(calEvent.event.extendedProps.sale_line){$saleLine.text(calEvent.event.extendedProps.sale_line);$saleLine.css("display","");$saleLine.prev().css("display","");}else{$saleLine.css("display","none");$saleLine.prev().css("display","none");}},});return __exports;});;

/* /social_push_notifications/static/lib/firebase-app-6.3.4.js defined in bundle 'web.assets_frontend_lazy' */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).firebase=t()}(this,function(){"use strict";var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&(e[r]=d(e[r],t[r]));return e}var e,t,o,f=(o=Error,r(e=a,t=o),void(e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)),a);function i(){this.constructor=e}function a(e,t){var r=o.call(this,t)||this;return r.code=e,r.name="FirebaseError",Object.setPrototypeOf(r,a.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,s.prototype.create),r}var s=(c.prototype.create=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=t[0]||{},o=this.service+"/"+e,i=this.errors[e],a=i?function(e,n){return e.replace(h,function(e,t){var r=n[t];return null!=r?r.toString():"<"+t+"?>"})}(i,n):"Error",s=this.serviceName+": "+a+" ("+o+").",c=new f(o,s),p=0,l=Object.keys(n);p<l.length;p++){var u=l[p];"_"!==u.slice(-1)&&(u in c&&console.warn('Overwriting FirebaseError base field "'+u+'" can cause unexpected behavior.'),c[u]=n[u])}return c},c);function c(e,t,r){this.service=e,this.serviceName=t,this.errors=r}var h=/\{\$([^}]+)}/g;function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e,t){var r=new b(e,t);return r.subscribe.bind(r)}var l,u,b=(y.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},y.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},y.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},y.prototype.subscribe=function(e,t,r){var n,o=this;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");void 0===(n=function(e,t){if("object"!=typeof e||null===e)return!1;for(var r=0,n=t;r<n.length;r++){var o=n[r];if(o in e&&"function"==typeof e[o])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r}).next&&(n.next=g),void 0===n.error&&(n.error=g),void 0===n.complete&&(n.complete=g);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?n.error(o.finalError):n.complete()}catch(e){}}),this.observers.push(n),i},y.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},y.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},y.prototype.sendOne=function(e,t){var r=this;this.task.then(function(){if(void 0!==r.observers&&void 0!==r.observers[e])try{t(r.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},y.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},y);function y(e,t){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(r)}).catch(function(e){r.error(e)})}function g(){}(u=l=l||{})[u.DEBUG=0]="DEBUG",u[u.VERBOSE=1]="VERBOSE",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.SILENT=5]="SILENT";function m(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case l.DEBUG:case l.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case l.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case l.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;case l.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(r));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}}var _,E=l.INFO,N=(Object.defineProperty(O.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in l))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),O.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,l.DEBUG].concat(e))},O.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,l.VERBOSE].concat(e))},O.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,l.INFO].concat(e))},O.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,l.WARN].concat(e))},O.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,l.ERROR].concat(e))},O);function O(e){this.name=e,this._logLevel=E,this._logHandler=m}var w=((_={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",_["bad-app-name"]="Illegal App name: '{$appName}",_["duplicate-app"]="Firebase App named '{$appName}' already exists",_["app-deleted"]="Firebase App named '{$appName}' already deleted",_["duplicate-service"]="Firebase service named '{$appName}' already registered",_["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",_),A=new s("app","Firebase",w),k="[DEFAULT]",R=[],I=(Object.defineProperty(T.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),T.prototype.delete=function(){var s=this;return new Promise(function(e){s.checkDestroyed_(),e()}).then(function(){s.firebase_.INTERNAL.removeApp(s.name_);for(var e=[],t=0,r=Object.keys(s.services_);t<r.length;t++)for(var n=r[t],o=0,i=Object.keys(s.services_[n]);o<i.length;o++){var a=i[o];e.push(s.services_[n][a])}return Promise.all(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))}).then(function(){s.isDeleted_=!0,s.services_={}})},T.prototype._getService=function(e,t){if(void 0===t&&(t=k),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var r=t!==k?t:void 0,n=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),r);this.services_[e][t]=n}return this.services_[e][t]},T.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=k),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},T.prototype.extendApp=function(e){var t=this;d(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(R.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),R=[])},T.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw A.create("app-deleted",{appName:this.name_})},T);function T(e,t,r){this.firebase_=r,this.isDeleted_=!1,this.services_={},this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=function(e){return d(void 0,e)}(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){R.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(t){R=R.filter(function(e){return e!==t})}}}I.prototype.name&&I.prototype.options||I.prototype.delete||console.log("dc");var j="6.3.4";var F=new N("@firebase/app");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){F.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var D=self.firebase.SDK_VERSION;D&&0<=D.indexOf("LITE")&&F.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var L=function e(){var t=function(a){var i={},s={},c={},p={__esModule:!0,initializeApp:function(e,t){void 0===t&&(t={}),"object"==typeof t&&null!==t||(t={name:t});var r=t;void 0===r.name&&(r.name=k);var n=r.name;if("string"!=typeof n||!n)throw A.create("bad-app-name",{appName:String(n)});if(v(i,n))throw A.create("duplicate-app",{appName:n});var o=new a(e,r,p);return f(i[n]=o,"create"),o},app:l,apps:null,SDK_VERSION:j,INTERNAL:{registerService:function(r,e,t,n,o){if(void 0===o&&(o=!1),s[r])throw A.create("duplicate-service",{appName:r});function i(e){if(void 0===e&&(e=l()),"function"!=typeof e[r])throw A.create("invalid-app-argument",{appName:r});return e[r]()}return s[r]=e,n&&(c[r]=n,u().forEach(function(e){n("create",e)})),void 0!==t&&d(i,t),p[r]=i,a.prototype[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,r).apply(this,o?e:[])},i},removeApp:function(e){f(i[e],"delete"),delete i[e]},factories:s,useAsService:h}};function l(e){if(!v(i,e=e||k))throw A.create("no-app",{appName:e});return i[e]}function u(){return Object.keys(i).map(function(e){return i[e]})}function f(e,t){for(var r=0,n=Object.keys(s);r<n.length;r++){var o=h(0,n[r]);if(null===o)return;c[o]&&c[o](t,e)}}function h(e,t){return"serverAuth"===t?null:t}return p.default=p,Object.defineProperty(p,"apps",{get:u}),l.App=a,p}(I);return t.INTERNAL=n({},t.INTERNAL,{createFirebaseNamespace:e,extendNamespace:function(e){d(t,e)},createSubscribe:p,ErrorFactory:s,deepExtend:d}),t}(),S=L.initializeApp;return L.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}()&&F.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),S.apply(void 0,e)},L});;

/* /social_push_notifications/static/lib/firebase-messaging-6.3.4.js defined in bundle 'web.assets_frontend_lazy' */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],t):t((e=e||self).firebase)}(this,function(re){"use strict";try{(function(){re=re&&re.hasOwnProperty("default")?re.default:re;var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function e(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function b(i,s,a,c){return new(a=a||Promise)(function(e,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new a(function(e){e(t.value)}).then(n,r)}o((c=c.apply(i,s||[])).next())})}function v(n,r){var o,i,s,e,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(s=2&t[0]?i.return:t[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,t[1])).done)return s;switch(i=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],i=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function n(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}var o,h=(e(s,o=Error),s);function s(e,t){var n=o.call(this,t)||this;return n.code=e,n.name="FirebaseError",Object.setPrototypeOf(n,s.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,a.prototype.create),n}var a=(t.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},o=this.service+"/"+e,i=this.errors[e],s=i?function(e,r){return e.replace(l,function(e,t){var n=r[t];return null!=n?n.toString():"<"+t+"?>"})}(i,r):"Error",a=this.serviceName+": "+s+" ("+o+").",c=new h(o,a),u=0,d=Object.keys(r);u<d.length;u++){var f=d[u];"_"!==f.slice(-1)&&(f in c&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),c[f]=r[f])}return c},t);function t(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var l=/\{\$([^}]+)}/g;function c(e,t){var n=new d(e,t);return n.subscribe.bind(n)}var u,d=(f.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},f.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},f.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},f.prototype.subscribe=function(e,t,n){var r,o=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&"function"==typeof e[o])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=p),void 0===r.error&&(r.error=p),void 0===r.complete&&(r.complete=p);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(e){}}),this.observers.push(r),i},f.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},f.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},f.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},f.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},f);function f(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}function p(){}var g,y,w,m,k=((u={})["only-available-in-window"]="This method is available in a Window context.",u["only-available-in-sw"]="This method is available in a service worker context.",u["should-be-overriden"]="This method should be overriden by extended classes.",u["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",u["permission-default"]="The required permissions were not granted and dismissed instead.",u["permission-blocked"]="The required permissions were not granted and blocked instead.",u["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",u["notifications-blocked"]="Notifications have been blocked.",u["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",u["sw-registration-expected"]="A service worker registration was the expected input.",u["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",u["invalid-saved-token"]="Unable to access details of the saved token.",u["sw-reg-redundant"]="The service worker being used for push was made redundant.",u["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",u["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",u["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",u["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",u["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",u["token-update-no-token"]="FCM returned no token when updating the user to push.",u["use-sw-before-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",u["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",u["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",u["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",u["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",u["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",u["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$errorInfo}",u["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",u["failed-to-delete-token"]="Unable to delete the currently saved token.",u["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",u["incorrect-gcm-sender-id"]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",u["bad-scope"]="The service worker scope must be a string with at least one character.",u["bad-vapid-key"]="The public VAPID key is not a Uint8Array with 65 bytes.",u["bad-subscription"]="The subscription must be a valid PushSubscription.",u["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",u["bad-push-set"]="The FCM push set used for storage / lookup was not not a valid push set string.",u["failed-delete-vapid-key"]="The VAPID key could not be deleted.",u["invalid-public-vapid-key"]="The public VAPID key must be a string.",u["use-public-key-before-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",u["public-vapid-key-decryption-failed"]="The public VAPID key did not equal 65 bytes when decrypted.",u),T=new a("messaging","Messaging",k),S=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),_="https://fcm.googleapis.com";function P(e,t){if(null==e||null==t)return!1;if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e),r=new DataView(t),o=0;o<e.byteLength;o++)if(n.getUint8(o)!==r.getUint8(o))return!1;return!0}function M(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e}(t)))}function D(e){return M(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(y=g=g||{}).TYPE_OF_MSG="firebase-messaging-msg-type",y.DATA="firebase-messaging-msg-data",(m=w=w||{}).PUSH_MSG_RECEIVED="push-msg-received",m.NOTIFICATION_CLICKED="notification-clicked";var I=(C.prototype.getToken=function(d,f,h){return b(this,void 0,void 0,function(){var t,n,r,o,i,s,a,c,u;return v(this,function(e){switch(e.label){case 0:t=D(f.getKey("p256dh")),n=D(f.getKey("auth")),r="authorized_entity="+d+"&endpoint="+f.endpoint+"&encryption_key="+t+"&encryption_auth="+n,P(h.buffer,S.buffer)||(o=D(h),r+="&application_pub_key="+o),(i=new Headers).append("Content-Type","application/x-www-form-urlencoded"),s={method:"POST",headers:i,body:r},e.label=1;case 1:return e.trys.push([1,4,,5]),[4,fetch(_+"/fcm/connect/subscribe",s)];case 2:return[4,e.sent().json()];case 3:return a=e.sent(),[3,5];case 4:throw c=e.sent(),T.create("token-subscribe-failed",{errorInfo:c});case 5:if(a.error)throw u=a.error.message,T.create("token-subscribe-failed",{errorInfo:u});if(!a.token)throw T.create("token-subscribe-no-token");if(!a.pushSet)throw T.create("token-subscribe-no-push-set");return[2,{token:a.token,pushSet:a.pushSet}]}})})},C.prototype.updateToken=function(d,f,h,l,p){return b(this,void 0,void 0,function(){var t,n,r,o,i,s,a,c,u;return v(this,function(e){switch(e.label){case 0:t=D(l.getKey("p256dh")),n=D(l.getKey("auth")),r="push_set="+h+"&token="+f+"&authorized_entity="+d+"&endpoint="+l.endpoint+"&encryption_key="+t+"&encryption_auth="+n,P(p.buffer,S.buffer)||(o=D(p),r+="&application_pub_key="+o),(i=new Headers).append("Content-Type","application/x-www-form-urlencoded"),s={method:"POST",headers:i,body:r},e.label=1;case 1:return e.trys.push([1,4,,5]),[4,fetch(_+"/fcm/connect/subscribe",s)];case 2:return[4,e.sent().json()];case 3:return a=e.sent(),[3,5];case 4:throw c=e.sent(),T.create("token-update-failed",{errorInfo:c});case 5:if(a.error)throw u=a.error.message,T.create("token-update-failed",{errorInfo:u});if(!a.token)throw T.create("token-update-no-token");return[2,a.token]}})})},C.prototype.deleteToken=function(a,c,u){return b(this,void 0,void 0,function(){var t,n,r,o,i,s;return v(this,function(e){switch(e.label){case 0:t="authorized_entity="+a+"&token="+c+"&pushSet="+u,(n=new Headers).append("Content-Type","application/x-www-form-urlencoded"),r={method:"POST",headers:n,body:t},e.label=1;case 1:return e.trys.push([1,4,,5]),[4,fetch(_+"/fcm/connect/unsubscribe",r)];case 2:return[4,e.sent().json()];case 3:if((o=e.sent()).error)throw i=o.error.message,T.create("token-unsubscribe-failed",{errorInfo:i});return[3,5];case 4:throw s=e.sent(),T.create("token-unsubscribe-failed",{errorInfo:s});case 5:return[2]}})})},C);function C(){}function O(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}var N="undefined",E="fcm_token_object_Store";function x(){var t=indexedDB.open(N);t.onerror=function(e){},t.onsuccess=function(e){!function(n){if(n.objectStoreNames.contains(E)){var e=n.transaction(E).objectStore(E),r=new I,o=e.openCursor();o.onerror=function(e){console.warn("Unable to cleanup old IDB.",e)},o.onsuccess=function(){var e=o.result;if(e){var t=e.value;r.deleteToken(t.fcmSenderId,t.fcmToken,t.fcmPushSet),e.continue()}else n.close(),indexedDB.deleteDatabase(N)}}}(t.result)}}var K=(A.prototype.get=function(t){return this.createTransaction(function(e){return e.get(t)})},A.prototype.getIndex=function(t,n){return this.createTransaction(function(e){return e.index(t).get(n)})},A.prototype.put=function(t){return this.createTransaction(function(e){return e.put(t)},"readwrite")},A.prototype.delete=function(t){return this.createTransaction(function(e){return e.delete(t)},"readwrite")},A.prototype.closeDatabase=function(){return b(this,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:e.sent().close(),this.dbPromise=null,e.label=2;case 2:return[2]}})})},A.prototype.createTransaction=function(i,s){return void 0===s&&(s="readonly"),b(this,void 0,void 0,function(){var t,n,r,o;return v(this,function(e){switch(e.label){case 0:return[4,this.getDb()];case 1:return t=e.sent(),n=t.transaction(this.objectStoreName,s),r=n.objectStore(this.objectStoreName),[4,function(n){return new Promise(function(e,t){n.onsuccess=function(){e(n.result)},n.onerror=function(){t(n.error)}})}(i(r))];case 2:return o=e.sent(),[2,new Promise(function(e,t){n.oncomplete=function(){e(o)},n.onerror=function(){t(n.error)}})]}})})},A.prototype.getDb=function(){var r=this;return this.dbPromise||(this.dbPromise=new Promise(function(e,t){var n=indexedDB.open(r.dbName,r.dbVersion);n.onsuccess=function(){e(n.result)},n.onerror=function(){r.dbPromise=null,t(n.error)},n.onupgradeneeded=function(e){return r.onDbUpgrade(n,e)}})),this.dbPromise},A);function A(){this.dbPromise=null}var V,F=(e(W,V=K),W.prototype.onDbUpgrade=function(e,t){var n=e.result;switch(t.oldVersion){case 0:(r=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),r.createIndex("fcmToken","fcmToken",{unique:!0});case 1:x();case 2:var r,o=(r=e.transaction.objectStore(this.objectStoreName)).openCursor();o.onsuccess=function(){var e=o.result;if(e){var t=e.value,n=i({},t);t.createTime||(n.createTime=Date.now()),"string"==typeof t.vapidKey&&(n.vapidKey=O(t.vapidKey)),"string"==typeof t.auth&&(n.auth=O(t.auth).buffer),"string"==typeof t.auth&&(n.p256dh=O(t.p256dh).buffer),e.update(n),e.continue()}}}},W.prototype.getTokenDetailsFromToken=function(t){return b(this,void 0,void 0,function(){return v(this,function(e){if(!t)throw T.create("bad-token");return U({fcmToken:t}),[2,this.getIndex("fcmToken",t)]})})},W.prototype.getTokenDetailsFromSWScope=function(t){return b(this,void 0,void 0,function(){return v(this,function(e){if(!t)throw T.create("bad-scope");return U({swScope:t}),[2,this.get(t)]})})},W.prototype.saveTokenDetails=function(t){return b(this,void 0,void 0,function(){return v(this,function(e){if(!t.swScope)throw T.create("bad-scope");if(!t.vapidKey)throw T.create("bad-vapid-key");if(!t.endpoint||!t.auth||!t.p256dh)throw T.create("bad-subscription");if(!t.fcmSenderId)throw T.create("bad-sender-id");if(!t.fcmToken)throw T.create("bad-token");if(!t.fcmPushSet)throw T.create("bad-push-set");return U(t),[2,this.put(t)]})})},W.prototype.deleteToken=function(n){return b(this,void 0,void 0,function(){var t;return v(this,function(e){switch(e.label){case 0:return"string"!=typeof n||0===n.length?[2,Promise.reject(T.create("invalid-delete-token"))]:[4,this.getTokenDetailsFromToken(n)];case 1:if(!(t=e.sent()))throw T.create("delete-token-not-found");return[4,this.delete(t.swScope)];case 2:return e.sent(),[2,t]}})})},W);function W(){var e=null!==V&&V.apply(this,arguments)||this;return e.dbName="fcm_token_details_db",e.dbVersion=3,e.objectStoreName="fcm_token_object_Store",e}function U(e){if(e.fcmToken&&("string"!=typeof e.fcmToken||0===e.fcmToken.length))throw T.create("bad-token");if(e.swScope&&("string"!=typeof e.swScope||0===e.swScope.length))throw T.create("bad-scope");if(e.vapidKey&&(!(e.vapidKey instanceof Uint8Array)||65!==e.vapidKey.length))throw T.create("bad-vapid-key");if(e.endpoint&&("string"!=typeof e.endpoint||0===e.endpoint.length))throw T.create("bad-subscription");if(e.auth&&!(e.auth instanceof ArrayBuffer))throw T.create("bad-subscription");if(e.p256dh&&!(e.p256dh instanceof ArrayBuffer))throw T.create("bad-subscription");if(e.fcmSenderId&&("string"!=typeof e.fcmSenderId||0===e.fcmSenderId.length))throw T.create("bad-sender-id");if(e.fcmPushSet&&("string"!=typeof e.fcmPushSet||0===e.fcmPushSet.length))throw T.create("bad-push-set")}var j,R=(e(L,j=K),L.prototype.onDbUpgrade=function(e){e.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},L.prototype.getVapidFromSWScope=function(n){return b(this,void 0,void 0,function(){var t;return v(this,function(e){switch(e.label){case 0:if("string"!=typeof n||0===n.length)throw T.create("bad-scope");return[4,this.get(n)];case 1:return[2,(t=e.sent())?t.vapidKey:void 0]}})})},L.prototype.saveVapidDetails=function(n,r){return b(this,void 0,void 0,function(){var t;return v(this,function(e){if("string"!=typeof n||0===n.length)throw T.create("bad-scope");if(null===r||65!==r.length)throw T.create("bad-vapid-key");return t={swScope:n,vapidKey:r},[2,this.put(t)]})})},L.prototype.deleteVapidDetails=function(n){return b(this,void 0,void 0,function(){var t;return v(this,function(e){switch(e.label){case 0:return[4,this.getVapidFromSWScope(n)];case 1:if(!(t=e.sent()))throw T.create("delete-scope-not-found");return[4,this.delete(n)];case 2:return e.sent(),[2,t]}})})},L);function L(){var e=null!==j&&j.apply(this,arguments)||this;return e.dbName="fcm_vapid_details_db",e.dbVersion=1,e.objectStoreName="fcm_vapid_object_Store",e}var H="messagingSenderId",B=(q.prototype.getToken=function(){return b(this,void 0,void 0,function(){var t,n,r,o,i;return v(this,function(e){switch(e.label){case 0:if("denied"===(t=this.getNotificationPermission_()))throw T.create("notifications-blocked");return"granted"!==t?[2,null]:[4,this.getSWRegistration_()];case 1:return n=e.sent(),[4,this.getPublicVapidKey_()];case 2:return r=e.sent(),[4,this.getPushSubscription(n,r)];case 3:return o=e.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(n.scope)];case 4:return(i=e.sent())?[2,this.manageExistingToken(n,o,r,i)]:[2,this.getNewToken(n,o,r)]}})})},q.prototype.manageExistingToken=function(t,n,r,o){return b(this,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return function(e,t,n){if(!n.vapidKey||!P(t.buffer,n.vapidKey.buffer))return!1;var r=e.endpoint===n.endpoint,o=P(e.getKey("auth"),n.auth),i=P(e.getKey("p256dh"),n.p256dh);return r&&o&&i}(n,r,o)?Date.now()<o.createTime+6048e5?[2,o.fcmToken]:[2,this.updateToken(t,n,r,o)]:[4,this.deleteTokenFromDB(o.fcmToken)];case 1:return e.sent(),[2,this.getNewToken(t,n,r)]}})})},q.prototype.updateToken=function(o,i,s,a){return b(this,void 0,void 0,function(){var t,n,r;return v(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,a.fcmToken,a.fcmPushSet,i,s)];case 1:return t=e.sent(),n={swScope:o.scope,vapidKey:s,fcmSenderId:this.messagingSenderId,fcmToken:t,fcmPushSet:a.fcmPushSet,createTime:Date.now(),endpoint:i.endpoint,auth:i.getKey("auth"),p256dh:i.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(n)];case 2:return e.sent(),[4,this.vapidDetailsModel.saveVapidDetails(o.scope,s)];case 3:return e.sent(),[2,t];case 4:return r=e.sent(),[4,this.deleteToken(a.fcmToken)];case 5:throw e.sent(),r;case 6:return[2]}})})},q.prototype.getNewToken=function(r,o,i){return b(this,void 0,void 0,function(){var t,n;return v(this,function(e){switch(e.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,o,i)];case 1:return t=e.sent(),n={swScope:r.scope,vapidKey:i,fcmSenderId:this.messagingSenderId,fcmToken:t.token,fcmPushSet:t.pushSet,createTime:Date.now(),endpoint:o.endpoint,auth:o.getKey("auth"),p256dh:o.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(n)];case 2:return e.sent(),[4,this.vapidDetailsModel.saveVapidDetails(r.scope,i)];case 3:return e.sent(),[2,t.token]}})})},q.prototype.deleteToken=function(r){return b(this,void 0,void 0,function(){var t,n;return v(this,function(e){switch(e.label){case 0:return[4,this.deleteTokenFromDB(r)];case 1:return e.sent(),[4,this.getSWRegistration_()];case 2:return(t=e.sent())?[4,t.pushManager.getSubscription()]:[3,4];case 3:if(n=e.sent())return[2,n.unsubscribe()];e.label=4;case 4:return[2,!0]}})})},q.prototype.deleteTokenFromDB=function(n){return b(this,void 0,void 0,function(){var t;return v(this,function(e){switch(e.label){case 0:return[4,this.tokenDetailsModel.deleteToken(n)];case 1:return t=e.sent(),[4,this.iidModel.deleteToken(t.fcmSenderId,t.fcmToken,t.fcmPushSet)];case 2:return e.sent(),[2]}})})},q.prototype.getPushSubscription=function(t,n){return t.pushManager.getSubscription().then(function(e){return e||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n})})},q.prototype.requestPermission=function(){throw T.create("only-available-in-window")},q.prototype.useServiceWorker=function(e){throw T.create("only-available-in-window")},q.prototype.usePublicVapidKey=function(e){throw T.create("only-available-in-window")},q.prototype.onMessage=function(e,t,n){throw T.create("only-available-in-window")},q.prototype.onTokenRefresh=function(e,t,n){throw T.create("only-available-in-window")},q.prototype.setBackgroundMessageHandler=function(e){throw T.create("only-available-in-sw")},q.prototype.delete=function(){return b(this,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return e.sent(),[2]}})})},q.prototype.getNotificationPermission_=function(){return Notification.permission},q.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},q.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},q.prototype.getIidModel=function(){return this.iidModel},q);function q(e){var t=this;if(!e.options[H]||"string"!=typeof e.options[H])throw T.create("bad-sender-id");this.messagingSenderId=e.options[H],this.tokenDetailsModel=new F,this.vapidDetailsModel=new R,this.iidModel=new I,this.app=e,this.INTERNAL={delete:function(){return t.delete()}}}var G,z="FCM_MSG",$=(e(Y,G=B),Y.prototype.onPush=function(e){e.waitUntil(this.onPush_(e))},Y.prototype.onSubChange=function(e){e.waitUntil(this.onSubChange_(e))},Y.prototype.onNotificationClick=function(e){e.waitUntil(this.onNotificationClick_(e))},Y.prototype.onPush_=function(a){return b(this,void 0,void 0,function(){var t,n,r,o,i,s;return v(this,function(e){switch(e.label){case 0:if(!a.data)return[2];try{t=a.data.json()}catch(e){return[2]}return[4,this.hasVisibleClients_()];case 1:return e.sent()?[2,this.sendMessageToWindowClients_(t)]:(n=this.getNotificationData_(t))?(r=n.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return o=e.sent(),i=n.actions,s=Notification.maxActions,i&&s&&i.length>s&&console.warn("This browser only supports "+s+" actions.The remaining actions will not be displayed."),[2,o.showNotification(r,n)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(t)]:[3,5];case 4:return e.sent(),[2];case 5:return[2]}})})},Y.prototype.onSubChange_=function(e){return b(this,void 0,void 0,function(){var t,n,r,o;return v(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return t=e.sent(),[3,3];case 2:throw n=e.sent(),T.create("unable-to-resubscribe",{errorInfo:n});case 3:return e.trys.push([3,5,,8]),[4,t.pushManager.getSubscription()];case 4:return e.sent(),[3,8];case 5:return r=e.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(t.scope)];case 6:if(!(o=e.sent()))throw r;return[4,this.deleteToken(o.fcmToken)];case 7:throw e.sent(),r;case 8:return[2]}})})},Y.prototype.onNotificationClick_=function(i){return b(this,void 0,void 0,function(){var t,n,r,o;return v(this,function(e){switch(e.label){case 0:return i.notification&&i.notification.data&&i.notification.data[z]?i.action?[2]:(i.stopImmediatePropagation(),i.notification.close(),(t=i.notification.data[z]).notification&&(n=t.fcmOptions&&t.fcmOptions.link||t.notification.click_action)?[4,this.getWindowClient_(n)]:[2]):[2];case 1:return(r=e.sent())?[3,3]:[4,self.clients.openWindow(n)];case 2:return r=e.sent(),[3,5];case 3:return[4,r.focus()];case 4:r=e.sent(),e.label=5;case 5:return r?(delete t.notification,delete t.fcmOptions,o=Q(w.NOTIFICATION_CLICKED,t),[2,this.attemptToMessageClient_(r,o)]):[2]}})})},Y.prototype.getNotificationData_=function(e){var t;if(e&&"object"==typeof e.notification){var n=i({},e.notification);return n.data=i({},e.notification.data,((t={})[z]=e,t)),n}},Y.prototype.setBackgroundMessageHandler=function(e){if(!e||"function"!=typeof e)throw T.create("bg-handler-function-expected");this.bgMessageHandler=e},Y.prototype.getWindowClient_=function(i){return b(this,void 0,void 0,function(){var t,n,r,o;return v(this,function(e){switch(e.label){case 0:return t=new URL(i,self.location.href).href,[4,J()];case 1:for(n=e.sent(),r=null,o=0;o<n.length;o++)if(new URL(n[o].url,self.location.href).href===t){r=n[o];break}return[2,r]}})})},Y.prototype.attemptToMessageClient_=function(t,n){return b(this,void 0,void 0,function(){return v(this,function(e){if(!t)throw T.create("no-window-client-to-msg");return t.postMessage(n),[2]})})},Y.prototype.hasVisibleClients_=function(){return b(this,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return[4,J()];case 1:return[2,e.sent().some(function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")})]}})})},Y.prototype.sendMessageToWindowClients_=function(o){return b(this,void 0,void 0,function(){var t,n,r=this;return v(this,function(e){switch(e.label){case 0:return[4,J()];case 1:return t=e.sent(),n=Q(w.PUSH_MSG_RECEIVED,o),[4,Promise.all(t.map(function(e){return r.attemptToMessageClient_(e,n)}))];case 2:return e.sent(),[2]}})})},Y.prototype.getSWRegistration_=function(){return b(this,void 0,void 0,function(){return v(this,function(e){return[2,self.registration]})})},Y.prototype.getPublicVapidKey_=function(){return b(this,void 0,void 0,function(){var t,n;return v(this,function(e){switch(e.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(t=e.sent()))throw T.create("sw-registration-expected");return[4,this.getVapidDetailsModel().getVapidFromSWScope(t.scope)];case 2:return null==(n=e.sent())?[2,S]:[2,n]}})})},Y);function Y(e){var t=G.call(this,e)||this;return t.bgMessageHandler=null,self.addEventListener("push",function(e){t.onPush(e)}),self.addEventListener("pushsubscriptionchange",function(e){t.onSubChange(e)}),self.addEventListener("notificationclick",function(e){t.onNotificationClick(e)}),t}function J(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Q(e,t){var n;return(n={})[g.TYPE_OF_MSG]=e,n[g.DATA]=t,n}var X,Z,ee=(e(te,X=B),te.prototype.getToken=function(){return b(this,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return this.manifestCheckPromise||(this.manifestCheckPromise=function(){return b(this,void 0,void 0,function(){var t,n;return v(this,function(e){switch(e.label){case 0:if(!(t=document.querySelector('link[rel="manifest"]')))return[2];e.label=1;case 1:return e.trys.push([1,4,,5]),[4,fetch(t.href)];case 2:return[4,e.sent().json()];case 3:return n=e.sent(),[3,5];case 4:return e.sent(),[2];case 5:if(!n||!n.gcm_sender_id)return[2];if("103953800507"!==n.gcm_sender_id)throw T.create("incorrect-gcm-sender-id");return[2]}})})}()),[4,this.manifestCheckPromise];case 1:return e.sent(),[2,X.prototype.getToken.call(this)]}})})},te.prototype.requestPermission=function(){return b(this,void 0,void 0,function(){var t;return v(this,function(e){switch(e.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?T.create("permission-blocked"):T.create("permission-default")}})})},te.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw T.create("sw-registration-expected");if(null!=this.registrationToUse)throw T.create("use-sw-before-get-token");this.registrationToUse=e},te.prototype.usePublicVapidKey=function(e){if("string"!=typeof e)throw T.create("invalid-public-vapid-key");if(null!=this.publicVapidKeyToUse)throw T.create("use-public-key-before-get-token");var t=O(e);if(65!==t.length)throw T.create("public-vapid-key-decryption-failed");this.publicVapidKeyToUse=t},te.prototype.onMessage=function(e,t,n){return"function"==typeof e?this.onMessageInternal(e,t,n):this.onMessageInternal(e)},te.prototype.onTokenRefresh=function(e,t,n){return"function"==typeof e?this.onTokenRefreshInternal(e,t,n):this.onTokenRefreshInternal(e)},te.prototype.waitForRegistrationToActivate_=function(r){var o=r.installing||r.waiting||r.active;return new Promise(function(e,t){if(o)if("activated"!==o.state)if("redundant"!==o.state){var n=function(){if("activated"===o.state)e(r);else{if("redundant"!==o.state)return;t(T.create("sw-reg-redundant"))}o.removeEventListener("statechange",n)};o.addEventListener("statechange",n)}else t(T.create("sw-reg-redundant"));else e(r);else t(T.create("no-sw-in-reg"))})},te.prototype.getSWRegistration_=function(){var t=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(e){throw T.create("failed-serviceworker-registration",{browserErrorMessage:e.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return(t.registrationToUse=e).update(),e})}))},te.prototype.getPublicVapidKey_=function(){return b(this,void 0,void 0,function(){return v(this,function(e){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,S]})})},te.prototype.setupSWMessageListener_=function(){var r=this;navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[g.TYPE_OF_MSG]){var t=e.data;switch(t[g.TYPE_OF_MSG]){case w.PUSH_MSG_RECEIVED:case w.NOTIFICATION_CLICKED:var n=t[g.DATA];r.messageObserver&&r.messageObserver.next(n)}}},!1)},te);function te(e){var t=X.call(this,e)||this;return t.registrationToUse=null,t.publicVapidKeyToUse=null,t.manifestCheckPromise=null,t.messageObserver=null,t.tokenRefreshObserver=null,t.onMessageInternal=c(function(e){t.messageObserver=e}),t.onTokenRefreshInternal=c(function(e){t.tokenRefreshObserver=e}),t.setupSWMessageListener_(),t}function ne(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Z={isSupported:ne},re.INTERNAL.registerService("messaging",function(e){if(!ne())throw T.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new $(e):new ee(e)},Z)}).apply(this,arguments)}catch(e){throw console.error(e),new Error("Cannot instantiate firebase-messaging - be sure to load firebase-app.js first.")}});;

/* /social_push_notifications/static/src/js/push_notification_request_popup.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('social_push_notifications.NotificationRequestPopup',function(require){"use strict";var Widget=require('web.Widget');var NotificationRequestPopup=Widget.extend({template:'social_push_notifications.NotificationRequestPopup',xmlDependencies:['/social_push_notifications/static/src/xml/social_push_notifications_templates.xml'],events:{'click .o_social_push_notifications_permission_allow':'_onClickAllow','click .o_social_push_notifications_permission_deny':'_onClickDeny'},init:function(parent,options){this._super.apply(this,arguments);this.notificationTitle=options.title;this.notificationBody=options.body;this.notificationDelay=options.delay;this.notificationIcon=options.icon;},start:function(){var self=this;return this._super.apply().then(function(){var $mainNavBar=$('#oe_main_menu_navbar');if($mainNavBar&&$mainNavBar.length!==0){self.$el.addClass('o_social_push_notifications_permission_with_menubar');}
self.timer=setTimeout(self._toggleDropdown.bind(self),self.notificationDelay*1000);const dropdown=self.$el.find('.dropdown');dropdown.on('hide.bs.dropdown',()=>{self.destroy();});});},destroy:function(){this._super(...arguments);if(this.timer){clearTimeout(this.timer);}},_onClickAllow:function(){this.trigger_up('allow');},_onClickDeny:function(){this.trigger_up('deny');},_toggleDropdown:function(){this.$('.dropdown-toggle').dropdown('toggle');}});return NotificationRequestPopup;});;

/* /social_push_notifications/static/src/js/push_notification_widget.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('social_push_notifications.NotificationManager',function(require){"use strict";var core=require('web.core');var publicWidget=require('web.public.widget');var utils=require('web.utils');var localStorage=require('web.local_storage');var NotificationRequestPopup=require('social_push_notifications.NotificationRequestPopup');publicWidget.registry.NotificationWidget=publicWidget.Widget.extend({selector:'#wrapwrap',start:function(){var self=this;var superPromise=this._super.apply(this,arguments);if(!this._isBrowserCompatible()){return superPromise;}
if(Notification.permission==="granted"){if(!this._isConfigurationUpToDate()){this._fetchPushConfiguration().then(function(config){self._registerServiceWorker(config);});}}else if(Notification.permission!=="denied"){this._askPermission();}
core.bus.on('open_notification_request',this,this._onNotificationRequest);return superPromise;},_isBrowserCompatible:function(){if(!('serviceWorker'in navigator)){return false;}
if(!('PushManager'in window)){return false;}
return true;},_registerServiceWorker:function(config){var self=this;if(!config.firebase_push_certificate_key||!config.firebase_project_id||!config.firebase_web_api_key){return;}
firebase.initializeApp({apiKey:config.firebase_web_api_key,projectId:config.firebase_project_id,messagingSenderId:config.firebase_sender_id});var messaging=firebase.messaging();var baseWorkerUrl='/social_push_notifications/static/src/js/push_service_worker.js';navigator.serviceWorker.register(baseWorkerUrl+'?senderId='+config.firebase_sender_id).then(function(registration){messaging.useServiceWorker(registration);messaging.usePublicVapidKey(config.firebase_push_certificate_key);messaging.getToken().then(function(token){self._registerToken(token);});});},_isConfigurationUpToDate:function(){var pushConfiguration=this._getNotificationRequestConfiguration();if(pushConfiguration){if(new Date()<new Date(pushConfiguration.expirationDate)){return true;}}
return false;},_fetchPushConfiguration:function(){var fetchPromise=this._rpc({route:'/social_push_notifications/fetch_push_configuration'});fetchPromise.then(function(config){var expirationDate=new Date();expirationDate.setDate(expirationDate.getDate()+7);localStorage.setItem('social_push_notifications.notification_request_config',JSON.stringify({'title':config.notification_request_title,'body':config.notification_request_body,'delay':config.notification_request_delay,'icon':config.notification_request_icon,'expirationDate':expirationDate}));});return fetchPromise;},_registerToken:function(token){this;var pushConfiguration=this._getPushConfiguration();if(pushConfiguration&&pushConfiguration.token!==token){this._rpc({route:'/social_push_notifications/unregister',params:{token:pushConfiguration.token}});}
this._rpc({route:'/social_push_notifications/register',params:{token:token}}).then(function(res){if(res&&res.visitor_uuid){utils.set_cookie('visitor_uuid',res.visitor_uuid);}
localStorage.setItem('social_push_notifications.configuration',JSON.stringify({'token':token,}));});},_askPermission:async function(nextAskPermissionKeySuffix,forcedPopupConfig){var self=this;var nextAskPermission=localStorage.getItem('social_push_notifications.next_ask_permission'+
(nextAskPermissionKeySuffix?'.'+nextAskPermissionKeySuffix:''));if(nextAskPermission&&new Date()<new Date(nextAskPermission)){return;}
var pushConfig=null;var popupConfig=this._getNotificationRequestConfiguration();if(!popupConfig||new Date()>new Date(popupConfig.expirationDate)){pushConfig=await this._fetchPushConfiguration();popupConfig={title:pushConfig.notification_request_title,body:pushConfig.notification_request_body,delay:pushConfig.notification_request_delay,icon:pushConfig.notification_request_icon};}
if(!popupConfig||!popupConfig.title||!popupConfig.body){return;}
if(forcedPopupConfig){popupConfig=_.extend({},popupConfig,forcedPopupConfig);}
self._showNotificationRequestPopup(popupConfig,pushConfig,nextAskPermissionKeySuffix);},_showNotificationRequestPopup:function(popupConfig,pushConfig,nextAskPermissionKeySuffix){var selector='.o_social_push_notifications_permission_request';if(!popupConfig.title||!popupConfig.body||this.$el.find(selector).length>0){return;}
var self=this;var notificationRequestPopup=new NotificationRequestPopup(this,{title:popupConfig.title,body:popupConfig.body,delay:popupConfig.delay,icon:popupConfig.icon});notificationRequestPopup.appendTo(this.$el);notificationRequestPopup.on('allow',null,function(){Notification.requestPermission().then(function(){if(Notification.permission==="granted"){if(pushConfig){self._registerServiceWorker(pushConfig);}else{self._fetchPushConfiguration().then(function(config){self._registerServiceWorker(config);});}}});});notificationRequestPopup.on('deny',null,function(){var nextAskPermissionDate=new Date();nextAskPermissionDate.setDate(nextAskPermissionDate.getDate()+7);localStorage.setItem('social_push_notifications.next_ask_permission'+
(nextAskPermissionKeySuffix?'.'+nextAskPermissionKeySuffix:''),nextAskPermissionDate);});},_getPushConfiguration:function(){return this._getJSONLocalStorageItem('social_push_notifications.configuration');},_getNotificationRequestConfiguration:function(){return this._getJSONLocalStorageItem('social_push_notifications.notification_request_config');},_getJSONLocalStorageItem:function(key){var value=localStorage.getItem(key);if(value){return JSON.parse(value);}
return null;},_onNotificationRequest:async function(nextAskPermissionKeySuffix,forcedPopupConfig){if(Notification.permission!=='default'){return;}
this._askPermission(nextAskPermissionKeySuffix,forcedPopupConfig);},});return publicWidget.registry.NotificationWidget;});;

/* /web_unsplash/static/src/js/unsplash_beacon.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('web_unsplash.beacon',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.UnsplashBeacon=publicWidget.Widget.extend({selector:'#wrapwrap',start:function(){var unsplashImages=_.map(this.$('img[src*="/unsplash/"]'),function(img){return img.src.split('/unsplash/')[1].split('/')[0];});if(unsplashImages.length){this._rpc({route:'/web_unsplash/get_app_id',}).then(function(appID){if(!appID){return;}
$.get('https://views.unsplash.com/v',{'photo_id':unsplashImages.join(','),'app_id':appID,});});}
return this._super.apply(this,arguments);},});});;

/* /mail/static/src/js/utils.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@mail/js/utils',async function(require){'use strict';let __exports={};const core=require('web.core');var _t=core._t;function parseAndTransform(htmlString,transformFunction){var openToken="OPEN"+Date.now();var string=htmlString.replace(/&lt;/g,openToken);var children;try{children=$('<div>').html(string).contents();}catch(e){children=$('<div>').html('<pre>'+string+'</pre>').contents();}
return _parseAndTransform(children,transformFunction).replace(new RegExp(openToken,"g"),"&lt;");}
function _parseAndTransform(nodes,transformFunction){return _.map(nodes,function(node){return transformFunction(node,function(){return _parseAndTransform(node.childNodes,transformFunction);});}).join("");}
var urlRegexp=/\b(?:https?:\/\/\d{1,3}(?:\.\d{1,3}){3}|(?:https?:\/\/|(?:www\.))[-a-z0-9@:%._+~#=\u00C0-\u024F\u1E00-\u1EFF]{2,256}\.[a-z]{2,13})\b(?:[-a-z0-9@:%_+.~#?&'$//=;\u00C0-\u024F\u1E00-\u1EFF]*)/gi;function linkify(text,attrs){attrs=attrs||{};if(attrs.target===undefined){attrs.target='_blank';}
if(attrs.target==='_blank'){attrs.rel='noreferrer noopener';}
attrs=_.map(attrs,function(value,key){return key+'="'+_.escape(value)+'"';}).join(' ');return text.replace(urlRegexp,function(url){var href=(!/^https?:\/\//i.test(url))?"http://"+url:url;return'<a '+attrs+' href="'+href+'">'+url+'</a>';});}
function addLink(node,transformChildren){if(node.nodeType===3){const linkified=linkify(node.data);if(linkified!==node.data){const div=document.createElement('div');div.innerHTML=linkified;for(const childNode of[...div.childNodes]){node.parentNode.insertBefore(childNode,node);}
node.parentNode.removeChild(node);return linkified;}
return node.textContent;}
if(node.tagName==="A")return node.outerHTML;transformChildren();return node.outerHTML;}
function htmlToTextContentInline(htmlString){const fragment=document.createDocumentFragment();const div=document.createElement('div');fragment.appendChild(div);htmlString=htmlString.replace(/<br\s*\/?>/gi,' ');try{div.innerHTML=htmlString;}catch(e){div.innerHTML=`<pre>${htmlString}</pre>`;}
return div.textContent.trim().replace(/[\n\r]/g,'').replace(/\s\s+/g,' ');}
function stripHTML(node,transformChildren){if(node.nodeType===3)return node.data;if(node.tagName==="BR")return"\n";return transformChildren();}
function inline(node,transform_children){if(node.nodeType===3)return node.data;if(node.nodeType===8)return"";if(node.tagName==="BR")return" ";if(node.tagName.match(/^(A|P|DIV|PRE|BLOCKQUOTE)$/))return transform_children();node.innerHTML=transform_children();return node.outerHTML;}
function parseEmail(text){if(text){var result=text.match(/(.*)<(.*@.*)>/);if(result){return[_.str.trim(result[1]),_.str.trim(result[2])];}
result=text.match(/(.*@.*)/);if(result){return[_.str.trim(result[1]),_.str.trim(result[1])];}
return[text,false];}}
function escapeAndCompactTextContent(content){let value=owl.utils.escape(content).trim();value=value.replace(/(\r|\n){2,}/g,'<br/><br/>');value=value.replace(/(\r|\n)/g,'<br/>');value=value.replace(/ /g,'&nbsp;').replace(/([^>])&nbsp;([^<])/g,'$1 $2');return value;}
function getTextToHTML(text){return text.replace(/((?:https?|ftp):\/\/[\S]+)/g,'<a href="$1">$1</a> ').replace(/[\n\r]/g,'<br/>');}
function timeFromNow(date){if(moment().diff(date,'seconds')<45){return _t("now");}
return date.fromNow();}
Object.assign(__exports,{addLink,escapeAndCompactTextContent,getTextToHTML,htmlToTextContentInline,inline,linkify,parseAndTransform,parseEmail,stripHTML,timeFromNow,});return __exports;});;

/* /im_livechat/static/src/legacy/public_livechat.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('im_livechat.legacy.im_livechat.im_livechat',function(require){"use strict";require('bus.BusService');var concurrency=require('web.concurrency');var config=require('web.config');var core=require('web.core');var session=require('web.session');var time=require('web.time');var utils=require('web.utils');var Widget=require('web.Widget');var WebsiteLivechat=require('im_livechat.legacy.im_livechat.model.WebsiteLivechat');var WebsiteLivechatMessage=require('im_livechat.legacy.im_livechat.model.WebsiteLivechatMessage');var WebsiteLivechatWindow=require('im_livechat.legacy.im_livechat.WebsiteLivechatWindow');var _t=core._t;var QWeb=core.qweb;var LIVECHAT_COOKIE_HISTORY='im_livechat_history';var HISTORY_LIMIT=15;var RATING_TO_EMOJI={"5":"","3":"","1":""};var page=window.location.href.replace(/^.*\/\/[^/]+/,'');var pageHistory=utils.get_cookie(LIVECHAT_COOKIE_HISTORY);var urlHistory=[];if(pageHistory){urlHistory=JSON.parse(pageHistory)||[];}
if(!_.contains(urlHistory,page)){urlHistory.push(page);while(urlHistory.length>HISTORY_LIMIT){urlHistory.shift();}
utils.set_cookie(LIVECHAT_COOKIE_HISTORY,JSON.stringify(urlHistory),60*60*24);}
var LivechatButton=Widget.extend({className:'openerp o_livechat_button d-print-none',custom_events:{'close_chat_window':'_onCloseChatWindow','post_message_chat_window':'_onPostMessageChatWindow','save_chat_window':'_onSaveChatWindow','updated_typing_partners':'_onUpdatedTypingPartners','updated_unread_counter':'_onUpdatedUnreadCounter',},events:{'click':'_openChat'},init:function(parent,serverURL,options){this._super(parent);this.options=_.defaults(options||{},{input_placeholder:_t("Ask something ..."),default_username:_t("Visitor"),button_text:_t("Chat with one of our collaborators"),default_message:_t("How may I help you?"),});this._history=null;this._livechat=null;this._chatWindow=null;this._messages=[];this._serverURL=serverURL;},async willStart(){var cookie=utils.get_cookie('im_livechat_session');if(cookie){var channel=JSON.parse(cookie);this._history=await session.rpc('/mail/chat_history',{uuid:channel.uuid,limit:100});this._history.reverse().forEach(message=>{message.body=utils.Markup(message.body);});}else{const result=await session.rpc('/im_livechat/init',{channel_id:this.options.channel_id});if(!result.available_for_me){return Promise.reject();}
this._rule=result.rule;}
return this._loadQWebTemplate();},start:function(){this.$el.text(this.options.button_text);if(this._history){this._history.forEach(m=>this._addMessage(m));this._openChat();}else if(!config.device.isMobile&&this._rule.action==='auto_popup'){var autoPopupCookie=utils.get_cookie('im_livechat_auto_popup');if(!autoPopupCookie||JSON.parse(autoPopupCookie)){this._autoPopupTimeout=setTimeout(this._openChat.bind(this),this._rule.auto_popup_timer*1000);}}
this.call('bus_service','onNotification',this,this._onNotification);if(this.options.button_background_color){this.$el.css('background-color',this.options.button_background_color);}
if(this.options.button_text_color){this.$el.css('color',this.options.button_text_color);}
var pwaBannerHeight=$('.o_pwa_install_banner').outerHeight(true);if(pwaBannerHeight){this.$el.css('bottom',pwaBannerHeight+'px');}
return this._super();},_addMessage:function(data,options){options=_.extend({},this.options,options,{serverURL:this._serverURL,});var message=new WebsiteLivechatMessage(this,data,options);var hasAlreadyMessage=_.some(this._messages,function(msg){return message.getID()===msg.getID();});if(hasAlreadyMessage){return;}
if(this._livechat){this._livechat.addMessage(message);}
if(options&&options.prepend){this._messages.unshift(message);}else{this._messages.push(message);}},_askFeedback:function(){this._chatWindow.$('.o_thread_composer input').prop('disabled',true);var feedback=new Feedback(this,this._livechat);this._chatWindow.replaceContentWith(feedback);feedback.on('send_message',this,this._sendMessage);feedback.on('feedback_sent',this,this._closeChat);},_closeChat:function(){this._chatWindow.destroy();utils.set_cookie('im_livechat_session',"",-1);},_handleNotification:function({payload,type}){switch(type){case'im_livechat.history_command':{if(payload.id!==this._livechat._id){return;}
const cookie=utils.get_cookie(LIVECHAT_COOKIE_HISTORY);const history=cookie?JSON.parse(cookie):[];session.rpc('/im_livechat/history',{pid:this._livechat.getOperatorPID()[0],channel_uuid:this._livechat.getUUID(),page_history:history,});return;}
case'mail.channel.partner/typing_status':{if(payload.channel_id!==this._livechat._id){return;}
const partnerID=payload.partner_id;if(partnerID===this.options.current_partner_id){return;}
if(payload.is_typing){this._livechat.registerTyping({partnerID});}else{this._livechat.unregisterTyping({partnerID});}
return;}
case'mail.channel/new_message':{if(payload.id!==this._livechat._id){return;}
const notificationData=payload.message;if(this._messages.some(message=>message.getID()===notificationData.id)){return;}
notificationData.body=utils.Markup(notificationData.body);this._addMessage(notificationData);if(this._chatWindow.isFolded()||!this._chatWindow.isAtBottom()){this._livechat.incrementUnreadCounter();}
this._renderMessages();return;}}},_loadQWebTemplate:function(){return session.rpc('/im_livechat/load_templates').then(function(templates){_.each(templates,function(template){QWeb.add_template(template);});});},_openChat:_.debounce(function(){if(this._openingChat){return;}
var self=this;var cookie=utils.get_cookie('im_livechat_session');var def;this._openingChat=true;clearTimeout(this._autoPopupTimeout);if(cookie){def=Promise.resolve(JSON.parse(cookie));}else{this._messages=[];def=session.rpc('/im_livechat/get_session',{channel_id:this.options.channel_id,anonymous_name:this.options.default_username,previous_operator_id:this._get_previous_operator_id(),},{shadow:true});}
def.then(function(livechatData){if(!livechatData||!livechatData.operator_pid){try{self.displayNotification({message:_t("No available collaborator, please try again later."),sticky:true,});}catch(err){console.warn(_t("No available collaborator, please try again later."));}}else{self._livechat=new WebsiteLivechat({parent:self,data:livechatData});return self._openChatWindow().then(function(){if(!self._history){self._sendWelcomeMessage();}
self._renderMessages();self.call('bus_service','addChannel',self._livechat.getUUID());self.call('bus_service','startPolling');utils.set_cookie('im_livechat_session',utils.unaccent(JSON.stringify(self._livechat.toData()),true),60*60);utils.set_cookie('im_livechat_auto_popup',JSON.stringify(false),60*60);if(livechatData.operator_pid[0]){var operatorPidId=livechatData.operator_pid[0];var oneWeek=7*24*60*60;utils.set_cookie('im_livechat_previous_operator_pid',operatorPidId,oneWeek);}});}}).then(function(){self._openingChat=false;}).guardedCatch(function(){self._openingChat=false;});},200,true),_get_previous_operator_id:function(){var cookie=utils.get_cookie('im_livechat_previous_operator_pid');if(cookie){return cookie;}
return null;},_openChatWindow:function(){var self=this;var options={displayStars:false,headerBackgroundColor:this.options.header_background_color,placeholder:this.options.input_placeholder||"",titleColor:this.options.title_color,};this._chatWindow=new WebsiteLivechatWindow(this,this._livechat,options);return this._chatWindow.appendTo($('body')).then(function(){var cssProps={bottom:0};cssProps[_t.database.parameters.direction==='rtl'?'left':'right']=0;self._chatWindow.$el.css(cssProps);self.$el.hide();});},_renderMessages:function(){var shouldScroll=!this._chatWindow.isFolded()&&this._chatWindow.isAtBottom();this._livechat.setMessages(this._messages);this._chatWindow.render();if(shouldScroll){this._chatWindow.scrollToBottom();}},_sendMessage:function(message){var self=this;this._livechat._notifyMyselfTyping({typing:false});return session.rpc('/mail/chat_post',{uuid:this._livechat.getUUID(),message_content:message.content}).then(function(messageId){if(!messageId){try{self.displayNotification({message:_t("Session expired... Please refresh and try again."),sticky:true,});}catch(err){console.warn(_t("Session expired... Please refresh and try again."));}
self._closeChat();}
self._chatWindow.scrollToBottom();});},_sendWelcomeMessage:function(){if(this.options.default_message){this._addMessage({id:'_welcome',attachment_ids:[],author_id:this._livechat.getOperatorPID(),body:this.options.default_message,date:time.datetime_to_str(new Date()),model:"mail.channel",res_id:this._livechat.getID(),},{prepend:true});}},_onCloseChatWindow:function(ev){ev.stopPropagation();var isComposerDisabled=this._chatWindow.$('.o_thread_composer input').prop('disabled');var shouldAskFeedback=!isComposerDisabled&&_.find(this._messages,function(message){return message.getID()!=='_welcome';});if(shouldAskFeedback){this._chatWindow.toggleFold(false);this._askFeedback();}else{this._closeChat();}},_onNotification:function(notifications){var self=this;_.each(notifications,function(notification){self._handleNotification(notification);});},_onPostMessageChatWindow:function(ev){ev.stopPropagation();var self=this;var messageData=ev.data.messageData;this._sendMessage(messageData).guardedCatch(function(reason){reason.event.preventDefault();return self._sendMessage(messageData);});},_onSaveChatWindow:function(ev){ev.stopPropagation();utils.set_cookie('im_livechat_session',utils.unaccent(JSON.stringify(this._livechat.toData()),true),60*60);},_onUpdatedTypingPartners(ev){ev.stopPropagation();this._chatWindow.renderHeader();},_onUpdatedUnreadCounter:function(ev){ev.stopPropagation();this._chatWindow.renderHeader();},});var Feedback=Widget.extend({template:'im_livechat.legacy.im_livechat.FeedBack',events:{'click .o_livechat_rating_choices img':'_onClickSmiley','click .o_livechat_no_feedback span':'_onClickNoFeedback','click .o_rating_submit_button':'_onClickSend','click .o_email_chat_button':'_onEmailChat','click .o_livechat_email_error .alert-link':'_onTryAgain',},init:function(parent,livechat){this._super(parent);this._livechat=livechat;this.server_origin=session.origin;this.rating=undefined;this.dp=new concurrency.DropPrevious();},_sendFeedback:function(reason){var self=this;var args={uuid:this._livechat.getUUID(),rate:this.rating,reason:reason,};this.dp.add(session.rpc('/im_livechat/feedback',args)).then(function(response){var emoji=RATING_TO_EMOJI[self.rating]||"??";if(!reason){var content=_.str.sprintf(_t("Rating: %s"),emoji);}
else{var content="Rating reason: \n"+reason;}
self.trigger('send_message',{content:content,isFeedback:true});});},_showThanksMessage:function(){this.$('.o_livechat_rating_box').empty().append($('<div />',{text:_t('Thank you for your feedback'),class:'text-muted'}));},_onClickNoFeedback:function(){this.trigger('feedback_sent');},_onClickSend:function(){this.$('.o_livechat_rating_reason').hide();this._showThanksMessage();if(_.isNumber(this.rating)){this._sendFeedback(this.$('textarea').val());}},_onClickSmiley:function(ev){this.rating=parseInt($(ev.currentTarget).data('value'));this.$('.o_livechat_rating_choices img').removeClass('selected');this.$('.o_livechat_rating_choices img[data-value="'+this.rating+'"]').addClass('selected');if(this.rating!==5){this._sendFeedback();this.$('.o_livechat_rating_reason').show();}else{this.$('.o_livechat_rating_reason').hide();this._showThanksMessage();this._sendFeedback();}},_onEmailChat:function(){var self=this;var $email=this.$('#o_email');if(utils.is_email($email.val())){$email.removeAttr('title').removeClass('is-invalid').prop('disabled',true);this.$('.o_email_chat_button').prop('disabled',true);this._rpc({route:'/im_livechat/email_livechat_transcript',params:{uuid:this._livechat.getUUID(),email:$email.val(),}}).then(function(){self.$('.o_livechat_email').html($('<strong />',{text:_t('Conversation Sent')}));}).guardedCatch(function(){self.$('.o_livechat_email').hide();self.$('.o_livechat_email_error').show();});}else{$email.addClass('is-invalid').prop('title',_t('Invalid email address'));}},_onTryAgain:function(){this.$('#o_email').prop('disabled',false);this.$('.o_email_chat_button').prop('disabled',false);this.$('.o_livechat_email_error').hide();this.$('.o_livechat_email').show();},});return{LivechatButton:LivechatButton,Feedback:Feedback,};});odoo.define('im_livechat.legacy.im_livechat.model.WebsiteLivechat',function(require){"use strict";var AbstractThread=require('im_livechat.legacy.mail.model.AbstractThread');var ThreadTypingMixin=require('im_livechat.legacy.mail.model.ThreadTypingMixin');var session=require('web.session');var WebsiteLivechat=AbstractThread.extend(ThreadTypingMixin,{init:function(params){this._super.apply(this,arguments);ThreadTypingMixin.init.call(this,arguments);this._members=[];this._operatorPID=params.data.operator_pid;this._uuid=params.data.uuid;if(params.data.message_unread_counter!==undefined){this._unreadCounter=params.data.message_unread_counter;}
if(_.isBoolean(params.data.folded)){this._folded=params.data.folded;}else{this._folded=params.data.state==='folded';}
this._members.push({id:this._operatorPID[0],name:this._operatorPID[1]});},getMessages:function(){return this._messages;},getOperatorPID:function(){return this._operatorPID;},getUUID:function(){return this._uuid;},incrementUnreadCounter:function(){this._incrementUnreadCounter();},setMessages:function(messages){this._messages=messages;},toData:function(){return{folded:this.isFolded(),id:this.getID(),message_unread_counter:this.getUnreadCounter(),operator_pid:this.getOperatorPID(),name:this.getName(),uuid:this.getUUID(),};},_isTypingMyselfInfo:function(params){return params.isWebsiteUser;},_notifyMyselfTyping:function(params){return session.rpc('/im_livechat/notify_typing',{uuid:this.getUUID(),is_typing:params.typing,},{shadow:true});},_warnUpdatedTypingPartners:function(){this.trigger_up('updated_typing_partners');},_warnUpdatedUnreadCounter:function(){this.trigger_up('updated_unread_counter');},_onTypingMessageAdded:function(message){var operatorID=this.getOperatorPID()[0];if(message.hasAuthor()&&message.getAuthorID()===operatorID){this.unregisterTyping({partnerID:operatorID});}},});return WebsiteLivechat;});odoo.define('im_livechat.legacy.im_livechat.model.WebsiteLivechatMessage',function(require){"use strict";var AbstractMessage=require('im_livechat.legacy.mail.model.AbstractMessage');var WebsiteLivechatMessage=AbstractMessage.extend({init:function(parent,data,options){this._super.apply(this,arguments);this._defaultUsername=options.default_username;this._serverURL=options.serverURL;},getAvatarSource:function(){var source=this._serverURL;if(this.hasAuthor()){source+='/web/image/res.partner/'+this.getAuthorID()+'/avatar_128';}else{source+='/mail/static/src/img/smiley/avatar.jpg';}
return source;},getDisplayedAuthor:function(){return this._super.apply(this,arguments)||this._defaultUsername;},});return WebsiteLivechatMessage;});odoo.define('im_livechat.legacy.im_livechat.WebsiteLivechatWindow',function(require){"use strict";var AbstractThreadWindow=require('im_livechat.legacy.mail.AbstractThreadWindow');var LivechatWindow=AbstractThreadWindow.extend({events:_.extend(AbstractThreadWindow.prototype.events,{'input .o_composer_text_field':'_onInput',}),init(parent,thread,options={}){this._super.apply(this,arguments);this._thread=thread;},async start(){await this._super(...arguments);if(this.options.headerBackgroundColor){this.$('.o_thread_window_header').css('background-color',this.options.headerBackgroundColor);}
if(this.options.titleColor){this.$('.o_thread_window_header').css('color',this.options.titleColor);}},close:function(){this.trigger_up('close_chat_window');},replaceContentWith:function($element){$element.replace(this._threadWidget.$el);},toggleFold:function(){this._super.apply(this,arguments);this.trigger_up('save_chat_window');this.updateVisualFoldState();},_postMessage:function(messageData){this.trigger_up('post_message_chat_window',{messageData:messageData});this._super.apply(this,arguments);},_onInput:function(){if(this.hasThread()&&this._thread.hasTypingNotification()){var isTyping=this.$input.val().length>0;this._thread.setMyselfTyping({typing:isTyping});}},});return LivechatWindow;});odoo.define('im_livechat.legacy.mail.model.AbstractThread',function(require){"use strict";var Class=require('web.Class');var Mixins=require('web.mixins');var AbstractThread=Class.extend(Mixins.EventDispatcherMixin,{init:function(params){Mixins.EventDispatcherMixin.init.call(this,arguments);this.setParent(params.parent);this._folded=false;this._id=params.data.id;this._name=params.data.name;this._status=params.data.status||'';this._unreadCounter=0;},addMessage:function(message){this._addMessage.apply(this,arguments);this.trigger('message_added',message);},fold:function(folded){this._folded=folded;},getID:function(){return this._id;},getMessages:function(){},getName:function(){return this._name;},getStatus:function(){return this._status;},getTitle:function(){return this.getName();},getType:function(){},getUnreadCounter:function(){return this._unreadCounter;},hasMessages:function(){return!_.isEmpty(this.getMessages());},hasSeenFeature:function(){return false;},isFolded:function(){return this._folded;},markAsRead:function(){if(this._unreadCounter>0){return this._markAsRead();}
return Promise.resolve();},postMessage:function(){return this._postMessage.apply(this,arguments).then(this.trigger.bind(this,'message_posted'));},resetUnreadCounter:function(){this._unreadCounter=0;this._warnUpdatedUnreadCounter();},_addMessage:function(message){},_incrementUnreadCounter:function(){this._unreadCounter++;},_markAsRead:function(){this.resetUnreadCounter();return Promise.resolve();},_postMessage:function(){return Promise.resolve();},_warnUpdatedUnreadCounter:function(){},});return AbstractThread;});odoo.define('im_livechat.legacy.mail.model.ThreadTypingMixin',function(require){"use strict";var CCThrottleFunction=require('im_livechat.legacy.mail.model.CCThrottleFunction');var Timer=require('im_livechat.legacy.mail.model.Timer');var Timers=require('im_livechat.legacy.mail.model.Timers');var core=require('web.core');var _t=core._t;var ThreadTypingMixin={_DEFAULT_TYPING_PARTNER_ID:'_default',_DEFAULT_TYPING_PARTNER_NAME:'Someone',init:function(){this._lastNotifiedMyselfTyping=false;this._myselfLongTypingTimer=new Timer({duration:50*1000,onTimeout:this._onMyselfLongTypingTimeout.bind(this),});this._myselfTypingInactivityTimer=new Timer({duration:5*1000,onTimeout:this._onMyselfTypingInactivityTimeout.bind(this),});this._othersTypingTimers=new Timers({duration:60*1000,onTimeout:this._onOthersTypingTimeout.bind(this),});this._throttleNotifyMyselfTyping=CCThrottleFunction({duration:2.5*1000,func:this._onNotifyMyselfTyping.bind(this),});this._typingPartnerIDs=[];this.on('message_added',this,this._onTypingMessageAdded);this.on('message_posted',this,this._onTypingMessagePosted);},getTypingMembersToText:function(){var typingPartnerIDs=this._typingPartnerIDs;var typingMembers=_.filter(this._members,function(member){return _.contains(typingPartnerIDs,member.id);});var sortedTypingMembers=_.sortBy(typingMembers,function(member){return _.indexOf(typingPartnerIDs,member.id);});var displayableTypingMembers=sortedTypingMembers.slice(0,3);if(displayableTypingMembers.length===0){return'';}else if(displayableTypingMembers.length===1){return _.str.sprintf(_t("%s is typing..."),displayableTypingMembers[0].name);}else if(displayableTypingMembers.length===2){return _.str.sprintf(_t("%s and %s are typing..."),displayableTypingMembers[0].name,displayableTypingMembers[1].name);}else{return _.str.sprintf(_t("%s, %s and more are typing..."),displayableTypingMembers[0].name,displayableTypingMembers[1].name);}},hasTypingNotification:function(){return true;},isSomeoneTyping:function(){return!(_.isEmpty(this._typingPartnerIDs));},registerTyping:function(params){if(this._isTypingMyselfInfo(params)){return;}
var partnerID=params.partnerID;this._othersTypingTimers.registerTimer({timeoutCallbackArguments:[partnerID],timerID:partnerID,});if(_.contains(this._typingPartnerIDs,partnerID)){return;}
this._typingPartnerIDs.push(partnerID);this._warnUpdatedTypingPartners();},setMyselfTyping:function(params){var typing=params.typing;if(this._lastNotifiedMyselfTyping===typing){this._throttleNotifyMyselfTyping.cancel();}else{this._throttleNotifyMyselfTyping(params);}
if(typing){this._myselfTypingInactivityTimer.reset();}else{this._myselfTypingInactivityTimer.clear();}},unregisterTyping:function(params){var partnerID=params.partnerID;this._othersTypingTimers.unregisterTimer({timerID:partnerID});if(!_.contains(this._typingPartnerIDs,partnerID)){return;}
this._typingPartnerIDs=_.reject(this._typingPartnerIDs,function(id){return id===partnerID;});this._warnUpdatedTypingPartners();},_isTypingMyselfInfo:function(params){return false;},_notifyMyselfTyping:function(params){return Promise.resolve();},_warnUpdatedTypingPartners:function(){},_onMyselfLongTypingTimeout:function(){this._throttleNotifyMyselfTyping.clear();this._throttleNotifyMyselfTyping({typing:true});},_onMyselfTypingInactivityTimeout:function(){this._throttleNotifyMyselfTyping.clear();this._throttleNotifyMyselfTyping({typing:false});},_onNotifyMyselfTyping:function(params){var typing=params.typing;this._lastNotifiedMyselfTyping=typing;this._notifyMyselfTyping(params);if(typing){this._myselfLongTypingTimer.reset();}else{this._myselfLongTypingTimer.clear();}},_onOthersTypingTimeout:function(partnerID){this.unregisterTyping({partnerID:partnerID});},_onTypingMessageAdded:function(message){var partnerID=message.hasAuthor()?message.getAuthorID():this._DEFAULT_TYPING_PARTNER_ID;this.unregisterTyping({partnerID:partnerID});},_onTypingMessagePosted:function(){this._lastNotifiedMyselfTyping=false;this._throttleNotifyMyselfTyping.clear();this._myselfLongTypingTimer.clear();this._myselfTypingInactivityTimer.clear();},};return ThreadTypingMixin;});odoo.define('im_livechat.legacy.mail.model.AbstractMessage',function(require){"use strict";var mailUtils=require('@mail/js/utils');var Class=require('web.Class');var core=require('web.core');var session=require('web.session');var time=require('web.time');var _t=core._t;var AbstractMessage=Class.extend({init:function(parent,data){this._attachmentIDs=data.attachment_ids||[];this._body=data.body||"";this._date=data.date?moment(time.str_to_datetime(data.date)):moment();this._id=data.id;this._isDiscussion=data.is_discussion;this._isNotification=data.is_notification;this._serverAuthorID=data.author_id;this._type=data.message_type||undefined;this._processAttachmentURL();this._attachmentIDs.forEach(function(attachment){attachment.filename=attachment.filename||attachment.name||_t("unnamed");});},getAttachments:function(){return this._attachmentIDs;},getAuthorID:function(){if(!this.hasAuthor()){return-1;}
return this._serverAuthorID[0];},getAuthorImStatus:function(){return undefined;},getAvatarSource:function(){if(this.hasAuthor()){return'/web/image/res.partner/'+this.getAuthorID()+'/avatar_128';}},getBody:function(){return this._body;},getDate:function(){return this._date;},getDateDay:function(){var date=this.getDate().format('YYYY-MM-DD');if(date===moment().format('YYYY-MM-DD')){return _t("Today");}else if(date===moment().subtract(1,'days').format('YYYY-MM-DD')){return _t("Yesterday");}
return this.getDate().format('LL');},getDisplayedAuthor:function(){return this.hasAuthor()?this._getAuthorName():null;},getID:function(){return this._id;},getImageAttachments:function(){return _.filter(this.getAttachments(),function(attachment){return attachment.mimetype&&attachment.mimetype.split('/')[0]==='image';});},getNonImageAttachments:function(){return _.difference(this.getAttachments(),this.getImageAttachments());},getNotificationIcon(){if(!this.hasNotificationsError()){return'fa fa-envelope-o';}
return'fa fa-envelope';},getNotifications(){return[];},getNotificationText(){return'';},getTimeElapsed:function(){return mailUtils.timeFromNow(this.getDate());},getType:function(){return this._type;},hasAttachments:function(){return this.getAttachments().length>0;},hasAuthor:function(){return!!(this._serverAuthorID&&this._serverAuthorID[0]);},hasEmailFrom:function(){return false;},hasImageAttachments:function(){return _.some(this.getAttachments(),function(attachment){return attachment.mimetype&&attachment.mimetype.split('/')[0]==='image';});},hasNonImageAttachments:function(){return _.some(this.getAttachments(),function(attachment){return!(attachment.mimetype&&attachment.mimetype.split('/')[0]==='image');});},hasNotifications(){return this.getNotifications().length>0;},hasNotificationsError(){return this.getNotifications().some(notif=>notif.notification_status==='exception'||notif.notification_status==='bounce');},originatesFromChannel:function(){return false;},hasSubject:function(){return false;},isEmpty:function(){return!this.hasTrackingValues()&&!this.hasAttachments()&&!this.getBody();},hasSubtypeDescription:function(){return false;},hasTrackingValues:function(){return false;},isDiscussion:function(){return this._isDiscussion;},isLinkedToDocumentThread:function(){return false;},isNeedaction:function(){return false;},isNote:function(){return this._isNote;},isNotification:function(){return this._isNotification;},isStarred:function(){return false;},isSystemNotification:function(){return false;},needsModeration:function(){return false;},removeAttachments:function(attachmentIDs){this._attachmentIDs=_.reject(this._attachmentIDs,function(attachment){return _.contains(attachmentIDs,attachment.id);});},shouldRedirectToAuthor:function(){return!this._isMyselfAuthor();},_getAuthorName:function(){if(!this.hasAuthor()){return"";}
return this._serverAuthorID[1];},_isMyselfAuthor:function(){return this.hasAuthor()&&(this.getAuthorID()===session.partner_id);},_processAttachmentURL:function(){_.each(this.getAttachments(),function(attachment){attachment.url='/web/content/'+attachment.id+'?download=true';});},});return AbstractMessage;});odoo.define('im_livechat.legacy.mail.AbstractThreadWindow',function(require){"use strict";var ThreadWidget=require('im_livechat.legacy.mail.widget.Thread');var config=require('web.config');var core=require('web.core');var Widget=require('web.Widget');var QWeb=core.qweb;var _t=core._t;var AbstractThreadWindow=Widget.extend({template:'im_livechat.legacy.mail.AbstractThreadWindow',custom_events:{document_viewer_closed:'_onDocumentViewerClose',},events:{'click .o_thread_window_close':'_onClickClose','click .o_thread_window_title':'_onClickFold','click .o_composer_text_field':'_onComposerClick','click .o_mail_thread':'_onThreadWindowClicked','keydown .o_composer_text_field':'_onKeydown','keypress .o_composer_text_field':'_onKeypress',},FOLD_ANIMATION_DURATION:200,HEIGHT_OPEN:'400px',HEIGHT_FOLDED:'34px',init:function(parent,thread,options){this._super(parent);this.options=_.defaults(options||{},{autofocus:true,displayStars:true,displayReplyIcons:false,displayNotificationIcons:false,placeholder:_t("Say something"),});this._hidden=false;this._thread=thread||null;this._debouncedOnScroll=_.debounce(this._onScroll.bind(this),100);if(!this.hasThread()){this._folded=false;}},start:function(){var self=this;this.$input=this.$('.o_composer_text_field');this.$header=this.$('.o_thread_window_header');var options={displayMarkAsRead:false,displayStars:this.options.displayStars,};if(this._thread&&this._thread._type==='document_thread'){options.displayDocumentLinks=false;}
this._threadWidget=new ThreadWidget(this,options);this.$el.css({transition:'height '+this.FOLD_ANIMATION_DURATION+'ms linear'});if(this.isFolded()){this.$el.css('height',this.HEIGHT_FOLDED);}else if(this.options.autofocus){this._focusInput();}
if(!config.device.isMobile){var margin_dir=_t.database.parameters.direction==="rtl"?"margin-left":"margin-right";this.$el.css(margin_dir,$.position.scrollbarWidth());}
var def=this._threadWidget.replace(this.$('.o_thread_window_content')).then(function(){self._threadWidget.$el.on('scroll',self,self._debouncedOnScroll);});return Promise.all([this._super(),def]);},do_hide:function(){this._hidden=true;this._super.apply(this,arguments);},do_show:function(){this._hidden=false;this._super.apply(this,arguments);},do_toggle:function(display){this._hidden=_.isBoolean(display)?!display:!this._hidden;this._super.apply(this,arguments);},close:function(){},getID:function(){return this._getThreadID();},getThread:function(){if(!this.hasThread()){return undefined;}
return this._thread;},getThreadStatus:function(){if(!this.hasThread()){return undefined;}
return this._thread.getStatus();},getTitle:function(){if(!this.hasThread()){return _t("Undefined");}
return this._thread.getTitle();},getUnreadCounter:function(){if(!this.hasThread()){return 0;}
return this._thread.getUnreadCounter();},hasThread:function(){return!!this._thread;},isAtBottom:function(){return this._threadWidget.isAtBottom();},isFolded:function(){if(!this.hasThread()){return this._folded;}
return this._thread.isFolded();},isMobile:function(){return config.device.isMobile;},isHidden:function(){return this._hidden;},needsComposer:function(){return this.hasThread();},render:function(){this.renderHeader();if(this.hasThread()){this._threadWidget.render(this._thread,{displayLoadMore:false});}},renderHeader:function(){var options=this._getHeaderRenderingOptions();this.$header.html(QWeb.render('im_livechat.legacy.mail.AbstractThreadWindow.HeaderContent',options));},scrollToBottom:function(){this._threadWidget.scrollToBottom();},toggleFold:function(folded){if(!_.isBoolean(folded)){folded=!this.isFolded();}
this._updateThreadFoldState(folded);},updateVisualFoldState:function(){if(!this.isFolded()){this._threadWidget.scrollToBottom();if(this.options.autofocus){this._focusInput();}}
var height=this.isFolded()?this.HEIGHT_FOLDED:this.HEIGHT_OPEN;this.$el.css({height:height});},_focusInput:function(){if(config.device.touch&&config.device.size_class<=config.device.SIZES.SM){return;}
this.$input.focus();},_getHeaderRenderingOptions:function(){return{status:this.getThreadStatus(),thread:this.getThread(),title:this.getTitle(),unreadCounter:this.getUnreadCounter(),widget:this,};},_getThreadID:function(){if(!this.hasThread()){return'_blank';}
return this._thread.getID();},_hasFocus:function(){return this.$input.is(':focus');},_postMessage:function(messageData){var self=this;if(!this.hasThread()){return;}
this._thread.postMessage(messageData).then(function(){self._threadWidget.scrollToBottom();});},_updateThreadFoldState:function(folded){if(this.hasThread()){this._thread.fold(folded);}else{this._folded=folded;this.updateVisualFoldState();}},_onClickClose:function(ev){ev.stopPropagation();ev.preventDefault();if(this.hasThread()&&this._thread.getUnreadCounter()>0&&!this.isFolded()){this._thread.markAsRead();}
this.close();},_onClickFold:function(){if(!config.device.isMobile){this.toggleFold();}},_onComposerClick:function(ev){if($(ev.target).closest('a, button').length){return;}
this._focusInput();},_onDocumentViewerClose:function(){this._focusInput();},_onKeydown:function(ev){ev.stopPropagation();if(ev.which===13){var content=_.str.trim(this.$input.val());var messageData={content:content,attachment_ids:[],partner_ids:[],};this.$input.val('');if(content){this._postMessage(messageData);}}},_onKeypress:function(ev){ev.stopPropagation();},_onScroll:function(){if(this.hasThread()&&this.isAtBottom()){this._thread.markAsRead();}},_onThreadWindowClicked:function(){var selectObj=window.getSelection();if(selectObj.anchorOffset===selectObj.focusOffset){this.$input.focus();}},});return AbstractThreadWindow;});odoo.define('im_livechat.legacy.mail.model.CCThrottleFunctionObject',function(require){"use strict";var Class=require('web.Class');var CCThrottleFunctionObject=Class.extend({init:function(params){this._arguments=undefined;this._cooldownTimeout=undefined;this._duration=params.duration;this._func=params.func;this._shouldCallFunctionAfterCD=false;},cancel:function(){this._arguments=undefined;this._shouldCallFunctionAfterCD=false;},clear:function(){if(this._cooldownTimeout){clearTimeout(this._cooldownTimeout);this._onCooldownTimeout();}},do:function(){this._arguments=Array.prototype.slice.call(arguments);if(this._cooldownTimeout===undefined){this._callFunction();}else{this._shouldCallFunctionAfterCD=true;}},_callFunction:function(){this._func.apply(null,this._arguments);this._cooldown();},_cooldown:function(){this.cancel();this._cooldownTimeout=setTimeout(this._onCooldownTimeout.bind(this),this._duration);},_onCooldownTimeout:function(){if(this._shouldCallFunctionAfterCD){this._callFunction();}else{this._cooldownTimeout=undefined;}},});return CCThrottleFunctionObject;});odoo.define('im_livechat.legacy.mail.model.CCThrottleFunction',function(require){"use strict";var CCThrottleFunctionObject=require('im_livechat.legacy.mail.model.CCThrottleFunctionObject');var CCThrottleFunction=function(params){var duration=params.duration;var func=params.func;var throttleFunctionObject=new CCThrottleFunctionObject({duration:duration,func:func,});var callable=function(){return throttleFunctionObject.do.apply(throttleFunctionObject,arguments);};callable.cancel=function(){throttleFunctionObject.cancel();};callable.clear=function(){throttleFunctionObject.clear();};return callable;};return CCThrottleFunction;});odoo.define('im_livechat.legacy.mail.model.Timer',function(require){"use strict";var Class=require('web.Class');var Timer=Class.extend({init:function(params){this._duration=params.duration;this._timeout=undefined;this._timeoutCallback=params.onTimeout;},clear:function(){clearTimeout(this._timeout);},reset:function(){this.clear();this.start();},start:function(){this._timeout=setTimeout(this._onTimeout.bind(this),this._duration);},_onTimeout:function(){this._timeoutCallback();},});return Timer;});odoo.define('im_livechat.legacy.mail.model.Timers',function(require){"use strict";var Timer=require('im_livechat.legacy.mail.model.Timer');var Class=require('web.Class');var Timers=Class.extend({init:function(params){this._duration=params.duration;this._timeoutCallback=params.onTimeout;this._timers={};},registerTimer:function(params){var timerID=params.timerID;if(this._timers[timerID]){this._timers[timerID].clear();}
var timerParams={duration:this._duration,onTimeout:this._timeoutCallback,};if('timeoutCallbackArguments'in params){timerParams.onTimeout=this._timeoutCallback.bind.apply(this._timeoutCallback,[null].concat(params.timeoutCallbackArguments));}else{timerParams.onTimeout=this._timeoutCallback;}
this._timers[timerID]=new Timer(timerParams);this._timers[timerID].start();},unregisterTimer:function(params){var timerID=params.timerID;if(this._timers[timerID]){this._timers[timerID].clear();delete this._timers[timerID];}},});return Timers;});odoo.define('im_livechat.legacy.mail.widget.Thread',function(require){"use strict";var DocumentViewer=require('im_livechat.legacy.mail.DocumentViewer');var mailUtils=require('@mail/js/utils');var core=require('web.core');var time=require('web.time');var Widget=require('web.Widget');var QWeb=core.qweb;var _lt=core._lt;var ORDER={ASC:1,DESC:-1,};var READ_MORE=_lt("read more");var READ_LESS=_lt("read less");var ThreadWidget=Widget.extend({className:'o_mail_thread',events:{'click a':'_onClickRedirect','click img':'_onClickRedirect','click strong':'_onClickRedirect','click .o_thread_show_more':'_onClickShowMore','click .o_attachment_download':'_onAttachmentDownload','click .o_attachment_view':'_onAttachmentView','click .o_attachment_delete_cross':'_onDeleteAttachment','click .o_thread_message_needaction':'_onClickMessageNeedaction','click .o_thread_message_star':'_onClickMessageStar','click .o_thread_message_reply':'_onClickMessageReply','click .oe_mail_expand':'_onClickMailExpand','click .o_thread_message':'_onClickMessage','click':'_onClick','click .o_thread_message_notification_error':'_onClickMessageNotificationError','click .o_thread_message_moderation':'_onClickMessageModeration','change .moderation_checkbox':'_onChangeModerationCheckbox',},init:function(parent,options){this._super.apply(this,arguments);this.attachments=[];this._enabledOptions=_.defaults(options||{},{displayOrder:ORDER.ASC,displayMarkAsRead:true,displayModerationCommands:false,displayStars:true,displayDocumentLinks:true,displayAvatars:true,squashCloseMessages:true,displayNotificationIcons:true,displayReplyIcons:false,loadMoreOnScroll:false,hasMessageAttachmentDeletable:false,});this._disabledOptions={displayOrder:this._enabledOptions.displayOrder,displayMarkAsRead:false,displayModerationCommands:false,displayStars:false,displayDocumentLinks:false,displayAvatars:this._enabledOptions.displayAvatars,squashCloseMessages:false,displayNotificationIcons:false,displayReplyIcons:false,loadMoreOnScroll:this._enabledOptions.loadMoreOnScroll,hasMessageAttachmentDeletable:false,};this._selectedMessageID=null;this._currentThreadID=null;this._messageMailPopover=null;this._messageSeenPopover=null;this._openedSeenPopoverIDs=[];},destroy:function(){clearInterval(this._updateTimestampsInterval);if(this._messageMailPopover){this._messageMailPopover.popover('hide');}
if(this._messageSeenPopover){this._messageSeenPopover.popover('hide');}
this._destroyOpenSeenPopoverIDs();this._super();},render:function(thread,options){var self=this;var shouldScrollToBottomAfterRendering=false;if(this._currentThreadID===thread.getID()&&this.isAtBottom()){shouldScrollToBottomAfterRendering=true;}
this._currentThreadID=thread.getID();var messages=_.clone(thread.getMessages({domain:options.domain||[]}));var modeOptions=options.isCreateMode?this._disabledOptions:this._enabledOptions;this.attachments=_.uniq(_.flatten(_.map(messages,function(message){return message.getAttachments();})));options=_.extend({},modeOptions,options,{selectedMessageID:this._selectedMessageID,});var displayAuthorMessages={};var prevMessage;_.each(messages,function(message){if(!prevMessage||(Math.abs(message.getDate().diff(prevMessage.getDate()))>60000)||prevMessage.getType()!=='comment'||message.getType()!=='comment'||(prevMessage.getAuthorID()!==message.getAuthorID())||((prevMessage.isLinkedToDocumentThread()&&message.isLinkedToDocumentThread())&&(prevMessage.getDocumentModel()!==message.getDocumentModel()||prevMessage.getDocumentID()!==message.getDocumentID()))){displayAuthorMessages[message.getID()]=true;}else{displayAuthorMessages[message.getID()]=!options.squashCloseMessages;}
prevMessage=message;});if(modeOptions.displayOrder===ORDER.DESC){messages.reverse();}
this.$el.html(QWeb.render('im_livechat.legacy.mail.widget.Thread',{thread:thread,displayAuthorMessages:displayAuthorMessages,options:options,ORDER:ORDER,dateFormat:time.getLangDatetimeFormat(),}));_.each(messages,function(message){var $message=self.$('.o_thread_message[data-message-id="'+message.getID()+'"]');$message.find('.o_mail_timestamp').data('date',message.getDate());self._insertReadMore($message);});if(shouldScrollToBottomAfterRendering){this.scrollToBottom();}
if(!this._updateTimestampsInterval){this.updateTimestampsInterval=setInterval(function(){self._updateTimestamps();},1000*60);}
this._renderMessageNotificationPopover(messages);if(thread.hasSeenFeature()){this._renderMessageSeenPopover(thread,messages);}},renderLoading:function(){this.$el.html(QWeb.render('im_livechat.legacy.mail.widget.ThreadLoading'));},getScrolltop:function(){return this.$el.scrollTop();},isAtBottom:function(){var fullHeight=this.el.scrollHeight;var topHiddenHeight=this.$el.scrollTop();var visibleHeight=this.$el.outerHeight();var bottomHiddenHeight=fullHeight-topHiddenHeight-visibleHeight;return bottomHiddenHeight<5;},removeMessageAndRender:function(messageID,thread,options){var self=this;this._currentThreadID=thread.getID();return new Promise(function(resolve,reject){self.$('.o_thread_message[data-message-id="'+messageID+'"]').fadeOut({done:function(){if(self._currentThreadID===thread.getID()){self.render(thread,options);}
resolve();},duration:200,});});},scrollToBottom:function(){this.$el.scrollTop(this.el.scrollHeight);},scrollToMessage:function(options){var $target=this.$('.o_thread_message[data-message-id="'+options.messageID+'"]');if(options.onlyIfNecessary){var delta=$target.parent().height()-$target.height();var offset=delta<0?0:delta-($target.offset().top-$target.offsetParent().offset().top);offset=-Math.min(offset,0);this.$el.scrollTo("+="+offset+"px",options.duration);}else if($target.length){this.$el.scrollTo($target);}},scrollToPosition:function(position){if(position){this.$el.scrollTop(position);}else{this.scrollToBottom();}},toggleModerationCheckboxes:function(checked){this.$('.moderation_checkbox').prop('checked',checked);},unselectMessage:function(){this.$('.o_thread_message').removeClass('o_thread_selected_message');this._selectedMessageID=null;},_destroyOpenSeenPopoverIDs:function(){_.each(this._openedSeenPopoverIDs,function(popoverID){$('#'+popoverID).remove();});this._openedSeenPopoverIDs=[];},_insertReadMore:function($element){var self=this;var groups=[];var readMoreNodes;var $children=$element.contents().filter(function(){return this.nodeType===1||this.nodeType===3&&this.nodeValue.trim();});_.each($children,function(child){var $child=$(child);if(child.nodeType===3&&$child.prevAll('[id*="stopSpelling"]').length>0){$child=$('<span>',{text:child.textContent,'data-o-mail-quote':'1',});child.parentNode.replaceChild($child[0],child);}
if($child.attr('data-o-mail-quote')||($child.get(0).nodeName==='BR'&&$child.prev('[data-o-mail-quote="1"]').length>0)){if(!readMoreNodes){readMoreNodes=[];groups.push(readMoreNodes);}
$child.hide();readMoreNodes.push($child);}else{readMoreNodes=undefined;self._insertReadMore($child);}});_.each(groups,function(group){var $readMore=$('<a>',{class:'o_mail_read_more',href:'#',text:READ_MORE,}).insertBefore(group[0]);var isReadMore=true;$readMore.click(function(e){e.preventDefault();isReadMore=!isReadMore;_.each(group,function($child){$child.hide();$child.toggle(!isReadMore);});$readMore.text(isReadMore?READ_MORE:READ_LESS);});});},_onDeleteAttachment:function(ev){ev.stopPropagation();var $target=$(ev.currentTarget);this.trigger_up('delete_attachment',{attachmentId:$target.data('id'),attachmentName:$target.data('name')});},_redirect:_.debounce(function(options){if('channelID'in options){this.trigger('redirect_to_channel',options.channelID);}else{this.trigger('redirect',options.model,options.id);}},500,true),_renderMessageNotificationPopover(messages){if(this._messageMailPopover){this._messageMailPopover.popover('hide');}
if(!this.$('.o_thread_tooltip').length){return;}
this._messageMailPopover=this.$('.o_thread_tooltip').popover({html:true,boundary:'viewport',placement:'auto',trigger:'hover',offset:'0, 1',content:function(){var messageID=$(this).data('message-id');var message=_.find(messages,function(message){return message.getID()===messageID;});return QWeb.render('im_livechat.legacy.mail.widget.Thread.Message.MailTooltip',{notifications:message.getNotifications(),});},});},_renderMessageSeenPopover:function(thread,messages){var self=this;this._destroyOpenSeenPopoverIDs();if(this._messageSeenPopover){this._messageSeenPopover.popover('hide');}
if(!this.$('.o_thread_message_core .o_mail_thread_message_seen_icon').length){return;}
this._messageSeenPopover=this.$('.o_thread_message_core .o_mail_thread_message_seen_icon').popover({html:true,boundary:'viewport',placement:'auto',trigger:'hover',offset:'0, 1',content:function(){var $this=$(this);self._openedSeenPopoverIDs.push($this.attr('aria-describedby'));var messageID=$this.data('message-id');var message=_.find(messages,function(message){return message.getID()===messageID;});return QWeb.render('im_livechat.legacy.mail.widget.Thread.Message.SeenIconPopoverContent',{thread:thread,message:message,});},});},_updateTimestamps:function(){var isAtBottom=this.isAtBottom();this.$('.o_mail_timestamp').each(function(){var date=$(this).data('date');$(this).html(mailUtils.timeFromNow(date));});if(isAtBottom&&!this.isAtBottom()){this.scrollToBottom();}},_onAttachmentDownload:function(event){event.stopPropagation();},_onAttachmentView:function(event){event.stopPropagation();var activeAttachmentID=$(event.currentTarget).data('id');if(activeAttachmentID){var attachmentViewer=new DocumentViewer(this,this.attachments,activeAttachmentID);attachmentViewer.appendTo($('body'));}},_onChangeModerationCheckbox:function(ev){this.trigger_up('update_moderation_buttons');},_onClick:function(){if(this._selectedMessageID){this.unselectMessage();this.trigger('unselect_message');}},_onClickMailExpand:function(ev){ev.preventDefault();},_onClickMessage:function(ev){$(ev.currentTarget).toggleClass('o_thread_selected_message');},_onClickMessageNeedaction:function(ev){var messageID=$(ev.currentTarget).data('message-id');this.trigger('mark_as_read',messageID);},_onClickMessageNotificationError(ev){const messageID=$(ev.currentTarget).data('message-id');this.do_action('mail.mail_resend_message_action',{additional_context:{mail_message_to_resend:messageID,}});},_onClickMessageReply:function(ev){this._selectedMessageID=$(ev.currentTarget).data('message-id');this.$('.o_thread_message').removeClass('o_thread_selected_message');this.$('.o_thread_message[data-message-id="'+this._selectedMessageID+'"]').addClass('o_thread_selected_message');this.trigger('select_message',this._selectedMessageID);ev.stopPropagation();},_onClickMessageStar:function(ev){var messageID=$(ev.currentTarget).data('message-id');this.trigger('toggle_star_status',messageID);},_onClickMessageModeration:function(ev){var $button=$(ev.currentTarget);var messageID=$button.data('message-id');var decision=$button.data('decision');this.trigger_up('message_moderation',{messageID:messageID,decision:decision,});},_onClickRedirect:function(ev){if($(ev.target).data('oe-field')!==undefined){return;}
var id=$(ev.target).data('oe-id');if(id){ev.preventDefault();var model=$(ev.target).data('oe-model');var options;if(model&&(model!=='mail.channel')){options={model:model,id:id};}else{options={channelID:id};}
this._redirect(options);}},_onClickShowMore:function(){this.trigger('load_more_messages');},});ThreadWidget.ORDER=ORDER;return ThreadWidget;});odoo.define('im_livechat.legacy.mail.DocumentViewer',function(require){"use strict";var core=require('web.core');var Widget=require('web.Widget');var{hidePDFJSButtons}=require('@web/legacy/js/libs/pdfjs');var QWeb=core.qweb;var SCROLL_ZOOM_STEP=0.1;var ZOOM_STEP=0.5;var DocumentViewer=Widget.extend({template:"im_livechat.legacy.mail.DocumentViewer",events:{'click .o_download_btn':'_onDownload','click .o_viewer_img':'_onImageClicked','click .o_viewer_video':'_onVideoClicked','click .move_next':'_onNext','click .move_previous':'_onPrevious','click .o_rotate':'_onRotate','click .o_zoom_in':'_onZoomIn','click .o_zoom_out':'_onZoomOut','click .o_zoom_reset':'_onZoomReset','click .o_close_btn, .o_viewer_img_wrapper':'_onClose','click .o_print_btn':'_onPrint','DOMMouseScroll .o_viewer_content':'_onScroll','mousewheel .o_viewer_content':'_onScroll','keydown':'_onKeydown','keyup':'_onKeyUp','mousedown .o_viewer_img':'_onStartDrag','mousemove .o_viewer_content':'_onDrag','mouseup .o_viewer_content':'_onEndDrag'},init:function(parent,attachments,activeAttachmentID){this._super.apply(this,arguments);this.attachment=_.filter(attachments,function(attachment){var match=attachment.type==='url'?attachment.url.match("(youtu|.png|.jpg|.gif)"):attachment.mimetype.match("(image|video|application/pdf|text)");if(match){attachment.fileType=match[1];if(match[1].match("(.png|.jpg|.gif)")){attachment.fileType='image';}
if(match[1]==='youtu'){var youtube_array=attachment.url.split('/');var youtube_token=youtube_array[youtube_array.length-1];if(youtube_token.indexOf('watch')!==-1){youtube_token=youtube_token.split('v=')[1];var amp=youtube_token.indexOf('&');if(amp!==-1){youtube_token=youtube_token.substring(0,amp);}}
attachment.youtube=youtube_token;}
return true;}});this.activeAttachment=_.findWhere(attachments,{id:activeAttachmentID});this.modelName='ir.attachment';this._reset();},start:function(){this.$el.modal('show');this.$el.on('hidden.bs.modal',_.bind(this._onDestroy,this));this.$('.o_viewer_img').on("load",_.bind(this._onImageLoaded,this));this.$('[data-toggle="tooltip"]').tooltip({delay:0});return this._super.apply(this,arguments);},destroy:function(){if(this.isDestroyed()){return;}
this.trigger_up('document_viewer_closed');this.$el.modal('hide');this.$el.remove();this._super.apply(this,arguments);},_next:function(){var index=_.findIndex(this.attachment,this.activeAttachment);index=(index+1)%this.attachment.length;this.activeAttachment=this.attachment[index];this._updateContent();},_previous:function(){var index=_.findIndex(this.attachment,this.activeAttachment);index=index===0?this.attachment.length-1:index-1;this.activeAttachment=this.attachment[index];this._updateContent();},_reset:function(){this.scale=1;this.dragStartX=this.dragstopX=0;this.dragStartY=this.dragstopY=0;},_updateContent:function(){this.$('.o_viewer_content').html(QWeb.render('im_livechat.legacy.mail.DocumentViewer.Content',{widget:this}));if(this.activeAttachment.fileType==='application/pdf'){hidePDFJSButtons(this.$('.o_viewer_content')[0]);}
this.$('.o_viewer_img').on("load",_.bind(this._onImageLoaded,this));this.$('[data-toggle="tooltip"]').tooltip({delay:0});this._reset();},_getTransform:function(scale,angle){return'scale3d('+scale+', '+scale+', 1) rotate('+angle+'deg)';},_rotate:function(angle){this._reset();var new_angle=(this.angle||0)+angle;this.$('.o_viewer_img').css('transform',this._getTransform(this.scale,new_angle));this.$('.o_viewer_img').css('max-width',new_angle%180!==0?$(document).height():'100%');this.$('.o_viewer_img').css('max-height',new_angle%180!==0?$(document).width():'100%');this.angle=new_angle;},_zoom:function(scale){if(scale>0.5){this.$('.o_viewer_img').css('transform',this._getTransform(scale,this.angle||0));this.scale=scale;}
this.$('.o_zoom_reset').add('.o_zoom_out').toggleClass('disabled',scale===1);},_onClose:function(e){e.preventDefault();this.destroy();},_onDestroy:function(){this.destroy();},_onDownload:function(e){e.preventDefault();window.location='/web/content/'+this.modelName+'/'+this.activeAttachment.id+'/'+'datas'+'?download=true';},_onDrag:function(e){e.preventDefault();if(this.enableDrag){var $image=this.$('.o_viewer_img');var $zoomer=this.$('.o_viewer_zoomer');var top=$image.prop('offsetHeight')*this.scale>$zoomer.height()?e.clientY-this.dragStartY:0;var left=$image.prop('offsetWidth')*this.scale>$zoomer.width()?e.clientX-this.dragStartX:0;$zoomer.css("transform","translate3d("+left+"px, "+top+"px, 0)");$image.css('cursor','move');}},_onEndDrag:function(e){e.preventDefault();if(this.enableDrag){this.enableDrag=false;this.dragstopX=e.clientX-this.dragStartX;this.dragstopY=e.clientY-this.dragStartY;this.$('.o_viewer_img').css('cursor','');}},_onImageClicked:function(e){e.stopPropagation();},_onImageLoaded:function(){this.$('.o_loading_img').hide();},_onKeydown:function(e){switch(e.which){case $.ui.keyCode.RIGHT:e.preventDefault();this._next();break;case $.ui.keyCode.LEFT:e.preventDefault();this._previous();break;}},_onKeyUp:function(e){switch(e.which){case $.ui.keyCode.ESCAPE:e.preventDefault();this._onClose(e);break;}},_onNext:function(e){e.preventDefault();this._next();},_onPrevious:function(e){e.preventDefault();this._previous();},_onPrint:function(e){e.preventDefault();var src=this.$('.o_viewer_img').prop('src');var script=QWeb.render('im_livechat.legacy.mail.PrintImage',{src:src});var printWindow=window.open('about:blank',"_new");printWindow.document.open();printWindow.document.write(script);printWindow.document.close();},_onScroll:function(e){var scale;if(e.originalEvent.wheelDelta>0||e.originalEvent.detail<0){scale=this.scale+SCROLL_ZOOM_STEP;this._zoom(scale);}else{scale=this.scale-SCROLL_ZOOM_STEP;this._zoom(scale);}},_onStartDrag:function(e){e.preventDefault();this.enableDrag=true;this.dragStartX=e.clientX-(this.dragstopX||0);this.dragStartY=e.clientY-(this.dragstopY||0);},_onVideoClicked:function(e){e.stopPropagation();var videoElement=e.target;if(videoElement.paused){videoElement.play();}else{videoElement.pause();}},_onRotate:function(e){e.preventDefault();this._rotate(90);},_onZoomIn:function(e){e.preventDefault();var scale=this.scale+ZOOM_STEP;this._zoom(scale);},_onZoomOut:function(e){e.preventDefault();var scale=this.scale-ZOOM_STEP;this._zoom(scale);},_onZoomReset:function(e){e.preventDefault();this.$('.o_viewer_zoomer').css("transform","");this._zoom(1);},});return DocumentViewer;});;

/* /website_livechat/static/src/legacy/public_livechat.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_livechat.legacy.website_livechat.livechat_request',function(require){"use strict";var utils=require('web.utils');var session=require('web.session');var LivechatButton=require('im_livechat.legacy.im_livechat.im_livechat').LivechatButton;LivechatButton.include({className:`${LivechatButton.prototype.className} o_bottom_fixed_element`,willStart:function(){if(this.options.chat_request_session){utils.set_cookie('im_livechat_session',JSON.stringify(this.options.chat_request_session),60*60);}
return this._super();},start(){$(window).trigger('resize');return this._super(...arguments);},_onCloseChatWindow:function(ev){this._super(ev);var cookie=utils.get_cookie('im_livechat_session');if(cookie){var channel=JSON.parse(cookie);session.rpc('/im_livechat/visitor_leave_session',{uuid:channel.uuid});utils.set_cookie('im_livechat_session',"",-1);}},});return{LivechatButton:LivechatButton,};});;

/* /website_enterprise/static/src/js/website_enterprise.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.home_menu',function(require){'use strict';var session=require('web.session');var websiteNavbarData=require('website.navbar');websiteNavbarData.WebsiteNavbar.include({events:_.extend({},websiteNavbarData.WebsiteNavbar.prototype.events||{},{'click .o_menu_toggle':'_onMenuToggleClick',}),_onMenuToggleClick:function(ev){ev.preventDefault();var $button=$(ev.currentTarget);if(!$button.hasClass('fa')){return;}
$button.removeClass('fa fa-th').append($('<span/>',{'class':'fa fa-spin fa-circle-o-notch'}));var url='/web#home';window.location.href=url;},});});;

/* /website_event_stand/static/src/js/event_stand.js defined in bundle 'web.assets_frontend_lazy' */
"use strict";odoo.define('website_event_stand.website_event_stand',function(require){$(document).ready(function(){var ajax=require('web.ajax');function update_total_data(data){var quantity=parseInt($('#slot_number').val());var total=data.price+data.price_upsell*(quantity-1);$('.o_total').html(total);$('.o_total_one').html(data.price);$('.o_total_upsell').html(data.price_upsell);$('.o_product_price').html(data.price_product);$('.o_total_balance').html(total-data.price_product);}
function update_total(){var type_id=$("input[type=radio][name=type_id]:checked");if(type_id){ajax.jsonRpc("/event/stands/onchange",'call',{'type_id':parseInt(type_id.val()),'stand_id':false}).then(update_total_data);}}
function update_data(event){var type_id=$("input[type=radio][name=type_id]:checked");var stand_id;if(event.data.refresh_stands){stand_id=false;}else{stand_id=parseInt($("select#stand_id").val());}
var type_id_val=parseInt(type_id.val());if(!type_id_val){return false;}
ajax.jsonRpc("/event/stands/onchange",'call',{'type_id':parseInt(type_id.val()),'stand_id':stand_id}).then(function(data){$('#stand-description').html(data.description);if(data.show_slot){$('.slots,.o_add').show();var opt=data.slots.map(function(x){if(x[2]){return'<option value="'+x[0]+'">'+x[1]+'</option>\n';}
return'<option value="'+x[0]+'" disabled="1">'+x[1]+' (sold)</option>\n';});$('select.slot_id').html(opt.join('\n'));}else{$('.slots,.o_add').hide();$('#slot_number').val(1);$('.o_extra_slot').remove();}
if(event.data.refresh_stands){var opt=data.stands.map(function(x){if(x[2]){return'<option value="'+x[0]+'">'+x[1]+'</option>\n';}
return'<option value="'+x[0]+'" disabled="1">'+x[1]+' (sold)</option>\n';});$('select#stand_id').html(opt.join('\n'));}
update_total_data(data);});if(type_id_val>1){$('#promo_message').removeClass('d-none');}else{$('#promo_message').addClass('d-none');}}
if($("#exhibitor-registration")){update_data({data:{refresh_stands:true}});$("input.o_type_id").change({refresh_stands:true},update_data);$("select#stand_id").change({refresh_stands:false},update_data);$("a#o_add_track").on('click',function(event){$('#slot_number').val(parseInt($('#slot_number').val())+1);var self=$('#main_slot .slots:first').clone().addClass('o_extra_slot').appendTo('#main_slot');self.append('<div class="col-lg-1 mt8"><a href="#" class="o_close"><b>&times;</b></a></div>').find('.o_close').click(function(event){$('#slot_number').val(parseInt($('#slot_number').val())-1);self.remove();update_total();event.preventDefault();});update_total();$('.track_title').each(function(index){$(this).attr('name','track_title_'+index);});$('.slot_id').each(function(index){$(this).attr('name','slot_id_'+index);});event.preventDefault();});}});});;

/* /website_event_track_live/static/src/js/website_event_track_replay_suggestion.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_track_live.website_event_track_replay_suggestion',function(require){'use strict';var Widget=require('web.Widget');var WebsiteEventReplaySuggestion=Widget.extend({template:'website_event_track_live.website_event_track_replay_suggestion',xmlDependencies:['/website_event_track_live/static/src/xml/website_event_track_live_templates.xml'],events:{'click .owevent_track_suggestion_replay':'_onReplayClick'},init:function(parent,options){this._super(...arguments);this.currentTrack={'name':options.current_track.name,'imageSrc':options.current_track.website_image_url,};},_onReplayClick:function(){this.trigger_up('replay');this.destroy();}});return WebsiteEventReplaySuggestion;});;

/* /website_event_track_live/static/src/js/website_event_track_suggestion.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_track_live.website_event_track_suggestion',function(require){'use strict';var Widget=require('web.Widget');var WebsiteEventTrackSuggestion=Widget.extend({template:'website_event_track_live.website_event_track_suggestion',xmlDependencies:['/website_event_track_live/static/src/xml/website_event_track_live_templates.xml'],events:{'click .owevent_track_suggestion_next':'_onNextTrackClick','click .owevent_track_suggestion_close':'_onCloseClick','click .owevent_track_suggestion_replay':'_onReplayClick'},init:function(parent,options){this._super(...arguments);this.currentTrack={'name':options.current_track.name,'imageSrc':options.current_track.website_image_url,};this.suggestion={'name':options.suggestion.name,'speakerName':options.suggestion.speaker_name,'trackUrl':options.suggestion.website_url,};},start:function(){var self=this;this._super(...arguments).then(function(){var secondsLeft=parseInt(self.$('.owevent_track_suggestion_timer_text').text());secondsLeft+=Math.floor(Math.random()*30);self.$('.owevent_track_suggestion_timer_text').text(secondsLeft);self.timerInterval=setInterval(self._updateTimer.bind(self),1000);});},_onReplayClick:function(){this.trigger_up('replay');clearInterval(this.timerInterval);this.destroy();},_onCloseClick:function(){clearInterval(this.timerInterval);this.$('.owevent_track_suggestion_next').addClass('invisible');},_onNextTrackClick:function(ev){if($(ev.target).hasClass('owevent_track_suggestion_close')){return;}
window.location=this.suggestion.trackUrl;},_updateTimer:function(){var secondsLeft=parseInt(this.$('.owevent_track_suggestion_timer_text').text());if(secondsLeft>1){secondsLeft-=1;this.$('.owevent_track_suggestion_timer_text').text(secondsLeft);}else{window.location=this.suggestion.trackUrl;}}});return WebsiteEventTrackSuggestion;});;

/* /website_event_track_live/static/src/js/website_event_track_live.js defined in bundle 'web.assets_frontend_lazy' */
var onYouTubeIframeAPIReady;odoo.define('website_event_track_live.website_event_youtube_embed',function(require){'use strict';var publicWidget=require('web.public.widget');var TrackSuggestionWidget=require('website_event_track_live.website_event_track_suggestion');var ReplaySuggestionWidget=require('website_event_track_live.website_event_track_replay_suggestion');publicWidget.registry.websiteEventTrackLive=publicWidget.Widget.extend({selector:'.o_wevent_event_track_live',custom_events:_.extend({},publicWidget.Widget.prototype.custom_events,{'video-ended':'_onVideoEnded'}),start:function(){var self=this;return this._super(...arguments).then(function(){self._setupYoutubePlayer();});},_onPlayerReady:function(){this.$('.o_wevent_event_track_live_loading').remove();},_onPlayerStateChange:function(event){switch(event.data){case YT.PlayerState.ENDED:this.trigger('video-ended');return;case YT.PlayerState.PLAYING:this.trigger('video-playing');return;case YT.PlayerState.PAUSED:this.trigger('video-paused');return;};},_onVideoEnded:function(){this.$el.append($('<div/>',{class:'owevent_track_suggestion_loading position-absolute w-100'}));var self=this;this._rpc({route:'/event_track/get_track_suggestion',params:{track_id:this.$el.data('trackId'),}}).then(function(suggestion){self.nextSuggestion=suggestion;self._showSuggestion();});},_onReplay:function(){this.youtubePlayer.seekTo(0);this.youtubePlayer.playVideo();this.$('.owevent_track_suggestion_loading').remove();if(this.outro){delete this.outro;}},_setupYoutubePlayer:function(){var self=this;var youtubeId=self.$el.data('youtubeVideoId');var $youtubeElement=$('<script/>',{src:'https://www.youtube.com/iframe_api'});$(document.head).append($youtubeElement);onYouTubeIframeAPIReady=function(){self.youtubePlayer=new YT.Player('o_wevent_youtube_iframe_container',{height:'100%',width:'100%',videoId:youtubeId,playerVars:{autoplay:1,enablejsapi:1,rel:0,origin:window.location.origin,widget_referrer:window.location.origin,},events:{'onReady':self._onPlayerReady.bind(self),'onStateChange':self._onPlayerStateChange.bind(self)}});};},_showSuggestion:function(){if(!this.outro){if(this.nextSuggestion){this.outro=new TrackSuggestionWidget(this,this.nextSuggestion);}else{var data=this.$el.data();this.outro=new ReplaySuggestionWidget(this,{current_track:{name:data.trackName,website_image_url:data.trackWebsiteImageUrl}});}
this.outro.appendTo(this.$el);this.outro.on('replay',null,this._onReplay.bind(this));}}});});;

/* /website_event_track_quiz/static/src/js/event_quiz.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_track_quiz.event.quiz',function(require){'use strict';var publicWidget=require('web.public.widget');var core=require('web.core');var session=require('web.session');var utils=require('web.utils');var QWeb=core.qweb;var _t=core._t;var Quiz=publicWidget.Widget.extend({template:'quiz.main',xmlDependencies:['/website_event_track_quiz/static/src/xml/quiz_templates.xml'],events:{"click .o_quiz_quiz_answer":'_onAnswerClick',"click .o_quiz_js_quiz_submit":'_submitQuiz',"click .o_quiz_js_quiz_reset":'_onClickReset',},init:function(parent,data,quizData){this._super.apply(this,arguments);this.track=_.defaults(data,{id:0,name:'',eventId:'',completed:false,isMember:false,progressBar:false,isEventUser:false,repeatable:false});this.quiz=quizData||false;if(this.quiz){this.quiz.questionsCount=quizData.questions.length;}
this.isMember=data.isMember||false;this.userId=session.user_id;this.redirectURL=encodeURIComponent(document.URL);},willStart:function(){var defs=[this._super.apply(this,arguments)];if(!this.quiz){defs.push(this._fetchQuiz());}
return Promise.all(defs);},start:function(){var self=this;return this._super.apply(this,arguments).then(function(){self._renderValidationInfo();});},_alertShow:function(alertCode){var message=_t('There was an error validating this quiz.');if(alertCode==='quiz_incomplete'){message=_t('All questions must be answered !');}else if(alertCode==='quiz_done'){message=_t('This quiz is already done. Retaking it is not possible.');}
this.displayNotification({type:'warning',title:_t('Quiz validation error'),message:message,sticky:true});},_disableAnswers:function(){this.$('.o_quiz_js_quiz_question').addClass('completed-disabled');this.$('input[type=radio]').prop('disabled',true);},_enableAnswers:function(){this.$('.o_quiz_js_quiz_question').removeClass('completed-disabled');this.$('input[type=radio]').prop('disabled',false);},_getQuestionsIds:function(){return this.$('.o_quiz_js_quiz_question').map(function(){return $(this).data('question-id');}).get();},_getQuizAnswers:function(){return this.$('input[type=radio]:checked').map(function(index,element){return parseInt($(element).val());}).get();},_renderAnswersHighlightingAndComments:function(){var self=this;this.$('.o_quiz_js_quiz_question').each(function(){var $question=$(this);var questionId=$question.data('questionId');var answer=self.quiz.answers[questionId];$question.find('a.o_quiz_quiz_answer').each(function(){var $answer=$(this);$answer.find('i.fa').addClass('d-none');if($answer.find('input[type=radio]').is(':checked')){if(answer.is_correct){$answer.find('i.fa-check-circle').removeClass('d-none');}else{$answer.find('label input').prop('checked',false);$answer.find('i.fa-times-circle').removeClass('d-none');}
if(answer.awarded_points>0){var $badge=QWeb.render('quiz.badge',{'answer':answer});$answer.append($badge);}}else{$answer.find('i.fa-circle').removeClass('d-none');}});var $list=$question.find('.list-group');var $comment=QWeb.render('quiz.comment',{'answer':answer});$list.append($comment);});},_renderValidationInfo:function(){var $validationElem=this.$('.o_quiz_js_quiz_validation');$validationElem.html(QWeb.render('quiz.validation',{'widget':this}));},_resetQuiz:function(){this.$('.o_quiz_js_quiz_question').each(function(){var $question=$(this);$question.find('a.o_quiz_quiz_answer').each(function(){var $answer=$(this);$answer.find('i.fa').addClass('d-none');$answer.find('i.fa-circle').removeClass('d-none');$answer.find('span.badge').remove();$answer.find('input[type=radio]').prop('checked',false);});var $info=$question.find('.o_quiz_quiz_answer_info');$info.remove();});this.track.completed=false;this._enableAnswers();this._renderValidationInfo();},_submitQuiz:function(){var self=this;return this._rpc({route:'/event_track/quiz/submit',params:{event_id:self.track.eventId,track_id:self.track.id,answer_ids:this._getQuizAnswers(),}}).then(function(data){if(data.error){self._alertShow(data.error);}else{self.quiz=_.extend(self.quiz,data);self.quiz.quizPointsGained=data.quiz_points;if(data.quiz_completed){self._disableAnswers();self.track.completed=data.quiz_completed;}
self._renderAnswersHighlightingAndComments();self._renderValidationInfo();if(data.visitor_uuid){utils.set_cookie('visitor_uuid',data.visitor_uuid);}}
return Promise.resolve(data);});},_onAnswerClick:function(ev){ev.preventDefault();if(!this.track.completed){$(ev.currentTarget).find('input[type=radio]').prop('checked',true);}},_onClickReset:function(){this._rpc({route:'/event_track/quiz/reset',params:{event_id:this.track.eventId,track_id:this.track.id}}).then(this._resetQuiz.bind(this));},});publicWidget.registry.Quiz=publicWidget.Widget.extend({selector:'.o_quiz_main',start:function(){var self=this;this.quizWidgets=[];var defs=[this._super.apply(this,arguments)];this.$('.o_quiz_js_quiz').each(function(){var data=$(this).data();data.quizData={questions:self._extractQuestionsAndAnswers(),sessionAnswers:data.sessionAnswers||[],quizKarmaMax:data.quizKarmaMax,quizKarmaWon:data.quizKarmaWon,quizKarmaGain:data.quizKarmaGain,quizPointsGained:data.quizPointsGained,quizAttemptsCount:data.quizAttemptsCount,};defs.push(new Quiz(self,data,data.quizData).attachTo($(this)));});return Promise.all(defs);},_extractQuestionsAndAnswers:function(){var questions=[];this.$('.o_quiz_js_quiz_question').each(function(){var $question=$(this);var answers=[];$question.find('.o_quiz_quiz_answer').each(function(){var $answer=$(this);answers.push({id:$answer.data('answerId'),text:$answer.data('text'),});});questions.push({id:$question.data('questionId'),title:$question.data('title'),answer_ids:answers,});});return questions;},});return Quiz;});;

/* /website_event_track_quiz/static/src/js/event_quiz_leaderboard.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_track_quiz.event_leaderboard',function(require){'use strict';var publicWidget=require('web.public.widget');publicWidget.registry.EventLeaderboard=publicWidget.Widget.extend({selector:'.o_wevent_quiz_leaderboard',start:function(){var self=this;return this._super(...arguments).then(function(){var $scrollTo=self.$('.o_wevent_quiz_scroll_to');if($scrollTo.length!==0){var offset=$('.o_header_standard').height();var $appMenu=$('.o_main_navbar');if($appMenu.length!==0){offset+=$appMenu.height();}
window.scrollTo({top:$scrollTo.offset().top-offset,behavior:'smooth'});}});}});return publicWidget.registry.EventLeaderboard;});;

/* /website_event_track_live_quiz/static/src/js/event_quiz.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_track_live_quiz.event_quiz',function(require){'use strict';var Quiz=require('website_event_track_quiz.event.quiz');var WebsiteEventTrackSuggestionQuiz=Quiz.include({xmlDependencies:Quiz.prototype.xmlDependencies.concat(['/website_event_track_live_quiz/static/src/xml/website_event_track_quiz_templates.xml',]),willStart:function(){return Promise.all([this._super(...arguments),this._getTrackSuggestion()]);},_submitQuiz:function(){var self=this;return this._super(...arguments).then(function(data){if(data.quiz_completed){self.$('.o_quiz_js_quiz_next_track').removeClass('btn-light').addClass('btn-secondary');}
return Promise.resolve(data);});},_getTrackSuggestion:function(){var self=this;return this._rpc({route:'/event_track/get_track_suggestion',params:{track_id:this.track.id,}}).then(function(suggestion){self.nextSuggestion=suggestion;return Promise.resolve();});}});return WebsiteEventTrackSuggestionQuiz;});;

/* /website_event_track_live_quiz/static/src/js/website_event_track_suggestion.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_track_live_quiz.website_event_track_suggestion',function(require){'use strict';var WebsiteEventTrackSuggestion=require('website_event_track_live.website_event_track_suggestion');var WebsiteEventTrackSuggestionLiveQuiz=WebsiteEventTrackSuggestion.include({xmlDependencies:WebsiteEventTrackSuggestion.prototype.xmlDependencies.concat(['/website_event_track_live_quiz/static/src/xml/website_event_track_live_templates.xml',]),events:_.extend({},WebsiteEventTrackSuggestion.prototype.events,{'click .owevent_track_suggestion_quiz':'_onQuizClick'}),init:function(parent,options){this._super(...arguments);this.currentTrack.showQuiz=options.current_track.show_quiz;},_onQuizClick:function(){clearInterval(this.timerInterval);this.$('.owevent_track_suggestion_timer_text_wrapper').remove();}});return WebsiteEventTrackSuggestionLiveQuiz;});;

/* /website_links/static/src/js/website_links.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_links.website_links',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var _t=core._t;var SelectBox=publicWidget.Widget.extend({events:{'change':'_onChange',},init:function(parent,obj,placeholder){this._super.apply(this,arguments);this.obj=obj;this.placeholder=placeholder;},willStart:function(){var self=this;var defs=[this._super.apply(this,arguments)];defs.push(this._rpc({model:this.obj,method:'search_read',params:{fields:['id','name'],},}).then(function(result){self.objects=_.map(result,function(val){return{id:val.id,text:val.name};});}));return Promise.all(defs);},start:function(){var self=this;this.$el.select2({placeholder:self.placeholder,allowClear:true,createSearchChoice:function(term){if(self._objectExists(term)){return null;}
return{id:term,text:_.str.sprintf("Create '%s'",term)};},createSearchChoicePosition:'bottom',multiple:false,data:self.objects,minimumInputLength:self.objects.length>100?3:0,});},_objectExists:function(query){return _.find(this.objects,function(val){return val.text.toLowerCase()===query.toLowerCase();})!==undefined;},_createObject:function(name){var self=this;var args={name:name};if(this.obj==="utm.campaign"){args.is_auto_campaign=true;}
return this._rpc({model:this.obj,method:'create',args:[args],}).then(function(record){self.$el.attr('value',record);self.objects.push({'id':record,'text':name});});},_onChange:function(ev){if(!ev.added||!_.isString(ev.added.id)){return;}
this._createObject(ev.added.id);},});var RecentLinkBox=publicWidget.Widget.extend({template:'website_links.RecentLink',xmlDependencies:['/website_links/static/src/xml/recent_link.xml'],events:{'click .btn_shorten_url_clipboard':'_toggleCopyButton','click .o_website_links_edit_code':'_editCode','click .o_website_links_ok_edit':'_onLinksOkClick','click .o_website_links_cancel_edit':'_onLinksCancelClick','submit #o_website_links_edit_code_form':'_onSubmitCode',},init:function(parent,obj){this._super.apply(this,arguments);this.link_obj=obj;this.animating_copy=false;},start:function(){new ClipboardJS(this.$('.btn_shorten_url_clipboard').get(0));return this._super.apply(this,arguments);},_toggleCopyButton:function(){if(this.animating_copy){return;}
var self=this;this.animating_copy=true;var top=this.$('.o_website_links_short_url').position().top;this.$('.o_website_links_short_url').clone().css('position','absolute').css('left',15).css('top',top-2).css('z-index',2).removeClass('o_website_links_short_url').addClass('animated-link').insertAfter(this.$('.o_website_links_short_url')).animate({opacity:0,top:'-=20',},500,function(){self.$('.animated-link').remove();self.animating_copy=false;});},_notification:function(message){this.$('.notification').append('<strong>'+message+'</strong>');},_editCode:function(){var initCode=this.$('#o_website_links_code').html();this.$('#o_website_links_code').html('<form style="display:inline;" id="o_website_links_edit_code_form"><input type="hidden" id="init_code" value="'+initCode+'"/><input type="text" id="new_code" value="'+initCode+'"/></form>');this.$('.o_website_links_edit_code').hide();this.$('.copy-to-clipboard').hide();this.$('.o_website_links_edit_tools').show();},_cancelEdit:function(){this.$('.o_website_links_edit_code').show();this.$('.copy-to-clipboard').show();this.$('.o_website_links_edit_tools').hide();this.$('.o_website_links_code_error').hide();var oldCode=this.$('#o_website_links_edit_code_form #init_code').val();this.$('#o_website_links_code').html(oldCode);this.$('#code-error').remove();this.$('#o_website_links_code form').remove();},_submitCode:function(){var self=this;var initCode=this.$('#o_website_links_edit_code_form #init_code').val();var newCode=this.$('#o_website_links_edit_code_form #new_code').val();if(newCode===''){self.$('.o_website_links_code_error').html(_t("The code cannot be left empty"));self.$('.o_website_links_code_error').show();return;}
function showNewCode(newCode){self.$('.o_website_links_code_error').html('');self.$('.o_website_links_code_error').hide();self.$('#o_website_links_code form').remove();var host=self.$('#o_website_links_host').html();self.$('#o_website_links_code').html(newCode);self.$('.btn_shorten_url_clipboard').attr('data-clipboard-text',host+newCode);self.$('.o_website_links_edit_code').show();self.$('.copy-to-clipboard').show();self.$('.o_website_links_edit_tools').hide();}
if(initCode===newCode){showNewCode(newCode);}else{this._rpc({route:'/website_links/add_code',params:{init_code:initCode,new_code:newCode,},}).then(function(result){showNewCode(result[0].code);},function(){self.$('.o_website_links_code_error').show();self.$('.o_website_links_code_error').html(_t("This code is already taken"));});}},_onLinksOkClick:function(ev){ev.preventDefault();this._submitCode();},_onLinksCancelClick:function(ev){ev.preventDefault();this._cancelEdit();},_onSubmitCode:function(ev){ev.preventDefault();this._submitCode();},});var RecentLinks=publicWidget.Widget.extend({getRecentLinks:function(filter){var self=this;return this._rpc({route:'/website_links/recent_links',params:{filter:filter,limit:20,},}).then(function(result){_.each(result.reverse(),function(link){self._addLink(link);});self._updateNotification();},function(){var message=_t("Unable to get recent links");self.$el.append('<div class="alert alert-danger">'+message+'</div>');});},_addLink:function(link){var nbLinks=this.getChildren().length;var recentLinkBox=new RecentLinkBox(this,link);recentLinkBox.prependTo(this.$el);$('.link-tooltip').tooltip();if(nbLinks===0){this._updateNotification();}},removeLinks:function(){_.invoke(this.getChildren(),'destroy');},_updateNotification:function(){if(this.getChildren().length===0){var message=_t("You don't have any recent links.");$('.o_website_links_recent_links_notification').html('<div class="alert alert-info">'+message+'</div>');}else{$('.o_website_links_recent_links_notification').empty();}},});publicWidget.registry.websiteLinks=publicWidget.Widget.extend({selector:'.o_website_links_create_tracked_url',events:{'click #filter-newest-links':'_onFilterNewestLinksClick','click #filter-most-clicked-links':'_onFilterMostClickedLinksClick','click #filter-recently-used-links':'_onFilterRecentlyUsedLinksClick','click #generated_tracked_link a':'_onGeneratedTrackedLinkClick','keyup #url':'_onUrlKeyUp','click #btn_shorten_url':'_onShortenUrlButtonClick','submit #o_website_links_link_tracker_form':'_onFormSubmit',},start:function(){var defs=[this._super.apply(this,arguments)];var campaignSelect=new SelectBox(this,'utm.campaign',_t("e.g. Promotion of June, Winter Newsletter, .."));defs.push(campaignSelect.attachTo($('#campaign-select')));var mediumSelect=new SelectBox(this,'utm.medium',_t("e.g. Newsletter, Social Network, .."));defs.push(mediumSelect.attachTo($('#channel-select')));var sourceSelect=new SelectBox(this,'utm.source',_t("e.g. Search Engine, Website page, .."));defs.push(sourceSelect.attachTo($('#source-select')));this.recentLinks=new RecentLinks(this);defs.push(this.recentLinks.appendTo($('#o_website_links_recent_links')));this.recentLinks.getRecentLinks('newest');new ClipboardJS($('#btn_shorten_url').get(0));this.url_copy_animating=false;$('[data-toggle="tooltip"]').tooltip();return Promise.all(defs);},_onFilterNewestLinksClick:function(){this.recentLinks.removeLinks();this.recentLinks.getRecentLinks('newest');},_onFilterMostClickedLinksClick:function(){this.recentLinks.removeLinks();this.recentLinks.getRecentLinks('most-clicked');},_onFilterRecentlyUsedLinksClick:function(){this.recentLinks.removeLinks();this.recentLinks.getRecentLinks('recently-used');},_onGeneratedTrackedLinkClick:function(){$('#generated_tracked_link a').text(_t("Copied")).removeClass('btn-primary').addClass('btn-success');setTimeout(function(){$('#generated_tracked_link a').text(_t("Copy")).removeClass('btn-success').addClass('btn-primary');},5000);},_onUrlKeyUp:function(ev){if(!$('#btn_shorten_url').hasClass('btn-copy')||ev.which===13){return;}
$('#btn_shorten_url').removeClass('btn-success btn-copy').addClass('btn-primary').html('Get tracked link');$('#generated_tracked_link').css('display','none');$('.o_website_links_utm_forms').show();},_onShortenUrlButtonClick:function(){if(!$('#btn_shorten_url').hasClass('btn-copy')||this.url_copy_animating){return;}
var self=this;this.url_copy_animating=true;$('#generated_tracked_link').clone().css('position','absolute').css('left','78px').css('bottom','8px').css('z-index',2).removeClass('#generated_tracked_link').addClass('url-animated-link').appendTo($('#generated_tracked_link')).animate({opacity:0,bottom:'+=20',},500,function(){$('.url-animated-link').remove();self.url_copy_animating=false;});},_onFormSubmit:function(ev){var self=this;ev.preventDefault();if($('#btn_shorten_url').hasClass('btn-copy')){return;}
ev.stopPropagation();var campaignID=$('#campaign-select').attr('value');var mediumID=$('#channel-select').attr('value');var sourceID=$('#source-select').attr('value');var params={};params.url=$('#url').val();if(campaignID!==''){params.campaign_id=parseInt(campaignID);}
if(mediumID!==''){params.medium_id=parseInt(mediumID);}
if(sourceID!==''){params.source_id=parseInt(sourceID);}
$('#btn_shorten_url').text(_t("Generating link..."));this._rpc({route:'/website_links/new',params:params,}).then(function(result){if('error'in result){if(result.error==='empty_url'){$('.notification').html('<div class="alert alert-danger">The URL is empty.</div>');}else if(result.error==='url_not_found'){$('.notification').html('<div class="alert alert-danger">URL not found (404)</div>');}else{$('.notification').html('<div class="alert alert-danger">An error occur while trying to generate your link. Try again later.</div>');}}else{var link=result[0];$('#btn_shorten_url').removeClass('btn-primary').addClass('btn-success btn-copy').html('Copy');$('#btn_shorten_url').attr('data-clipboard-text',link.short_url);$('.notification').html('');$('#generated_tracked_link').html(link.short_url);$('#generated_tracked_link').css('display','inline');self.recentLinks._addLink(link);$('#campaign-select').select2('val','');$('#channel-select').select2('val','');$('#source-select').select2('val','');$('.o_website_links_utm_forms').hide();}});},});return{SelectBox:SelectBox,RecentLinkBox:RecentLinkBox,RecentLinks:RecentLinks,};});;

/* /website_links/static/src/js/website_links_code_editor.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_links.code_editor',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var _t=core._t;publicWidget.registry.websiteLinksCodeEditor=publicWidget.Widget.extend({selector:'#wrapwrap:has(.o_website_links_edit_code)',events:{'click .o_website_links_edit_code':'_onEditCodeClick','click .o_website_links_cancel_edit':'_onCancelEditClick','submit #edit-code-form':'_onEditCodeFormSubmit','click .o_website_links_ok_edit':'_onEditCodeFormSubmit',},_showNewCode:function(newCode){$('.o_website_links_code_error').html('');$('.o_website_links_code_error').hide();$('#o_website_links_code form').remove();var host=$('#short-url-host').html();$('#o_website_links_code').html(newCode);$('.copy-to-clipboard').attr('data-clipboard-text',host+newCode);$('.o_website_links_edit_code').show();$('.copy-to-clipboard').show();$('.o_website_links_edit_tools').hide();},_submitCode:function(){var initCode=$('#edit-code-form #init_code').val();var newCode=$('#edit-code-form #new_code').val();var self=this;if(newCode===''){self.$('.o_website_links_code_error').html(_t("The code cannot be left empty"));self.$('.o_website_links_code_error').show();return;}
this._showNewCode(newCode);if(initCode===newCode){this._showNewCode(newCode);}else{return this._rpc({route:'/website_links/add_code',params:{init_code:initCode,new_code:newCode,},}).then(function(result){self._showNewCode(result[0].code);},function(){$('.o_website_links_code_error').show();$('.o_website_links_code_error').html(_t("This code is already taken"));});}
return Promise.resolve();},_onEditCodeClick:function(){var initCode=$('#o_website_links_code').html();$('#o_website_links_code').html('<form style="display:inline;" id="edit-code-form"><input type="hidden" id="init_code" value="'+initCode+'"/><input type="text" id="new_code" value="'+initCode+'"/></form>');$('.o_website_links_edit_code').hide();$('.copy-to-clipboard').hide();$('.o_website_links_edit_tools').show();},_onCancelEditClick:function(ev){ev.preventDefault();$('.o_website_links_edit_code').show();$('.copy-to-clipboard').show();$('.o_website_links_edit_tools').hide();$('.o_website_links_code_error').hide();var oldCode=$('#edit-code-form #init_code').val();$('#o_website_links_code').html(oldCode);$('#code-error').remove();$('#o_website_links_code form').remove();},_onEditCodeFormSubmit:function(ev){ev.preventDefault();this._submitCode();},});});;

/* /website_links/static/src/js/website_links_charts.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_links.charts',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var _t=core._t;var BarChart=publicWidget.Widget.extend({jsLibs:['/web/static/lib/Chart/Chart.js',],init:function(parent,beginDate,endDate,dates){this._super.apply(this,arguments);this.beginDate=beginDate;this.endDate=endDate;this.number_of_days=this.endDate.diff(this.beginDate,'days')+2;this.dates=dates;},start:function(){var clicksArray=[];var beginDateCopy=this.beginDate;for(var i=0;i<this.number_of_days;i++){var dateKey=beginDateCopy.format('YYYY-MM-DD');clicksArray.push([dateKey,(dateKey in this.dates)?this.dates[dateKey]:0]);beginDateCopy.add(1,'days');}
var nbClicks=0;var data=[];var labels=[];clicksArray.forEach(function(pt){labels.push(pt[0]);nbClicks+=pt[1];data.push(pt[1]);});this.$('.title').html(nbClicks+_t(' clicks'));var config={type:'line',data:{labels:labels,datasets:[{data:data,fill:'start',label:_t('# of clicks'),backgroundColor:'#ebf2f7',borderColor:'#6aa1ca',}],},};var canvas=this.$('canvas')[0];var context=canvas.getContext('2d');new Chart(context,config);},});var PieChart=publicWidget.Widget.extend({jsLibs:['/web/static/lib/Chart/Chart.js',],init:function(parent,data){this._super.apply(this,arguments);this.data=data;},start:function(){var labels=[];var data=[];for(var i=0;i<this.data.length;i++){var countryName=this.data[i]['country_id']?this.data[i]['country_id'][1]:_t('Undefined');labels.push(countryName+' ('+this.data[i]['country_id_count']+')');data.push(this.data[i]['country_id_count']);}
this.$('.title').html(this.data.length+_t(' countries'));var config={type:'pie',data:{labels:labels,datasets:[{data:data,label:this.data.length>0?this.data[0].key:_t('No data'),}]},};var canvas=this.$('canvas')[0];var context=canvas.getContext('2d');new Chart(context,config);},});publicWidget.registry.websiteLinksCharts=publicWidget.Widget.extend({selector:'.o_website_links_chart',events:{'click .graph-tabs li a':'_onGraphTabClick','click .copy-to-clipboard':'_onCopyToClipboardClick',},start:function(){var self=this;this.charts={};var linkID=parseInt($('#link_id').val());this.links_domain=['link_id','=',linkID];var defs=[];defs.push(this._totalClicks());defs.push(this._clicksByDay());defs.push(this._clicksByCountry());defs.push(this._lastWeekClicksByCountry());defs.push(this._lastMonthClicksByCountry());defs.push(this._super.apply(this,arguments));new ClipboardJS($('.copy-to-clipboard')[0]);this.animating_copy=false;return Promise.all(defs).then(function(results){var _totalClicks=results[0];var _clicksByDay=results[1];var _clicksByCountry=results[2];var _lastWeekClicksByCountry=results[3];var _lastMonthClicksByCountry=results[4];if(!_totalClicks){$('#all_time_charts').prepend(_t("There is no data to show"));$('#last_month_charts').prepend(_t("There is no data to show"));$('#last_week_charts').prepend(_t("There is no data to show"));return;}
var formattedClicksByDay={};var beginDate;for(var i=0;i<_clicksByDay.length;i++){var date=moment(_clicksByDay[i]['create_date:day'],'DD MMMM YYYY');if(i===0){beginDate=date;}
formattedClicksByDay[date.format('YYYY-MM-DD')]=_clicksByDay[i]['create_date_count'];}
var now=moment();self.charts.all_time_bar=new BarChart(self,beginDate,now,formattedClicksByDay);self.charts.all_time_bar.attachTo($('#all_time_clicks_chart'));beginDate=moment().subtract(30,'days');self.charts.last_month_bar=new BarChart(self,beginDate,now,formattedClicksByDay);self.charts.last_month_bar.attachTo($('#last_month_clicks_chart'));beginDate=moment().subtract(7,'days');self.charts.last_week_bar=new BarChart(self,beginDate,now,formattedClicksByDay);self.charts.last_week_bar.attachTo($('#last_week_clicks_chart'));self.charts.all_time_pie=new PieChart(self,_clicksByCountry);self.charts.all_time_pie.attachTo($('#all_time_countries_charts'));self.charts.last_month_pie=new PieChart(self,_lastMonthClicksByCountry);self.charts.last_month_pie.attachTo($('#last_month_countries_charts'));self.charts.last_week_pie=new PieChart(self,_lastWeekClicksByCountry);self.charts.last_week_pie.attachTo($('#last_week_countries_charts'));var rowWidth=$('#all_time_countries_charts').parent().width();var $chartCanvas=$('#all_time_countries_charts,last_month_countries_charts,last_week_countries_charts').find('canvas');$chartCanvas.height(Math.max(_clicksByCountry.length*(rowWidth>750?1:2),20)+'em');});},_totalClicks:function(){return this._rpc({model:'link.tracker.click',method:'search_count',args:[[this.links_domain]],});},_clicksByDay:function(){return this._rpc({model:'link.tracker.click',method:'read_group',args:[[this.links_domain],['create_date']],kwargs:{groupby:'create_date:day'},});},_clicksByCountry:function(){return this._rpc({model:'link.tracker.click',method:'read_group',args:[[this.links_domain],['country_id']],kwargs:{groupby:'country_id'},});},_lastWeekClicksByCountry:function(){var interval=moment().subtract(7,'days').format('YYYY-MM-DD');return this._rpc({model:'link.tracker.click',method:'read_group',args:[[this.links_domain,['create_date','>',interval]],['country_id']],kwargs:{groupby:'country_id'},});},_lastMonthClicksByCountry:function(){var interval=moment().subtract(30,'days').format('YYYY-MM-DD');return this._rpc({model:'link.tracker.click',method:'read_group',args:[[this.links_domain,['create_date','>',interval]],['country_id']],kwargs:{groupby:'country_id'},});},_onGraphTabClick:function(ev){ev.preventDefault();$('.graph-tabs li a').tab('show');},_onCopyToClipboardClick:function(ev){ev.preventDefault();if(this.animating_copy){return;}
this.animating_copy=true;$('.o_website_links_short_url').clone().css('position','absolute').css('left','15px').css('bottom','10px').css('z-index',2).removeClass('.o_website_links_short_url').addClass('animated-link').appendTo($('.o_website_links_short_url')).animate({opacity:0,bottom:'+=20',},500,function(){$('.animated-link').remove();this.animating_copy=false;});},});return{BarChart:BarChart,PieChart:PieChart,};});;

/* /website_mail_group/static/src/snippets/s_group/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_mail_group.mail_group',function(require){'use strict';const core=require('web.core');const _t=core._t;const MailGroup=require('mail_group.mail_group');MailGroup.include({start:async function(){await this._super(...arguments);const email=(new URL(document.location.href)).searchParams.get('email');const response=await this._rpc({route:'/group/is_member',params:{'group_id':this.mailgroupId,'email':email,'token':this.token,},});if(!response){this.$el.empty();return;}
this.$el.removeClass('d-none');const userEmail=response.email;this.isMember=response.is_member;if(userEmail&&userEmail.length){const emailInput=this.$el.find('.o_mg_subscribe_email');emailInput.val(userEmail);emailInput.attr('readonly',1);}
if(this.isMember){this.$target.find('.o_mg_subscribe_btn').text(_t('Unsubscribe')).removeClass('btn-primary').addClass('btn-outline-primary');}
this.$el.data('isMember',this.isMember);},});});;

/* /website_mass_mailing/static/src/js/website_mass_mailing.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('mass_mailing.website_integration',function(require){"use strict";var core=require('web.core');var publicWidget=require('web.public.widget');const{ReCaptcha}=require('google_recaptcha.ReCaptchaV3');var _t=core._t;publicWidget.registry.subscribe=publicWidget.Widget.extend({selector:".js_subscribe",disabledInEditableMode:false,read_events:{'click .js_subscribe_btn':'_onSubscribeClick',},init:function(){this._super(...arguments);this._recaptcha=new ReCaptcha();},willStart:function(){this._recaptcha.loadLibs();return this._super(...arguments);},start:function(){var self=this;var def=this._super.apply(this,arguments);var always=function(data){var isSubscriber=data.is_subscriber;self.$('.js_subscribe_btn').prop('disabled',isSubscriber);self.$('input.js_subscribe_email').val(data.email||"").prop('disabled',isSubscriber);self.$target.removeClass('d-none');self.$('.js_subscribe_btn').toggleClass('d-none',!!isSubscriber);self.$('.js_subscribed_btn').toggleClass('d-none',!isSubscriber);};return Promise.all([def,this._rpc({route:'/website_mass_mailing/is_subscriber',params:{'list_id':this.$target.data('list-id'),},}).then(always).guardedCatch(always)]);},_onSubscribeClick:async function(){var self=this;var $email=this.$(".js_subscribe_email:visible");if($email.length&&!$email.val().match(/.+@.+/)){this.$target.addClass('o_has_error').find('.form-control').addClass('is-invalid');return false;}
this.$target.removeClass('o_has_error').find('.form-control').removeClass('is-invalid');const tokenObj=await this._recaptcha.getToken('website_mass_mailing_subscribe');if(tokenObj.error){self.displayNotification({type:'danger',title:_t("Error"),message:tokenObj.error,sticky:true,});return false;}
this._rpc({route:'/website_mass_mailing/subscribe',params:{'list_id':this.$target.data('list-id'),'email':$email.length?$email.val():false,recaptcha_token_response:tokenObj.token,},}).then(function(result){let toastType=result.toast_type;if(toastType==='success'){self.$(".js_subscribe_btn").addClass('d-none');self.$(".js_subscribed_btn").removeClass('d-none');self.$('input.js_subscribe_email').prop('disabled',!!result);const $popup=self.$target.closest('.o_newsletter_modal');if($popup.length){$popup.modal('hide');}}
self.displayNotification({type:toastType,title:toastType==='success'?_t('Success'):_t('Error'),message:result.toast_content,sticky:true,});});},});});;

/* /website_sale_stock/static/src/js/variant_mixin.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale_stock.VariantMixin',function(require){'use strict';const{Markup}=require('web.utils');var VariantMixin=require('sale.VariantMixin');var publicWidget=require('web.public.widget');var ajax=require('web.ajax');var core=require('web.core');var QWeb=core.qweb;const loadXml=async()=>{return ajax.loadXML('/website_sale_stock/static/src/xml/website_sale_stock_product_availability.xml',QWeb);};require('website_sale.website_sale');VariantMixin._onChangeCombinationStock=function(ev,$parent,combination){let product_id=0;if($parent.find('input.product_id:checked').length){product_id=$parent.find('input.product_id:checked').val();}else{product_id=$parent.find('.product_id').val();}
const isMainProduct=combination.product_id&&($parent.is('.js_main_product')||$parent.is('.main_product'))&&combination.product_id===parseInt(product_id);if(!this.isWebsite||!isMainProduct){return;}
const $addQtyInput=$parent.find('input[name="add_qty"]');let qty=$addQtyInput.val();$parent.find('#add_to_cart').removeClass('out_of_stock');$parent.find('.o_we_buy_now').removeClass('out_of_stock');if(combination.product_type==='product'&&!combination.allow_out_of_stock_order){combination.free_qty-=parseInt(combination.cart_qty);$addQtyInput.data('max',combination.free_qty||1);if(combination.free_qty<0){combination.free_qty=0;}
if(qty>combination.free_qty){qty=combination.free_qty||1;$addQtyInput.val(qty);}
if(combination.free_qty<1){$parent.find('#add_to_cart').addClass('disabled out_of_stock');$parent.find('.o_we_buy_now').addClass('disabled out_of_stock');}}
loadXml().then(function(result){$('.oe_website_sale').find('.availability_message_'+combination.product_template).remove();combination.has_out_of_stock_message=$(combination.out_of_stock_message).text()!=='';combination.out_of_stock_message=Markup(combination.out_of_stock_message);const $message=$(QWeb.render('website_sale_stock.product_availability',combination));$('div.availability_messages').html($message);});};publicWidget.registry.WebsiteSale.include({_onChangeCombination:function(){this._super.apply(this,arguments);VariantMixin._onChangeCombinationStock.apply(this,arguments);},_onClickAdd(ev){return this._super.apply(this,arguments).then(()=>{if($('div.availability_messages').length){this._getCombinationInfo(ev);}});}});return VariantMixin;});;

/* /website_sale_delivery/static/src/js/website_sale_delivery.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale_delivery.checkout',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var _t=core._t;var concurrency=require('web.concurrency');var dp=new concurrency.DropPrevious();publicWidget.registry.websiteSaleDelivery=publicWidget.Widget.extend({selector:'.oe_website_sale',events:{'change select[name="shipping_id"]':'_onSetAddress','click #delivery_carrier .o_delivery_carrier_select':'_onCarrierClick',},start:function(){var self=this;var $carriers=$('#delivery_carrier input[name="delivery_type"]');var $payButton=$('button[name="o_payment_submit_button"]');if($carriers.length>0){if($carriers.filter(':checked').length===0){$payButton.prop('disabled',true);var disabledReasons=$payButton.data('disabled_reasons')||{};disabledReasons.carrier_selection=true;$payButton.data('disabled_reasons',disabledReasons);}
$carriers.filter(':checked').click();}
_.each($carriers,function(carrierInput,k){self._showLoading($(carrierInput));self._rpc({route:'/shop/carrier_rate_shipment',params:{'carrier_id':carrierInput.value,},}).then(self._handleCarrierUpdateResultBadge.bind(self));});return this._super.apply(this,arguments);},_showLoading:function($carrierInput){$carrierInput.siblings('.o_wsale_delivery_badge_price').empty();$carrierInput.siblings('.o_wsale_delivery_badge_price').append('<span class="fa fa-circle-o-notch fa-spin"/>');},_updateShippingCost:function(amount){core.bus.trigger('update_shipping_cost',amount);},_handleCarrierUpdateResult:function(result){this._handleCarrierUpdateResultBadge(result);var $payButton=$('button[name="o_payment_submit_button"]');var $amountDelivery=$('#order_delivery .monetary_field');var $amountUntaxed=$('#order_total_untaxed .monetary_field');var $amountTax=$('#order_total_taxes .monetary_field');var $amountTotal=$('#order_total .monetary_field, #amount_total_summary.monetary_field');if(result.status===true){$amountDelivery.html(result.new_amount_delivery);$amountUntaxed.html(result.new_amount_untaxed);$amountTax.html(result.new_amount_tax);$amountTotal.html(result.new_amount_total);var disabledReasons=$payButton.data('disabled_reasons')||{};disabledReasons.carrier_selection=false;$payButton.data('disabled_reasons',disabledReasons);$payButton.prop('disabled',_.contains($payButton.data('disabled_reasons'),true));}else{$amountDelivery.html(result.new_amount_delivery);$amountUntaxed.html(result.new_amount_untaxed);$amountTax.html(result.new_amount_tax);$amountTotal.html(result.new_amount_total);}
if(result.new_amount_total_raw!==undefined){this._updateShippingCost(result.new_amount_total_raw);}},_handleCarrierUpdateResultBadge:function(result){var $carrierBadge=$('#delivery_carrier input[name="delivery_type"][value='+result.carrier_id+'] ~ .o_wsale_delivery_badge_price');if(result.status===true){if(result.is_free_delivery){$carrierBadge.text(_t('Free'));}else{$carrierBadge.html(result.new_amount_delivery);}
$carrierBadge.removeClass('o_wsale_delivery_carrier_error');}else{$carrierBadge.addClass('o_wsale_delivery_carrier_error');$carrierBadge.text(result.error_message);}},_onCarrierClick:function(ev){var $radio=$(ev.currentTarget).find('input[type="radio"]');this._showLoading($radio);$radio.prop("checked",true);var $payButton=$('button[name="o_payment_submit_button"]');$payButton.prop('disabled',true);var disabledReasons=$payButton.data('disabled_reasons')||{};disabledReasons.carrier_selection=true;$payButton.data('disabled_reasons',disabledReasons);dp.add(this._rpc({route:'/shop/update_carrier',params:{carrier_id:$radio.val(),},})).then(this._handleCarrierUpdateResult.bind(this));},_onSetAddress:function(ev){var value=$(ev.currentTarget).val();var $providerFree=$('select[name="country_id"]:not(.o_provider_restricted), select[name="state_id"]:not(.o_provider_restricted)');var $providerRestricted=$('select[name="country_id"].o_provider_restricted, select[name="state_id"].o_provider_restricted');if(value===0){$providerFree.hide().attr('disabled',true);$providerRestricted.show().attr('disabled',false).change();}else{$providerFree.show().attr('disabled',false).change();$providerRestricted.hide().attr('disabled',true);}},});});;

/* /website_sale_product_configurator/static/src/js/website_sale_options.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale_options.website_sale',function(require){'use strict';var ajax=require('web.ajax');var core=require('web.core');var publicWidget=require('web.public.widget');var OptionalProductsModal=require('sale_product_configurator.OptionalProductsModal');require('website_sale.website_sale');var _t=core._t;publicWidget.registry.WebsiteSale.include({_onProductReady:function(){if(this.isBuyNow){return this._submitForm();}
this.optionalProductsModal=new OptionalProductsModal(this.$form,{rootProduct:this.rootProduct,isWebsite:true,okButtonText:_t('Proceed to Checkout'),cancelButtonText:_t('Continue Shopping'),title:_t('Add to cart'),context:this._getContext(),}).open();this.optionalProductsModal.on('options_empty',null,this._submitForm.bind(this));this.optionalProductsModal.on('update_quantity',null,this._onOptionsUpdateQuantity.bind(this));this.optionalProductsModal.on('confirm',null,this._onModalSubmit.bind(this,true));this.optionalProductsModal.on('back',null,this._onModalSubmit.bind(this,false));return this.optionalProductsModal.opened();},_submitForm(){if(this.optionalProductsModal&&this.stayOnPageOption){this.optionalProductsModal._openedResolver();}
return this._super(...arguments);},_onOptionsUpdateQuantity:function(quantity){var $qtyInput=this.$form.find('.js_main_product input[name="add_qty"]').first();if($qtyInput.length){$qtyInput.val(quantity).trigger('change');}else{this.optionalProductsModal.triggerVariantChange(this.optionalProductsModal.$el);}},_onModalSubmit:function(goToShop){const $product=$('#product_detail');let currency;if($product.length){currency=$product.data('product-tracking-info')['currency'];}else{currency=this.$('[itemprop="priceCurrency"]').first().text();}
const productsTrackingInfo=[];this.$('.js_product.in_cart').each((i,el)=>{productsTrackingInfo.push({'item_id':el.getElementsByClassName('product_id')[0].value,'item_name':el.getElementsByClassName('product_display_name')[0].textContent,'quantity':el.getElementsByClassName('js_quantity')[0].value,'currency':currency,'price':el.getElementsByClassName('oe_price')[0].getElementsByClassName('oe_currency_value')[0].textContent,});});if(productsTrackingInfo){this.$el.trigger('add_to_cart_event',productsTrackingInfo);}
this.optionalProductsModal.getAndCreateSelectedProducts().then((products)=>{const productAndOptions=JSON.stringify(products);ajax.post('/shop/cart/update_option',{product_and_options:productAndOptions}).then(function(quantity){if(goToShop){window.location.pathname="/shop/cart";}
const $quantity=$(".my_cart_quantity");$quantity.parent().parent().removeClass('d-none');$quantity.text(quantity).hide().fadeIn(600);});});},});return publicWidget.registry.WebsiteSaleOptions;});;

/* /website_slides_forum/static/src/js/website_slides_forum.editor.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_slides_forum.editor',function(require){"use strict";var core=require('web.core');var QWeb=core.qweb;var WebsiteNewMenu=require('website.newMenu');WebsiteNewMenu.include({xmlDependencies:WebsiteNewMenu.prototype.xmlDependencies.concat(['/website_slides_forum/static/src/xml/website_slides_forum_channel.xml']),});});;

/* /website_twitter/static/src/js/website.twitter.animation.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_twitter.animation',function(require){'use strict';var core=require('web.core');const{Markup}=require('web.utils');var publicWidget=require('web.public.widget');var qweb=core.qweb;publicWidget.registry.twitter=publicWidget.Widget.extend({selector:'.twitter',xmlDependencies:['/website_twitter/static/src/xml/website.twitter.xml'],disabledInEditableMode:false,events:{'mouseenter .wrap-row':'_onEnterRow','mouseleave .wrap-row':'_onLeaveRow','click .twitter_timeline .tweet':'_onTweetClick',},start:function(){var self=this;var $timeline=this.$('.twitter_timeline');$timeline.append('<center><div><img src="/website_twitter/static/src/img/loadtweet.gif"></div></center>');var def=this._rpc({route:'/website_twitter/get_favorites'}).then(function(data){$timeline.empty();if(data.error){$timeline.append(qweb.render('website.Twitter.Error',{data:data}));return;}
if(_.isEmpty(data)){return;}
var tweets=_.map(data,function(tweet){if(_.isEmpty(tweet.created_at)){tweet.created_at='';}else{var v=tweet.created_at.split(' ');var d=new Date(Date.parse(v[1]+' '+v[2]+', '+v[5]+' '+v[3]+' UTC'));tweet.created_at=d.toDateString();}
tweet.text=Markup(_.escape(tweet.text).replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&~\?\/.=]+/g,function(url){return _makeLink(url,url);}).replace(/[@]+[A-Za-z0-9_]+/g,function(screen_name){return _makeLink('http://twitter.com/'+screen_name.replace('@',''),screen_name);}).replace(/[#]+[A-Za-z0-9_]+/g,function(hashtag){return _makeLink('http://twitter.com/search?q='+hashtag.replace('#',''),hashtag);}));return qweb.render('website.Twitter.Tweet',{tweet:tweet});function _makeLink(url,text){return Markup`<a href="${url}" target="_blank" rel="noreferrer noopener">${text}</a>`;}});var f=Math.floor(tweets.length/3);var tweetSlices=[tweets.slice(0,f).join(' '),tweets.slice(f,f*2).join(' '),tweets.slice(f*2,tweets.length).join(' ')];self.$scroller=$(qweb.render('website.Twitter.Scroller')).appendTo($timeline);_.each(self.$scroller.find('div[id^="scroller"]'),function(element,index){var $scrollWrapper=$('<div/>',{class:'scrollWrapper'});var $scrollableArea=$('<div/>',{class:'scrollableArea'});$scrollWrapper.append($scrollableArea).data('scrollableArea',$scrollableArea);$scrollableArea.append(tweetSlices[index]);$(element).append($scrollWrapper);var totalWidth=0;_.each($scrollableArea.children(),function(area){totalWidth+=$(area).outerWidth(true);});$scrollableArea.width(totalWidth);$scrollWrapper.scrollLeft(index*180);});self._startScrolling();});return Promise.all([this._super.apply(this,arguments),def]);},destroy:function(){this._stopScrolling();this._super.apply(this,arguments);},_startScrolling:function(){if(!this.$scroller){return;}
_.each(this.$scroller.find('.scrollWrapper'),function(el){var $wrapper=$(el);$wrapper.data('getNextElementWidth',true);$wrapper.data('autoScrollingInterval',setInterval(function(){$wrapper.scrollLeft($wrapper.scrollLeft()+1);if($wrapper.data('getNextElementWidth')){$wrapper.data('swapAt',$wrapper.data('scrollableArea').children(':first').outerWidth(true));$wrapper.data('getNextElementWidth',false);}
if($wrapper.data('swapAt')<=$wrapper.scrollLeft()){var swap_el=$wrapper.data('scrollableArea').children(':first').detach();$wrapper.data('scrollableArea').append(swap_el);$wrapper.scrollLeft($wrapper.scrollLeft()-swap_el.outerWidth(true));$wrapper.data('getNextElementWidth',true);}},20));});},_stopScrolling:function(wrapper){if(!this.$scroller){return;}
_.each(this.$scroller.find('.scrollWrapper'),function(el){var $wrapper=$(el);clearInterval($wrapper.data('autoScrollingInterval'));});},_onEnterRow:function(){this._stopScrolling();},_onLeaveRow:function(){this._startScrolling();},_onTweetClick:function(ev){if(ev.target.tagName==='A'){return;}
var url=$(ev.currentTarget).data('url');if(url){window.open(url,'_blank');}},});});;

/* /website_twitter_wall/static/src/js/website_twitter_wall.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_twitter_wall.views',function(require){'use strict';var core=require('web.core');const{Markup}=require('web.utils');var Widget=require('web.Widget');var publicWidget=require('web.public.widget');var qweb=core.qweb;var TweetWall=Widget.extend({template:'website_twitter_wall_tweets',init:function(parent,wallID){this._super.apply(this,arguments);var self=this;this.wall_id=wallID;this.pool_cache={};this.repeat=false;this.shuffle=false;this.limit=25;this.num=1;this.timeout=7000;this.last_tweet_id=$('.o-tw-tweet:first').data('tweet-id')||0;this.fetchPromise=undefined;this.prependTweetsTo=$('.o-tw-walls-col:first');this.interval=setInterval(function(){self._getData();},this.timeout);var zoomLevel=1/(window.devicePixelRatio*0.80);this._zoom(zoomLevel);},_zoom:function(level){this.zoomLevel=level;if($.browser.mozilla){$('body').css('MozTransform','scale('+this.zoomLevel+')');}else{$('body').css('zoom',this.zoomLevel);$('iframe').each(function(iframe){$(iframe.contentDocument).find('body').css('zoom',level);});}},_toggleRepeat:function(){if(this.repeat){this.repeat=false;this.limit=25;_.each(this.pool_cache,function(t){t.round=t.round?1:0;});}else{this.repeat=true;this.limit=5;}},_toggleShuffle:function(){this.shuffle=this.shuffle===false?true:false;},_getData:function(){var self=this;if(!this.fetchPromise){self.fetchPromise=this._rpc({route:'/twitter_wall/get_tweet/'+self.wall_id,params:{'last_tweet_id':self.last_tweet_id,},}).then(function(res){self.fetchPromise=undefined;if(res.length){self.last_tweet_id=res[0].id;_.each(res,function(r){r.round=0;self.pool_cache[r.id]=r;});}
var atLeastOneNotSeen=_.some(self.pool_cache,function(t){return t.round===0;});if(atLeastOneNotSeen||self.repeat){self._processTweet();}}).guardedCatch(function(){self.fetchPromise=undefined;});}},_processTweet:function(){var self=this;var leastRound=_.min(self.pool_cache,function(o){return o.round;}).round;var tweets=_.filter(self.pool_cache,function(f){var el=$('*[data-tweet-id="'+f.id+'"]');if(f.round<=leastRound&&(!el.length||el.offset().top>$(window).height())){return f;}});if(this.shuffle){tweets=_.shuffle(tweets);}
if(tweets.length){var tweet=tweets[0];self.pool_cache[tweet.id].round=leastRound+1;$(qweb.render('website_twitter_wall_tweets',{tweet_id:tweet.id,tweet:Markup(tweet.tweet_html),})).prependTo(self.prependTweetsTo);var nextPrepend=self.prependTweetsTo.next('.o-tw-walls-col');self.prependTweetsTo=nextPrepend.length?nextPrepend.first():$('.o-tw-walls-col').first();}},_destroy:function(){clearInterval(this.interval);this._zoom(1);},});publicWidget.registry.websiteTwitterWall=publicWidget.Widget.extend({selector:'.o-tw-container',xmlDependencies:['/website_twitter_wall/static/src/xml/website_twitter_wall_tweet.xml'],events:{'click .o-tw-tweet-delete':'_onDeleteTweet','click .o-tw-live-btn':'_onLiveButton','click .o-tw-option':'_onOption','click .o-tw-zoom':'_onZoom',},start:function(){this.mouseTimer;var observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){if(mutation.type==='attributes'&&mutation.attributeName==='data-tweet-id'){$(mutation.target.contentDocument).find('.Tweet-header .Tweet-brand, .Tweet-body .Tweet-actions').remove();$(mutation.target.contentDocument).find('body').css('zoom',$('body').css('zoom'));$(mutation.target.contentDocument).find('.EmbeddedTweet').removeClass('js-clickToOpenTarget');}});});observer.observe($('.o-tw-walls')[0],{attributes:true,childList:true,characterData:false,subtree:true,});this.twitterWall=new TweetWall(this,parseInt($('.o-tw-walls').data('wall-id')));$(document).on('webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange',function(){$('#oe_main_menu_navbar, header, .o-tw-toggle, footer').slideToggle('slow');if(document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen){window.scrollTo(0,0);$('body').css({'position':'fixed'}).addClass('o-tw-view-live');$('center.o-tw-tweet > span').hide();$('.o-tw-tweet-delete').hide();if($('#oe_main_menu_navbar').length){$('.o-tw-walls').css('margin-top','64px');}else{$('.o-tw-walls').css('margin-top','98px');}
var cursorVisible=true;document.onmousemove=function(){if(this.mouseTimer){window.clearTimeout(this.mouseTimer);}
if(!cursorVisible){document.body.style.cursor='default';cursorVisible=true;}
this.mouseTimer=window.setTimeout(function(){this.mouseTimer=null;document.body.style.cursor='none';cursorVisible=false;},2000);};}else{$('body').css({'position':'initial'}).removeClass('o-tw-view-live');$('center.o-tw-tweet > span').show();$('.o-tw-tweet-delete').show();$('.o-tw-walls').css('margin-top','0');document.body.style.cursor='default';if(this.mouseTimer){clearTimeout(this.mouseTimer);}}});},destroy:function(){this._super.apply(this,arguments);this.twitterWall._destroy();},_setColumns:function(number,single){var cols=$('.o-tw-walls-col').length;var i=cols;var newCols=[];while(i<number){newCols.push($('<div class="o-tw-walls-col col-'+12/number+'"></div>').appendTo('.o-tw-walls'));i++;}
$('.o-tw-walls-col:gt('+(number-1)+')').remove();$('.o-tw-walls-col').removeClass('col-4 col-6 col-12').addClass('col-'+12/number);if(single){$('.o-tw-walls-col').addClass('o-tw-tweet-single');}else if(single===false){$('.o-tw-walls-col').removeClass('o-tw-tweet-single');}
if(newCols.length){this.twitterWall.prependTweetsTo=newCols[0];}},_onDeleteTweet:function(ev){var tweet=$(ev.target).closest('.o-tw-tweet');this._rpc({'model':'website.twitter.tweet','method':'unlink','args':[[tweet.data('tweet-id')]]}).then(function(res){if(res){tweet.slideUp(500);}});},_onLiveButton:function(){if((document.fullScreenElement&&document.fullScreenElement!==null)||(!document.mozFullScreen&&!document.webkitIsFullScreen)){if(document.documentElement.requestFullScreen){document.documentElement.requestFullScreen();}else if(document.documentElement.mozRequestFullScreen){document.documentElement.mozRequestFullScreen();}else if(document.documentElement.webkitRequestFullScreen){document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);}}else{if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}}},_onOption:function(ev){this.twitterWall.timeout=7000;var $target=$(ev.currentTarget);var active=$target.hasClass('active');$target.toggleClass('active');switch($target.data('operation')){case'list':$target.siblings().removeClass('active');this._setColumns(1);break;case'double':$target.siblings().removeClass('active');this._setColumns(2);break;case'triple':$target.siblings().removeClass('active');this._setColumns(3);break;case'single':this._setColumns($('.o-tw-walls-col').length,!active);this.twitterWall.timeout=15000;break;case'repeat':this.twitterWall._toggleRepeat();break;case'shuffle':this.twitterWall._toggleShuffle();break;}
$(document).trigger('clear_tweet_queue');},_onZoom:function(ev){var step=$(ev.currentTarget).data('operation')==='plus'?0.05:-0.05;this.twitterWall._zoom(this.twitterWall.zoomLevel+step);},});});;

/* /website_event_exhibitor/static/src/js/event_exhibitor_connect.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_exhibitor.event_exhibitor_connect',function(require){'use strict';var Dialog=require('web.Dialog');var publicWidget=require('web.public.widget');const{Markup}=require('web.utils');var ExhibitorConnectClosedDialog=Dialog.extend({events:_.extend({},Dialog.prototype.events,{'click .o_wesponsor_js_connect_modal_contry':'_onClickCountryFlag',}),template:'exhibitor.connect.closed.modal',init:function(parent,options){options=_.defaults(options||{},{size:'medium',renderHeader:false,renderFooter:false,backdrop:true,});this.sponsorId=options.sponsorId;this._super(parent,options);},willStart:function(){return Promise.all([this._super(...arguments),this._fetchSponsor()]);},async _fetchSponsor(){const sponsorData=await this._rpc({route:`/event_sponsor/${this.sponsorId}/read`});sponsorData.website_description=Markup(sponsorData.website_description);this.sponsorData=sponsorData;},});publicWidget.registry.eventExhibitorConnect=publicWidget.Widget.extend({selector:'.o_wesponsor_connect_button',xmlDependencies:['/website_event_exhibitor/static/src/xml/event_exhibitor_connect.xml'],init:function(){this._super(...arguments);this._onConnectClick=_.debounce(this._onConnectClick,500,true);},start:function(){var self=this;return this._super(...arguments).then(function(){self.eventIsOngoing=self.$el.data('eventIsOngoing')||false;self.sponsorIsOngoing=self.$el.data('sponsorIsOngoing')||false;self.isParticipating=self.$el.data('isParticipating')||false;self.userEventManager=self.$el.data('userEventManager')||false;self.$el.on('click',self._onConnectClick.bind(self));});},_onConnectClick:function(ev){ev.stopPropagation();ev.preventDefault();if(this.userEventManager){document.location=this.$el.data('sponsorUrl');}else if(!this.eventIsOngoing&&!this.isParticipating){document.location=this.$el.data('registerUrl');}else if(!this.eventIsOngoing||!this.sponsorIsOngoing){return this._openClosedDialog();}else{document.location=this.$el.data('sponsorUrl');}},_openClosedDialog:function($element){const sponsorId=this.$el.data('sponsorId');return new ExhibitorConnectClosedDialog(this,{sponsorId:sponsorId,}).open();},});return{ExhibitorConnectClosedDialog:ExhibitorConnectClosedDialog,eventExhibitorConnect:publicWidget.registry.eventExhibitorConnect,};});;

/* /website_event_exhibitor/static/src/js/event_sponsor_search.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_exhibitor.event_sponsor_search',function(require){'use strict';const publicWidget=require('web.public.widget');publicWidget.registry.websiteEventSearchSponsor=publicWidget.Widget.extend({selector:'.o_wesponsor_index',events:{'click .o_wevent_event_search_box .btn':'_onSearch','click .o_search_tag .btn':'_onTagRemove','click .o_dropdown_reset_tags':'_onTagReset','change .o_wevent_event_tags_form input':'_onTagAdd',},start:function(){this.form=this.$el.find('.o_wevent_event_tags_form');return this._super.apply(this,arguments);},_onSearch:function(){const input=this.$el.find('.o_wevent_event_search_box input');const params=new URLSearchParams(window.location.search);params.set('search',input.val());const url=window.location.pathname+'?'+params.toString();this.form.attr('action',url);this.form.submit();},_onTagAdd:function(){this.form.submit();},_onTagRemove:function(event){const tag=$(event.target).parent();const data=tag.data();const selector='input[name="'+data.field+'"][value="'+data.value+'"]';this._updateFormActionURL(data);this.form.find(selector).prop('checked',false);this.form.submit();},_onTagReset:function(event){const dropdown=$(event.target).parent();dropdown.find('input').prop('checked',false);this.form.submit();},_updateFormActionURL:function(data){const mapping=new Map([['sponsor_country','countries'],['sponsor_type','sponsorships']]);if(!mapping.has(data.field)){return}
const name=mapping.get(data.field);const params=new URLSearchParams(window.location.search);try{const ids=JSON.parse(params.get(name));params.set(name,JSON.stringify(ids.filter(id=>id!==data.value)));this.form.attr('action',`${window.location.href.split('?')[0]}?${params.toString()}`);}catch(e){return;}},});return publicWidget.registry.websiteEventSearchSponsor;});;

/* /website_event_social/static/src/js/push_notification_widget.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_social.NotificationManager',function(require){"use strict";var core=require('web.core');var _t=core._t;var NotificationWidget=require('social_push_notifications.NotificationManager');NotificationWidget.include({_askPermission:function(){var self=this;if($('.o_wereg_js_confirmed').length===0){return this._super(...arguments);}
this._fetchPushConfiguration().then(function(config){self._showNotificationRequestPopup({title:config.notification_request_title,body:config.notification_request_body,delay:config.notification_request_delay,icon:config.notification_request_icon},config);});},_showNotificationRequestPopup:function(popupConfig,pushConfig){if($('.o_wereg_js_confirmed').length===0){return this._super(...arguments);}
if(popupConfig.title&&popupConfig.body){popupConfig.title=_t('Get the best experience!');popupConfig.body=_t('Allow notifications to be able to add talks into your favorite list or connect to other attendees.');popupConfig.delay=0;}
return this._super(popupConfig,pushConfig);},});});;

/* /website_event_twitter_wall/static/src/js/website_event_twitter_wall.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_event_social.website_twitter_wall',function(require){"use strict";var publicWidget=require('web.public.widget');publicWidget.registry.websiteTwitterWall.include({start:function(){this._super(...arguments);if(this.$el.closest('.o_wevent_event').length!==0){this.twitterWall._zoom(1);}},_setColumns:function(columnCount,singleTweetView){$('.o-tw-walls-col').addClass('o-tw-walls-col-remove');var tweetsCount=$('.o-tw-tweet').length;var newColumns=[];var slicedTweets=[];for(var i=0;i<columnCount;i++){var $newColumn=$('<div>',{class:'o-tw-walls-col col-md-'+(12/columnCount)});$newColumn.appendTo($('.o-tw-walls'));newColumns.push($newColumn);var start=Math.floor(i*(tweetsCount/columnCount));var end=undefined;if(i!==columnCount-1){end=Math.floor((i+1)*(tweetsCount/columnCount));}
slicedTweets.push($('.o-tw-tweet').slice(start,end));}
newColumns.forEach(function(column,index){slicedTweets[index].appendTo(column);});$('.o-tw-walls-col.o-tw-walls-col-remove').remove();if(singleTweetView){$('.o-tw-walls-col').addClass('o-tw-tweet-single');}else if(singleTweetView===false){$('.o-tw-walls-col').removeClass('o-tw-tweet-single');}
if(newColumns.length>0){this.twitterWall.prependTweetsTo=newColumns[0];}}});});;

/* /website/static/src/snippets/s_share/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_share',function(require){'use strict';const publicWidget=require('web.public.widget');const ShareWidget=publicWidget.Widget.extend({selector:'.s_share, .oe_share',start:function(){const urlRegex=/(\?(?:|.*&)(?:u|url|body)=)(.*?)(&|#|$)/;const titleRegex=/(\?(?:|.*&)(?:title|text|subject|description)=)(.*?)(&|#|$)/;const mediaRegex=/(\?(?:|.*&)(?:media)=)(.*?)(&|#|$)/;const url=encodeURIComponent(window.location.href);const title=encodeURIComponent($('title').text());const media=encodeURIComponent($('meta[property="og:image"]').attr('content'));this.$('a').each((index,element)=>{const $a=$(element);$a.attr('href',(i,href)=>{return href.replace(urlRegex,(match,a,b,c)=>{return a+url+c;}).replace(titleRegex,function(match,a,b,c){if($a.hasClass('s_share_whatsapp')){return a+title+url+c;}
return a+title+c;}).replace(mediaRegex,(match,a,b,c)=>{return a+media+c;});});if($a.attr('target')&&$a.attr('target').match(/_blank/i)&&!$a.closest('.o_editable').length){$a.on('click',function(){window.open(this.href,'','menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=550,width=600');return false;});}});return this._super.apply(this,arguments);},});publicWidget.registry.share=ShareWidget;return ShareWidget;});;

/* /website/static/src/snippets/s_facebook_page/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_facebook_page',function(require){'use strict';var publicWidget=require('web.public.widget');var utils=require('web.utils');const FacebookPageWidget=publicWidget.Widget.extend({selector:'.o_facebook_page',disabledInEditableMode:false,start:function(){var def=this._super.apply(this,arguments);this.options.wysiwyg&&this.options.wysiwyg.odooEditor.observerUnactive();var params=_.pick(this.$el.data(),'href','height','tabs','small_header','hide_cover','show_facepile');if(!params.href){return def;}
params.width=utils.confine(Math.floor(this.$el.width()),180,500);var src=$.param.querystring('https://www.facebook.com/plugins/page.php',params);this.$iframe=$('<iframe/>',{src:src,width:params.width,height:params.height,css:{border:'none',overflow:'hidden',},scrolling:'no',frameborder:'0',allowTransparency:'true',});this.$el.append(this.$iframe);this.options.wysiwyg&&this.options.wysiwyg.odooEditor.observerActive();return def;},destroy:function(){this._super.apply(this,arguments);this.options.wysiwyg&&this.options.wysiwyg.odooEditor.observerUnactive();if(this.$iframe){this.$iframe.remove();}
this.options.wysiwyg&&this.options.wysiwyg.odooEditor.observerActive();},});publicWidget.registry.facebookPage=FacebookPageWidget;return FacebookPageWidget;});;

/* /website/static/src/snippets/s_image_gallery/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_image_gallery',function(require){'use strict';var core=require('web.core');var publicWidget=require('web.public.widget');var qweb=core.qweb;const GalleryWidget=publicWidget.Widget.extend({selector:'.s_image_gallery:not(.o_slideshow)',xmlDependencies:['/website/static/src/snippets/s_image_gallery/000.xml'],events:{'click img':'_onClickImg',},_onClickImg:function(ev){var self=this;var $cur=$(ev.currentTarget);var $images=$cur.closest('.s_image_gallery').find('img');var size=0.8;var dimensions={min_width:Math.round(window.innerWidth*size*0.9),min_height:Math.round(window.innerHeight*size),max_width:Math.round(window.innerWidth*size*0.9),max_height:Math.round(window.innerHeight*size),width:Math.round(window.innerWidth*size*0.9),height:Math.round(window.innerHeight*size)};var $img=($cur.is('img')===true)?$cur:$cur.closest('img');const milliseconds=$cur.closest('.s_image_gallery').data('interval')||false;var $modal=$(qweb.render('website.gallery.slideshow.lightbox',{images:$images.get(),index:$images.index($img),dim:dimensions,interval:milliseconds||0,id:_.uniqueId('slideshow_'),}));$modal.modal({keyboard:true,backdrop:true,});$modal.on('hidden.bs.modal',function(){$(this).hide();$(this).siblings().filter('.modal-backdrop').remove();$(this).remove();});$modal.find('.modal-content, .modal-body.o_slideshow').css('height','100%');$modal.appendTo(document.body);$modal.one('shown.bs.modal',function(){self.trigger_up('widgets_start_request',{editableMode:false,$target:$modal.find('.modal-body.o_slideshow'),});});},});const GallerySliderWidget=publicWidget.Widget.extend({selector:'.o_slideshow',xmlDependencies:['/website/static/src/snippets/s_image_gallery/000.xml'],disabledInEditableMode:false,start:function(){var self=this;this.$carousel=this.$target.is('.carousel')?this.$target:this.$target.find('.carousel');this.$indicator=this.$carousel.find('.carousel-indicators');this.$prev=this.$indicator.find('li.o_indicators_left').css('visibility','');this.$next=this.$indicator.find('li.o_indicators_right').css('visibility','');var $lis=this.$indicator.find('li[data-slide-to]');let indicatorWidth=this.$indicator.width();if(indicatorWidth===0){const $indicatorParent=this.$indicator.parents().not(':visible').last();if(!$indicatorParent[0].style.display){$indicatorParent[0].style.display='block';indicatorWidth=this.$indicator.width();$indicatorParent[0].style.display='';}}
let nbPerPage=Math.floor(indicatorWidth/$lis.first().outerWidth(true))-3;var realNbPerPage=nbPerPage||1;var nbPages=Math.ceil($lis.length/realNbPerPage);var index;var page;update();function hide(){$lis.each(function(i){$(this).toggleClass('d-none',i<page*nbPerPage||i>=(page+1)*nbPerPage);});if(page<=0){self.$prev.detach();}else{self.$prev.removeClass('d-none');self.$prev.prependTo(self.$indicator);}
if(page>=nbPages-1){self.$next.detach();}else{self.$next.removeClass('d-none');self.$next.appendTo(self.$indicator);}}
function update(){const active=$lis.filter('.active');index=active.length?$lis.index(active):0;page=Math.floor(index/realNbPerPage);hide();}
this.$carousel.on('slide.bs.carousel.gallery_slider',function(){setTimeout(function(){var $item=self.$carousel.find('.carousel-inner .carousel-item-prev, .carousel-inner .carousel-item-next');var index=$item.index();$lis.removeClass('active').filter('[data-slide-to="'+index+'"]').addClass('active');},0);});this.$indicator.on('click.gallery_slider','> li:not([data-slide-to])',function(){page+=($(this).hasClass('o_indicators_left')?-1:1);page=Math.max(0,Math.min(nbPages-1,page));self.$carousel.carousel(page*realNbPerPage);if(!self.editableMode){hide();}});this.$carousel.on('slid.bs.carousel.gallery_slider',update);return this._super.apply(this,arguments);},destroy:function(){this._super.apply(this,arguments);if(!this.$indicator){return;}
this.$prev.prependTo(this.$indicator);this.$next.appendTo(this.$indicator);this.$carousel.off('.gallery_slider');this.$indicator.off('.gallery_slider');},});publicWidget.registry.gallery=GalleryWidget;publicWidget.registry.gallerySlider=GallerySliderWidget;return{GalleryWidget:GalleryWidget,GallerySliderWidget:GallerySliderWidget,};});;

/* /website/static/src/snippets/s_countdown/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_countdown',function(require){'use strict';const{ColorpickerWidget}=require('web.Colorpicker');const core=require('web.core');const publicWidget=require('web.public.widget');const weUtils=require('web_editor.utils');const qweb=core.qweb;const _t=core._t;const CountdownWidget=publicWidget.Widget.extend({selector:'.s_countdown',xmlDependencies:['/website/static/src/snippets/s_countdown/000.xml'],disabledInEditableMode:false,defaultColor:'rgba(0, 0, 0, 255)',start:function(){this.$wrapper=this.$('.s_countdown_canvas_wrapper');this.$wrapper.addClass('d-flex justify-content-center');this.hereBeforeTimerEnds=false;this.endAction=this.el.dataset.endAction;this.endTime=parseInt(this.el.dataset.endTime);this.size=parseInt(this.el.dataset.size);this.display=this.el.dataset.display;const delay=(Math.random()*180)-60;this.endTime+=delay;console.log(`d2: ${delay}`);this.layout=this.el.dataset.layout;this.layoutBackground=this.el.dataset.layoutBackground;this.progressBarStyle=this.el.dataset.progressBarStyle;this.progressBarWeight=this.el.dataset.progressBarWeight;this.textColor=this._ensureCssColor(this.el.dataset.textColor);this.layoutBackgroundColor=this._ensureCssColor(this.el.dataset.layoutBackgroundColor);this.progressBarColor=this._ensureCssColor(this.el.dataset.progressBarColor);this.onlyOneUnit=this.display==='d';this.width=parseInt(this.size);if(this.layout==='boxes'){this.width/=1.75;}
this._initTimeDiff();this._render();this.setInterval=setInterval(this._render.bind(this),1000);return this._super(...arguments);},destroy:function(){this.$('.s_countdown_end_redirect_message').remove();this.$('.s_countdown_end_message').addClass('d-none');this.$('.s_countdown_text_wrapper').remove();this.$('.s_countdown_canvas_wrapper').removeClass('d-none');this.$('.s_countdown_canvas_flex').remove();clearInterval(this.setInterval);this._super(...arguments);},_ensureCssColor:function(color){if(ColorpickerWidget.isCSSColor(color)){return color;}
return weUtils.getCSSVariableValue(color)||this.defaultColor;},_getDelta:function(){const currentTimestamp=Date.now()/1000;return this.endTime-currentTimestamp;},_handleEndCountdownAction:function(){if(this.endAction==='redirect'){const redirectUrl=this.el.dataset.redirectUrl||'/';if(this.hereBeforeTimerEnds){setTimeout(()=>window.location=redirectUrl,500);}else{if(!this.$('.s_countdown_end_redirect_message').length){const $container=this.$('> .container, > .container-fluid, > .o_container_small');$container.append($(qweb.render('website.s_countdown.end_redirect_message',{redirectUrl:redirectUrl,})));}}}else if(this.endAction==='message'||this.endAction==='message_no_countdown'){this.$('.s_countdown_end_message').removeClass('d-none');}},_initTimeDiff:function(){const delta=this._getDelta();this.diff=[];if(this._isUnitVisible('d')&&!(this.onlyOneUnit&&delta<86400)){this.diff.push({canvas:$('<div class="s_countdown_canvas_flex"><canvas class="w-100"/></div>').appendTo(this.$wrapper)[0],total:15,label:_t("Days"),nbSeconds:86400,});}
if(this._isUnitVisible('h')||(this.onlyOneUnit&&delta<86400&&delta>3600)){this.diff.push({canvas:$('<div class="s_countdown_canvas_flex"><canvas class="w-100"/></div>').appendTo(this.$wrapper)[0],total:24,label:_t("Hours"),nbSeconds:3600,});}
if(this._isUnitVisible('m')||(this.onlyOneUnit&&delta<3600&&delta>60)){this.diff.push({canvas:$('<div class="s_countdown_canvas_flex"><canvas class="w-100"/></div>').appendTo(this.$wrapper)[0],total:60,label:_t("Minutes"),nbSeconds:60,});}
if(this._isUnitVisible('s')||(this.onlyOneUnit&&delta<60)){this.diff.push({canvas:$('<div class="s_countdown_canvas_flex"><canvas class="w-100"/></div>').appendTo(this.$wrapper)[0],total:60,label:_t("Seconds"),nbSeconds:1,});}},_isUnitVisible:function(unit){return this.display.includes(unit);},_render:function(){if(this.onlyOneUnit&&this._getDelta()<this.diff[0].nbSeconds){this.$('.s_countdown_canvas_flex').remove();this._initTimeDiff();}
this._updateTimeDiff();const hideCountdown=this.isFinished&&!this.editableMode&&this.$el.hasClass('hide-countdown');if(this.layout==='text'){this.$('.s_countdown_canvas_flex').addClass('d-none');if(!this.$textWrapper){this.$textWrapper=$('<span/>').attr({class:'s_countdown_text_wrapper d-none',});this.$textWrapper.text(_t("Countdown ends in"));this.$textWrapper.append($('<span/>').attr({class:'s_countdown_text ml-1',}));this.$textWrapper.appendTo(this.$wrapper);}
this.$textWrapper.toggleClass('d-none',hideCountdown);const countdownText=this.diff.map(e=>e.nb+' '+e.label).join(', ');this.$('.s_countdown_text').text(countdownText.toLowerCase());}else{for(const val of this.diff){const canvas=val.canvas.querySelector('canvas');const ctx=canvas.getContext("2d");ctx.canvas.width=this.width;ctx.canvas.height=this.size;this._clearCanvas(ctx);$(canvas).toggleClass('d-none',hideCountdown);if(hideCountdown){continue;}
if(this.layoutBackground!=='none'){this._drawBgShape(ctx,this.layoutBackground==='plain');}
this._drawText(canvas,val.nb,val.label,this.layoutBackground==='plain');if(this.progressBarStyle==='surrounded'){this._drawProgressBarBg(ctx,this.progressBarWeight==='thin');}
if(this.progressBarStyle!=='none'){this._drawProgressBar(ctx,val.nb,val.total,this.progressBarWeight==='thin');}
this.$('.s_countdown_canvas_flex').toggleClass('mx-1',this.layout==='boxes');}}
if(this.isFinished){clearInterval(this.setInterval);if(!this.editableMode){this._handleEndCountdownAction();}}},_updateTimeDiff:function(){let delta=this._getDelta();this.isFinished=delta<0;if(this.isFinished){for(const unitData of this.diff){unitData.nb=0;}
return;}
this.hereBeforeTimerEnds=true;for(const unitData of this.diff){unitData.nb=Math.floor(delta/unitData.nbSeconds);delta-=unitData.nb*unitData.nbSeconds;}},_clearCanvas:function(ctx){ctx.clearRect(0,0,this.size,this.size);},_drawText:function(canvas,textNb,textUnit,full=false){const ctx=canvas.getContext("2d");const nbSize=this.size/4;ctx.font=`${nbSize}px Arial`;ctx.fillStyle=this.textColor;ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText(textNb,canvas.width/2,canvas.height/2);const unitSize=this.size/12;ctx.font=`${unitSize}px Arial`;ctx.fillText(textUnit,canvas.width/2,canvas.height/2+nbSize/1.5,this.width);if(this.layout==='boxes'&&this.layoutBackground!=='none'&&this.progressBarStyle==='none'){let barWidth=this.size/(this.progressBarWeight==='thin'?31:10);if(full){barWidth=0;}
ctx.beginPath();ctx.moveTo(barWidth,this.size/2);ctx.lineTo(this.width-barWidth,this.size/2);ctx.stroke();}},_drawBgShape:function(ctx,full=false){ctx.fillStyle=this.layoutBackgroundColor;ctx.beginPath();if(this.layout==='circle'){let rayon=this.size/2;if(this.progressBarWeight==='thin'){rayon-=full?this.size/29:this.size/15;}else{rayon-=full?0:this.size/10;}
ctx.arc(this.size/2,this.size/2,rayon,0,Math.PI*2);ctx.fill();}else if(this.layout==='boxes'){let barWidth=this.size/(this.progressBarWeight==='thin'?31:10);if(full){barWidth=0;}
ctx.fillStyle=this.layoutBackgroundColor;ctx.rect(barWidth,barWidth,this.width-barWidth*2,this.size-barWidth*2);ctx.fill();const gradient=ctx.createLinearGradient(0,this.width,0,0);gradient.addColorStop(0,'#ffffff24');gradient.addColorStop(1,this.layoutBackgroundColor);ctx.fillStyle=gradient;ctx.rect(barWidth,barWidth,this.width-barWidth*2,this.size-barWidth*2);ctx.fill();$(ctx.canvas).css({'border-radius':'8px'});}},_drawProgressBar:function(ctx,nbUnit,totalUnit,thinLine){ctx.strokeStyle=this.progressBarColor;ctx.lineWidth=thinLine?this.size/35:this.size/10;if(this.layout==='circle'){ctx.beginPath();ctx.arc(this.size/2,this.size/2,this.size/2-this.size/20,Math.PI/-2,(Math.PI*2)*(nbUnit/totalUnit)+(Math.PI/-2));ctx.stroke();}else if(this.layout==='boxes'){ctx.lineWidth*=2;let pc=nbUnit/totalUnit*100;const linesCoordFuncs=[(linePc)=>[0+ctx.lineWidth/2,0,(this.width-ctx.lineWidth/2)*linePc/25+ctx.lineWidth/2,0],(linePc)=>[this.width,0+ctx.lineWidth/2,this.width,(this.size-ctx.lineWidth/2)*linePc/25+ctx.lineWidth/2],(linePc)=>[this.width-((this.width-ctx.lineWidth/2)*linePc/25)-ctx.lineWidth/2,this.size,this.width-ctx.lineWidth/2,this.size],(linePc)=>[0,this.size-((this.size-ctx.lineWidth/2)*linePc/25)-ctx.lineWidth/2,0,this.size-ctx.lineWidth/2],];while(pc>0&&linesCoordFuncs.length){const linePc=Math.min(pc,25);const lineCoord=(linesCoordFuncs.shift())(linePc);ctx.beginPath();ctx.moveTo(lineCoord[0],lineCoord[1]);ctx.lineTo(lineCoord[2],lineCoord[3]);ctx.stroke();pc-=linePc;}}},_drawProgressBarBg:function(ctx,thinLine){ctx.strokeStyle=this.progressBarColor;ctx.globalAlpha=0.2;ctx.lineWidth=thinLine?this.size/35:this.size/10;if(this.layout==='circle'){ctx.beginPath();ctx.arc(this.size/2,this.size/2,this.size/2-this.size/20,0,Math.PI*2);ctx.stroke();}else if(this.layout==='boxes'){ctx.lineWidth*=2;const points=[[0+ctx.lineWidth/2,0,this.width,0],[this.width,0+ctx.lineWidth/2,this.width,this.size],[0,this.size,this.width-ctx.lineWidth/2,this.size],[0,0,0,this.size-ctx.lineWidth/2],];while(points.length){const point=points.shift();ctx.beginPath();ctx.moveTo(point[0],point[1]);ctx.lineTo(point[2],point[3]);ctx.stroke();}}
ctx.globalAlpha=1;},});publicWidget.registry.countdown=CountdownWidget;return CountdownWidget;});;

/* /website/static/src/snippets/s_popup/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_popup',function(require){'use strict';const config=require('web.config');const publicWidget=require('web.public.widget');const utils=require('web.utils');const PopupWidget=publicWidget.Widget.extend({selector:'.s_popup',events:{'click .js_close_popup':'_onCloseClick','hide.bs.modal':'_onHideModal','show.bs.modal':'_onShowModal',},start:function(){this._popupAlreadyShown=!!utils.get_cookie(this.$el.attr('id'));if(!this._popupAlreadyShown){this._bindPopup();}
return this._super(...arguments);},destroy:function(){this._super.apply(this,arguments);$(document).off('mouseleave.open_popup');this.$target.find('.modal').modal('hide');clearTimeout(this.timeout);},_bindPopup:function(){const $main=this.$target.find('.modal');let display=$main.data('display');let delay=$main.data('showAfter');if(config.device.isMobile){if(display==='mouseExit'){display='afterDelay';delay=5000;}
this.$('.modal').removeClass('s_popup_middle').addClass('s_popup_bottom');}
if(display==='afterDelay'){this.timeout=setTimeout(()=>this._showPopup(),delay);}else{$(document).on('mouseleave.open_popup',()=>this._showPopup());}},_canShowPopup(){return true;},_hidePopup:function(){this.$target.find('.modal').modal('hide');},_showPopup:function(){if(this._popupAlreadyShown||!this._canShowPopup()){return;}
this.$target.find('.modal').modal('show');},_onCloseClick:function(){this._hidePopup();},_onHideModal:function(){const nbDays=this.$el.find('.modal').data('consentsDuration');utils.set_cookie(this.$el.attr('id'),true,nbDays*24*60*60);this._popupAlreadyShown=true;this.$target.find('.media_iframe_video iframe').each((i,iframe)=>{iframe.src='';});},_onShowModal(){this.el.querySelectorAll('.media_iframe_video').forEach(media=>{const iframe=media.querySelector('iframe');iframe.src=media.dataset.oeExpression||media.dataset.src;});},});publicWidget.registry.popup=PopupWidget;const _baseSetScrollbar=$.fn.modal.Constructor.prototype._setScrollbar;$.fn.modal.Constructor.prototype._setScrollbar=function(){if(this._element.classList.contains('s_popup_no_backdrop')){return;}
return _baseSetScrollbar.apply(this,...arguments);};const _baseGetScrollbarWidth=$.fn.modal.Constructor.prototype._getScrollbarWidth;$.fn.modal.Constructor.prototype._getScrollbarWidth=function(){if(this._element.classList.contains('s_popup_no_backdrop')){return 0;}
return _baseGetScrollbarWidth.apply(this,...arguments);};return PopupWidget;});;

/* /website/static/src/snippets/s_table_of_content/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_table_of_content',function(require){'use strict';const publicWidget=require('web.public.widget');const{extraMenuUpdateCallbacks}=require('website.content.menu');const TableOfContent=publicWidget.Widget.extend({selector:'section .s_table_of_content_navbar_sticky',disabledInEditableMode:false,async start(){await this._super(...arguments);this._updateTableOfContentNavbarPosition();extraMenuUpdateCallbacks.push(this._updateTableOfContentNavbarPosition.bind(this));},destroy(){this.$target.css('top','');this.$target.find('.s_table_of_content_navbar').css('top','');this._super(...arguments);},_updateTableOfContentNavbarPosition(){let position=0;const $fixedElements=$('.o_top_fixed_element');_.each($fixedElements,el=>position+=$(el).outerHeight());const isHorizontalNavbar=this.$target.hasClass('s_table_of_content_horizontal_navbar');this.$target.css('top',isHorizontalNavbar?position:'');this.$target.find('.s_table_of_content_navbar').css('top',isHorizontalNavbar?'':position+20);const $mainNavBar=$('#oe_main_menu_navbar');position+=$mainNavBar.length?$mainNavBar.outerHeight():0;position+=isHorizontalNavbar?this.$target.outerHeight():0;$().getScrollingElement().scrollspy({target:'.s_table_of_content_navbar',method:'offset',offset:position+100,alwaysKeepFirstActive:true});},});publicWidget.registry.anchorSlide.include({_computeExtraOffset(){let extraOffset=this._super(...arguments);if(this.$el.hasClass('table_of_content_link')){const tableOfContentNavbarEl=this.$el.closest('.s_table_of_content_navbar_sticky.s_table_of_content_horizontal_navbar');if(tableOfContentNavbarEl.length>0){extraOffset+=$(tableOfContentNavbarEl).outerHeight();}}
return extraOffset;},});publicWidget.registry.snippetTableOfContent=TableOfContent;return TableOfContent;});;

/* /website/static/src/snippets/s_chart/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_chart',function(require){'use strict';const publicWidget=require('web.public.widget');const weUtils=require('web_editor.utils');const ChartWidget=publicWidget.Widget.extend({selector:'.s_chart',disabledInEditableMode:false,jsLibs:['/web/static/lib/Chart/Chart.js',],init:function(parent,options){this._super.apply(this,arguments);this.style=window.getComputedStyle(document.documentElement);},start:function(){const data=JSON.parse(this.el.dataset.data);data.datasets.forEach(el=>{if(Array.isArray(el.backgroundColor)){el.backgroundColor=el.backgroundColor.map(el=>this._convertToCssColor(el));el.borderColor=el.borderColor.map(el=>this._convertToCssColor(el));}else{el.backgroundColor=this._convertToCssColor(el.backgroundColor);el.borderColor=this._convertToCssColor(el.borderColor);}
el.borderWidth=this.el.dataset.borderWidth;});const chartData={type:this.el.dataset.type,data:data,options:{legend:{display:this.el.dataset.legendPosition!=='none',position:this.el.dataset.legendPosition,},tooltips:{enabled:this.el.dataset.tooltipDisplay==='true',},title:{display:!!this.el.dataset.title,text:this.el.dataset.title,},},};if(this.el.dataset.type==='radar'){chartData.options.scale={ticks:{beginAtZero:true,}};}else if(['pie','doughnut'].includes(this.el.dataset.type)){chartData.options.tooltips.callbacks={label:(tooltipItem,data)=>{const label=data.datasets[tooltipItem.datasetIndex].label;const secondLabel=data.labels[tooltipItem.index];let final=label;if(label){if(secondLabel){final=label+' - '+secondLabel;}}else if(secondLabel){final=secondLabel;}
return final+':'+data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];},};}else{chartData.options.scales={xAxes:[{stacked:this.el.dataset.stacked==='true',ticks:{beginAtZero:true},}],yAxes:[{stacked:this.el.dataset.stacked==='true',ticks:{beginAtZero:true},}],};}
if(this.editableMode){chartData.options.animation={duration:0,};}
const canvas=this.el.querySelector('canvas');this.chart=new window.Chart(canvas,chartData);return this._super.apply(this,arguments);},destroy:function(){if(this.chart){this.chart.destroy();this.el.querySelectorAll('.chartjs-size-monitor').forEach(el=>el.remove());}
this._super.apply(this,arguments);},_convertToCssColor:function(color){if(!color){return'transparent';}
return weUtils.getCSSVariableValue(color,this.style)||color;},});publicWidget.registry.chart=ChartWidget;return ChartWidget;});;

/* /website/static/src/snippets/s_google_map/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_google_map',function(require){'use strict';const publicWidget=require('web.public.widget');publicWidget.registry.GoogleMap=publicWidget.Widget.extend({selector:'.s_google_map',disabledInEditableMode:false,mapColors:{lightMonoMap:[{"featureType":"administrative.locality","elementType":"all","stylers":[{"hue":"#2c2e33"},{"saturation":7},{"lightness":19},{"visibility":"on"}]},{"featureType":"landscape","elementType":"all","stylers":[{"hue":"#ffffff"},{"saturation":-100},{"lightness":100},{"visibility":"simplified"}]},{"featureType":"poi","elementType":"all","stylers":[{"hue":"#ffffff"},{"saturation":-100},{"lightness":100},{"visibility":"off"}]},{"featureType":"road","elementType":"geometry","stylers":[{"hue":"#bbc0c4"},{"saturation":-93},{"lightness":31},{"visibility":"simplified"}]},{"featureType":"road","elementType":"labels","stylers":[{"hue":"#bbc0c4"},{"saturation":-93},{"lightness":31},{"visibility":"on"}]},{"featureType":"road.arterial","elementType":"labels","stylers":[{"hue":"#bbc0c4"},{"saturation":-93},{"lightness":-2},{"visibility":"simplified"}]},{"featureType":"road.local","elementType":"geometry","stylers":[{"hue":"#e9ebed"},{"saturation":-90},{"lightness":-8},{"visibility":"simplified"}]},{"featureType":"transit","elementType":"all","stylers":[{"hue":"#e9ebed"},{"saturation":10},{"lightness":69},{"visibility":"on"}]},{"featureType":"water","elementType":"all","stylers":[{"hue":"#e9ebed"},{"saturation":-78},{"lightness":67},{"visibility":"simplified"}]}],lillaMap:[{elementType:"labels",stylers:[{saturation:-20}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:'road.highway',elementType:'labels',stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"poi.government",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"poi.sport_complex",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"poi.attraction",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"poi.business",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"transit.station",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"landscape",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]},{featureType:"water",elementType:"geometry",stylers:[{hue:'#2d313f'},{visibility:"on"},{lightness:5},{saturation:-20}]}],blueMap:[{stylers:[{hue:"#00ffe6"},{saturation:-20}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]}],retroMap:[{"featureType":"administrative","elementType":"all","stylers":[{"visibility":"on"},{"lightness":33}]},{"featureType":"landscape","elementType":"all","stylers":[{"color":"#f2e5d4"}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"color":"#c5dac6"}]},{"featureType":"poi.park","elementType":"labels","stylers":[{"visibility":"on"},{"lightness":20}]},{"featureType":"road","elementType":"all","stylers":[{"lightness":20}]},{"featureType":"road.highway","elementType":"geometry","stylers":[{"color":"#c5c6c6"}]},{"featureType":"road.arterial","elementType":"geometry","stylers":[{"color":"#e4d7c6"}]},{"featureType":"road.local","elementType":"geometry","stylers":[{"color":"#fbfaf7"}]},{"featureType":"water","elementType":"all","stylers":[{"visibility":"on"},{"color":"#acbcc9"}]}],flatMap:[{"stylers":[{"visibility":"off"}]},{"featureType":"road","stylers":[{"visibility":"on"},{"color":"#ffffff"}]},{"featureType":"road.arterial","stylers":[{"visibility":"on"},{"color":"#fee379"}]},{"featureType":"road.highway","stylers":[{"visibility":"on"},{"color":"#fee379"}]},{"featureType":"landscape","stylers":[{"visibility":"on"},{"color":"#f3f4f4"}]},{"featureType":"water","stylers":[{"visibility":"on"},{"color":"#7fc8ed"}]},{},{"featureType":"road","elementType":"labels","stylers":[{"visibility":"on"}]},{"featureType":"poi.park","elementType":"geometry.fill","stylers":[{"visibility":"on"},{"color":"#83cead"}]},{"elementType":"labels","stylers":[{"visibility":"on"}]},{"featureType":"landscape.man_made","elementType":"geometry","stylers":[{"weight":0.9},{"visibility":"off"}]}],cobaltMap:[{"featureType":"all","elementType":"all","stylers":[{"invert_lightness":true},{"saturation":10},{"lightness":30},{"gamma":0.5},{"hue":"#435158"}]}],cupertinoMap:[{"featureType":"water","elementType":"geometry","stylers":[{"color":"#a2daf2"}]},{"featureType":"landscape.man_made","elementType":"geometry","stylers":[{"color":"#f7f1df"}]},{"featureType":"landscape.natural","elementType":"geometry","stylers":[{"color":"#d0e3b4"}]},{"featureType":"landscape.natural.terrain","elementType":"geometry","stylers":[{"visibility":"off"}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"color":"#bde6ab"}]},{"featureType":"poi","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"poi.medical","elementType":"geometry","stylers":[{"color":"#fbd3da"}]},{"featureType":"poi.business","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"geometry.stroke","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"road.highway","elementType":"geometry.fill","stylers":[{"color":"#ffe15f"}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"color":"#efd151"}]},{"featureType":"road.arterial","elementType":"geometry.fill","stylers":[{"color":"#ffffff"}]},{"featureType":"road.local","elementType":"geometry.fill","stylers":[{"color":"black"}]},{"featureType":"transit.station.airport","elementType":"geometry.fill","stylers":[{"color":"#cfb2db"}]}],carMap:[{"featureType":"administrative","stylers":[{"visibility":"off"}]},{"featureType":"poi","stylers":[{"visibility":"simplified"}]},{"featureType":"road","stylers":[{"visibility":"simplified"}]},{"featureType":"water","stylers":[{"visibility":"simplified"}]},{"featureType":"transit","stylers":[{"visibility":"simplified"}]},{"featureType":"landscape","stylers":[{"visibility":"simplified"}]},{"featureType":"road.highway","stylers":[{"visibility":"off"}]},{"featureType":"road.local","stylers":[{"visibility":"on"}]},{"featureType":"road.highway","elementType":"geometry","stylers":[{"visibility":"on"}]},{"featureType":"water","stylers":[{"color":"#84afa3"},{"lightness":52}]},{"stylers":[{"saturation":-77}]},{"featureType":"road"}],bwMap:[{stylers:[{hue:"#00ffe6"},{saturation:-100}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]}],},async start(){await this._super(...arguments);if(typeof google!=='object'||typeof google.maps!=='object'){await new Promise(resolve=>{this.trigger_up('gmap_api_request',{editableMode:this.editableMode,onSuccess:()=>resolve(),});});return;}
const std=[];new google.maps.StyledMapType(std,{name:"Std Map"});const myOptions={zoom:12,center:new google.maps.LatLng(50.854975,4.3753899),mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:false,zoomControl:false,mapTypeControl:false,streetViewControl:false,scrollwheel:false,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,'map_style']}};const mapC=this.$('.map_container');const map=new google.maps.Map(mapC.get(0),myOptions);const p=this.el.dataset.mapGps.substring(1).slice(0,-1).split(',');const gps=new google.maps.LatLng(p[0],p[1]);map.setCenter(gps);google.maps.event.addDomListener(window,'resize',()=>{map.setCenter(gps);});const markerOptions={map:map,animation:google.maps.Animation.DROP,position:new google.maps.LatLng(p[0],p[1])};if(this.el.dataset.pinStyle==='flat'){markerOptions.icon='/website/static/src/img/snippets_thumbs/s_google_map_marker.png';}
new google.maps.Marker(markerOptions);map.setMapTypeId(google.maps.MapTypeId[this.el.dataset.mapType]);map.setZoom(parseInt(this.el.dataset.mapZoom));const mapColorAttr=this.el.dataset.mapColor;if(mapColorAttr){const mapColor=this.mapColors[mapColorAttr];map.mapTypes.set('map_style',new google.maps.StyledMapType(mapColor,{name:"Styled Map"}));map.setMapTypeId('map_style');}},});});;

/* /website/static/src/snippets/s_dynamic_snippet/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_dynamic_snippet',function(require){'use strict';const core=require('web.core');const config=require('web.config');const publicWidget=require('web.public.widget');const{Markup}=require('web.utils');const DynamicSnippet=publicWidget.Widget.extend({selector:'.s_dynamic_snippet',xmlDependencies:['/website/static/src/snippets/s_dynamic_snippet/000.xml'],read_events:{'click [data-url]':'_onCallToAction',},disabledInEditableMode:false,init:function(){this._super.apply(this,arguments);this.data=[];this.renderedContent='';this.isDesplayedAsMobile=config.device.isMobile;this.uniqueId=_.uniqueId('s_dynamic_snippet_');this.template_key='website.s_dynamic_snippet.grid';},willStart:function(){return this._super.apply(this,arguments).then(()=>Promise.all([this._fetchData(),]));},start:function(){return this._super.apply(this,arguments).then(()=>{this._setupSizeChangedManagement(true);this.options.wysiwyg&&this.options.wysiwyg.odooEditor.observerUnactive();this._render();this.options.wysiwyg&&this.options.wysiwyg.odooEditor.observerActive();});},destroy:function(){this.options.wysiwyg&&this.options.wysiwyg.odooEditor.observerUnactive();this._toggleVisibility(false);this._setupSizeChangedManagement(false);this._clearContent();this.options.wysiwyg&&this.options.wysiwyg.odooEditor.observerActive();this._super.apply(this,arguments);},_clearContent:function(){const $dynamicSnippetTemplate=this.$el.find('.dynamic_snippet_template');if($dynamicSnippetTemplate){$dynamicSnippetTemplate.html('');}},_isConfigComplete:function(){return this.$el.get(0).dataset.filterId!==undefined&&this.$el.get(0).dataset.templateKey!==undefined;},_getSearchDomain:function(){return[];},_getRpcParameters:function(){return{};},async _fetchData(){if(this._isConfigComplete()){const nodeData=this.el.dataset;const filterFragments=await this._rpc({'route':'/website/snippet/filters','params':Object.assign({'filter_id':parseInt(nodeData.filterId),'template_key':nodeData.templateKey,'limit':parseInt(nodeData.numberOfRecords),'search_domain':this._getSearchDomain(),'with_sample':this.editableMode,},this._getRpcParameters()),});this.data=filterFragments.map(Markup);}else{this.data=[];}},_prepareContent:function(){if(this.$target[0].dataset.numberOfElements&&this.$target[0].dataset.numberOfElementsSmallDevices){this.renderedContent=core.qweb.render(this.template_key,this._getQWebRenderOptions());}else{this.renderedContent='';}},_getQWebRenderOptions:function(){return{chunkSize:parseInt(config.device.isMobile?this.$target[0].dataset.numberOfElementsSmallDevices:this.$target[0].dataset.numberOfElements),data:this.data,uniqueId:this.uniqueId};},_render:function(){if(this.data.length>0||this.editableMode){this.$el.removeClass('d-none');this._prepareContent();}else{this.$el.addClass('d-none');this.renderedContent='';}
this._renderContent();},_renderContent:function(){this.$el.find('.dynamic_snippet_template').html(this.renderedContent);},_setupSizeChangedManagement:function(enable){if(enable===true){config.device.bus.on('size_changed',this,this._onSizeChanged);}else{config.device.bus.off('size_changed',this,this._onSizeChanged);}},_toggleVisibility:function(visible){this.$el.toggleClass('d-none',!visible);},_onCallToAction:function(ev){window.location=$(ev.currentTarget).attr('data-url');},_onSizeChanged:function(size){if(this.isDesplayedAsMobile!==config.device.isMobile){this.isDesplayedAsMobile=config.device.isMobile;this._render();}},});publicWidget.registry.dynamic_snippet=DynamicSnippet;return DynamicSnippet;});;

/* /website/static/src/snippets/s_dynamic_snippet_carousel/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_dynamic_snippet_carousel',function(require){'use strict';const config=require('web.config');const core=require('web.core');const publicWidget=require('web.public.widget');const DynamicSnippet=require('website.s_dynamic_snippet');const DynamicSnippetCarousel=DynamicSnippet.extend({selector:'.s_dynamic_snippet_carousel',xmlDependencies:(DynamicSnippet.prototype.xmlDependencies||[]).concat(['/website/static/src/snippets/s_dynamic_snippet_carousel/000.xml']),init:function(){this._super.apply(this,arguments);this.template_key='website.s_dynamic_snippet.carousel';},_getQWebRenderOptions:function(){return Object.assign(this._super.apply(this,arguments),{interval:parseInt(this.$target[0].dataset.carouselInterval),},);},_renderContent:function(){this._super.apply(this,arguments);this._computeHeights();},_computeHeights:function(){var maxHeight=0;var $items=this.$('.carousel-item');$items.css('min-height','');_.each($items,function(el){var $item=$(el);var isActive=$item.hasClass('active');$item.addClass('active');var height=$item.outerHeight();if(height>maxHeight){maxHeight=height;}
$item.toggleClass('active',isActive);});$items.css('min-height',maxHeight);},});publicWidget.registry.dynamic_snippet_carousel=DynamicSnippetCarousel;return DynamicSnippetCarousel;});;

/* /website/static/src/snippets/s_website_form/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website.s_website_form',function(require){'use strict';var core=require('web.core');var time=require('web.time');const{ReCaptcha}=require('google_recaptcha.ReCaptchaV3');const session=require('web.session');var ajax=require('web.ajax');var publicWidget=require('web.public.widget');const dom=require('web.dom');const concurrency=require('web.concurrency');var _t=core._t;var qweb=core.qweb;publicWidget.registry.EditModeWebsiteForm=publicWidget.Widget.extend({selector:'.s_website_form form, form.s_website_form',disabledInEditableMode:false,start:function(){if(this.editableMode){const dateTimeFormat=time.getLangDatetimeFormat();const dateFormat=time.getLangDateFormat();this.$target[0].querySelectorAll('.s_website_form_input.datetimepicker-input').forEach(el=>{const value=el.getAttribute('value');if(value){const format=el.closest('.s_website_form_field').dataset.type==='date'?dateFormat:dateTimeFormat;el.value=moment.unix(value).format(format);}});}
return this._super(...arguments);},});publicWidget.registry.s_website_form=publicWidget.Widget.extend({selector:'.s_website_form form, form.s_website_form',xmlDependencies:['/website/static/src/xml/website_form.xml'],events:{'click .s_website_form_send, .o_website_form_send':'send',},init:function(){this._super(...arguments);this._recaptcha=new ReCaptcha();this._visibilityFunctionByFieldName=new Map();this._visibilityFunctionByFieldEl=new Map();this.__started=new Promise(resolve=>this.__startResolve=resolve);},willStart:async function(){const res=this._super(...arguments);if(!this.$target[0].classList.contains('s_website_form_no_recaptcha')){this._recaptchaLoaded=true;this._recaptcha.loadLibs();}
this.preFillValues={};if(session.user_id){this.preFillValues=(await this._rpc({model:'res.users',method:'read',args:[session.user_id,this._getUserPreFillFields()],}))[0]||{};}
return res;},start:function(){var self=this;const visibilityFunctionsByFieldName=new Map();for(const fieldEl of this.$target[0].querySelectorAll('[data-visibility-dependency]')){const inputName=fieldEl.querySelector('.s_website_form_input').name;if(!visibilityFunctionsByFieldName.has(inputName)){visibilityFunctionsByFieldName.set(inputName,[]);}
const func=this._buildVisibilityFunction(fieldEl);visibilityFunctionsByFieldName.get(inputName).push(func);this._visibilityFunctionByFieldEl.set(fieldEl,func);}
for(const[name,funcs]of visibilityFunctionsByFieldName.entries()){this._visibilityFunctionByFieldName.set(name,()=>funcs.some(func=>func()));}
this._updateFieldsVisibility();this._onFieldInputDebounced=_.debounce(this._onFieldInput.bind(this),400);this.$el.on('input.s_website_form','.s_website_form_field',this._onFieldInputDebounced);var datepickers_options={minDate:moment({y:1000}),maxDate:moment({y:9999,M:11,d:31}),calendarWeeks:true,icons:{time:'fa fa-clock-o',date:'fa fa-calendar',next:'fa fa-chevron-right',previous:'fa fa-chevron-left',up:'fa fa-chevron-up',down:'fa fa-chevron-down',},locale:moment.locale(),format:time.getLangDatetimeFormat(),extraFormats:['X'],};const $datetimes=this.$target.find('.s_website_form_datetime, .o_website_form_datetime');$datetimes.datetimepicker(datepickers_options);datepickers_options.format=time.getLangDateFormat();const $dates=this.$target.find('.s_website_form_date, .o_website_form_date');$dates.datetimepicker(datepickers_options);this.$allDates=$datetimes.add($dates);this.$allDates.addClass('s_website_form_datepicker_initialized');var $dataFor=$('[data-for='+this.$target.attr('id')+']');if($dataFor.length||!_.isEmpty(this.preFillValues)){var dataForValues=$dataFor.length?JSON.parse($dataFor.data('values').replace('False','""').replace('None','""').replace(/'/g,'"')):[];var fields=_.pluck(this.$target.serializeArray(),'name');_.each(fields,function(field){var $field=self.$target.find('input[name="'+field+'"], textarea[name="'+field+'"]');if(!$field.val()&&_.has(dataForValues,field)&&dataForValues[field]){$field.val(dataForValues[field]);}else if(!$field.val()&&$field.data('fill-with')){$field.val(self.preFillValues[$field.data('fill-with')]||'');}
$field.data('website_form_original_default_value',$field.val());});}
this.inputEls=this.$target[0].querySelectorAll('.s_website_form_field.s_website_form_field_hidden_if .s_website_form_input');this._disabledStates=new Map();for(const inputEl of this.inputEls){this._disabledStates[inputEl]=inputEl.disabled;}
return this._super(...arguments).then(()=>this.__startResolve());},destroy:function(){this._super.apply(this,arguments);this.$target.find('button').off('click');this.$target[0].reset();const dateTimeFormat=time.getLangDatetimeFormat();const dateFormat=time.getLangDateFormat();this.$target[0].querySelectorAll('input[type="text"], input[type="email"], input[type="number"]').forEach(el=>{let value=el.getAttribute('value');if(value){if(el.classList.contains('datetimepicker-input')){const format=el.closest('.s_website_form_field').dataset.type==='date'?dateFormat:dateTimeFormat;value=moment.unix(value).format(format);}
el.value=value;}});this.$target[0].querySelectorAll('textarea').forEach(el=>el.value=el.textContent);this.$target.find('.o_has_error').removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');this.$target.find('#s_website_form_result, #o_website_form_result').empty();this.$target.removeClass('d-none');this.$target.parent().find('.s_website_form_end_message').addClass('d-none');this.$allDates.removeClass('s_website_form_datepicker_initialized');for(const inputEl of this.inputEls){inputEl.disabled=!!this._disabledStates.get(inputEl);}
this.$target[0].querySelectorAll('.s_website_form_field_hidden_if:not(.d-none)').forEach(el=>el.classList.add('d-none'));this.$el.off('.s_website_form');},send:async function(e){e.preventDefault();const $button=this.$target.find('.s_website_form_send, .o_website_form_send');$button.addClass('disabled').attr('disabled','disabled');this.restoreBtnLoading=dom.addButtonLoadingEffect($button[0]);var self=this;self.$target.find('#s_website_form_result, #o_website_form_result').empty();if(!self.check_error_fields({})){self.update_status('error',_t("Please fill in the form correctly."));return false;}
this.form_fields=this.$target.serializeArray();$.each(this.$target.find('input[type=file]'),function(outer_index,input){$.each($(input).prop('files'),function(index,file){self.form_fields.push({name:input.name+'['+outer_index+']['+index+']',value:file});});});var form_values={};_.each(this.form_fields,function(input){if(input.name in form_values){if(Array.isArray(form_values[input.name])){form_values[input.name].push(input.value);}else{form_values[input.name]=[form_values[input.name],input.value];}}else{if(input.value!==''){form_values[input.name]=input.value;}}});this.$target.find('.s_website_form_field:not(.s_website_form_custom)').find('.s_website_form_date, .s_website_form_datetime').each(function(){var date=$(this).datetimepicker('viewDate').clone().locale('en');var format='YYYY-MM-DD';if($(this).hasClass('s_website_form_datetime')){date=date.utc();format='YYYY-MM-DD HH:mm:ss';}
form_values[$(this).find('input').attr('name')]=date.format(format);});if(this._recaptchaLoaded){const tokenObj=await this._recaptcha.getToken('website_form');if(tokenObj.token){form_values['recaptcha_token_response']=tokenObj.token;}else if(tokenObj.error){self.update_status('error',tokenObj.error);return false;}}
ajax.post(this.$target.attr('action')+(this.$target.data('force_action')||this.$target.data('model_name')),form_values).then(async function(result_data){self.$target.find('.s_website_form_send, .o_website_form_send').removeAttr('disabled').removeClass('disabled');result_data=JSON.parse(result_data);if(!result_data.id){self.update_status('error',result_data.error?result_data.error:false);if(result_data.error_fields){self.check_error_fields(result_data.error_fields);}}else{let successMode=self.$target[0].dataset.successMode;let successPage=self.$target[0].dataset.successPage;if(!successMode){successPage=self.$target.attr('data-success_page');successMode=successPage?'redirect':'nothing';}
switch(successMode){case'redirect':{successPage=successPage.startsWith("/#")?successPage.slice(1):successPage;if(successPage.charAt(0)==="#"){await dom.scrollTo($(successPage)[0],{duration:500,extraOffset:0,});break;}
$(window.location).attr('href',successPage);return;}
case'message':{await concurrency.delay(dom.DEBOUNCE);self.$target[0].classList.add('d-none');self.$target[0].parentElement.querySelector('.s_website_form_end_message').classList.remove('d-none');return;}
default:{await concurrency.delay(dom.DEBOUNCE);self.update_status('success');break;}}
self.$target[0].reset();self.restoreBtnLoading();}}).guardedCatch(error=>{this.update_status('error',error.status&&error.status===413?_t("Uploaded file is too large."):"",);});},check_error_fields:function(error_fields){var self=this;var form_valid=true;this.$target.find('.form-field, .s_website_form_field').each(function(k,field){var $field=$(field);var field_name=$field.find('.col-form-label').attr('for');var inputs=$field.find('.s_website_form_input, .o_website_form_input').not('#editable_select');var invalid_inputs=inputs.toArray().filter(function(input,k,inputs){if(input.required&&input.type==='checkbox'){var checkboxes=_.filter(inputs,function(input){return input.required&&input.type==='checkbox';});return!_.any(checkboxes,checkbox=>checkbox.checked);}else if($(input).hasClass('s_website_form_date')||$(input).hasClass('o_website_form_date')){if(!self.is_datetime_valid(input.value,'date')){return true;}}else if($(input).hasClass('s_website_form_datetime')||$(input).hasClass('o_website_form_datetime')){if(!self.is_datetime_valid(input.value,'datetime')){return true;}}
return!input.checkValidity();});$field.removeClass('o_has_error').find('.form-control, .custom-select').removeClass('is-invalid');if(invalid_inputs.length||error_fields[field_name]){$field.addClass('o_has_error').find('.form-control, .custom-select').addClass('is-invalid');if(_.isString(error_fields[field_name])){$field.popover({content:error_fields[field_name],trigger:'hover',container:'body',placement:'top'});$field.data("bs.popover").config.content=error_fields[field_name];$field.popover('show');}
form_valid=false;}});return form_valid;},is_datetime_valid:function(value,type_of_date){if(value===""){return true;}else{try{this.parse_date(value,type_of_date);return true;}catch(e){return false;}}},parse_date:function(value,type_of_date,value_if_empty){var date_pattern=time.getLangDateFormat(),time_pattern=time.getLangTimeFormat();var date_pattern_wo_zero=date_pattern.replace('MM','M').replace('DD','D'),time_pattern_wo_zero=time_pattern.replace('HH','H').replace('mm','m').replace('ss','s');switch(type_of_date){case'datetime':var datetime=moment(value,[date_pattern+' '+time_pattern,date_pattern_wo_zero+' '+time_pattern_wo_zero],true);if(datetime.isValid()){return time.datetime_to_str(datetime.toDate());}
throw new Error(_.str.sprintf(_t("'%s' is not a correct datetime"),value));case'date':var date=moment(value,[date_pattern,date_pattern_wo_zero],true);if(date.isValid()){return time.date_to_str(date.toDate());}
throw new Error(_.str.sprintf(_t("'%s' is not a correct date"),value));}
return value;},update_status:function(status,message){if(status!=='success'){this.$target.find('.s_website_form_send, .o_website_form_send').removeAttr('disabled').removeClass('disabled');this.restoreBtnLoading();}
var $result=this.$('#s_website_form_result, #o_website_form_result');if(status==='error'&&!message){message=_t("An error has occured, the form has not been sent.");}
this.__started.then(()=>$result.replaceWith(qweb.render(`website.s_website_form_status_${status}`,{message:message,})));},_getUserPreFillFields(){return['name','phone','email','commercial_company_name'];},_compareTo(comparator,value='',comparable,between){switch(comparator){case'contains':return value.includes(comparable);case'!contains':return!value.includes(comparable);case'equal':case'selected':return value===comparable;case'!equal':case'!selected':return value!==comparable;case'set':return value;case'!set':return!value;case'greater':return value>comparable;case'less':return value<comparable;case'greater or equal':return value>=comparable;case'less or equal':return value<=comparable;}
if(value.includes(':')){const datetimeFormat=time.getLangDatetimeFormat();value=moment(value,datetimeFormat)._d.getTime()/1000;}else{const dateFormat=time.getLangDateFormat();value=moment(value,dateFormat)._d.getTime()/1000;}
comparable=parseInt(comparable);between=parseInt(between)||'';switch(comparator){case'dateEqual':return value===comparable;case'date!equal':return value!==comparable;case'before':return value<comparable;case'after':return value>comparable;case'equal or before':return value<=comparable;case'between':return value>=comparable&&value<=between;case'!between':return!(value>=comparable&&value<=between);case'equal or after':return value>=comparable;}},_buildVisibilityFunction(fieldEl){const visibilityCondition=fieldEl.dataset.visibilityCondition;const dependencyName=fieldEl.dataset.visibilityDependency;const comparator=fieldEl.dataset.visibilityComparator;const between=fieldEl.dataset.visibilityBetween;return()=>{const dependencyVisibilityFunction=this._visibilityFunctionByFieldName.get(dependencyName);const dependencyIsVisible=!dependencyVisibilityFunction||dependencyVisibilityFunction();if(!dependencyIsVisible){return false;}
const formData=new FormData(this.$target[0]);const currentValueOfDependency=formData.get(dependencyName);return this._compareTo(comparator,currentValueOfDependency,visibilityCondition,between);};},_updateFieldsVisibility(){for(const[fieldEl,visibilityFunction]of this._visibilityFunctionByFieldEl.entries()){this._updateFieldVisibility(fieldEl,visibilityFunction());}},_updateFieldVisibility(fieldEl,haveToBeVisible){const fieldContainerEl=fieldEl.closest('.s_website_form_field');fieldContainerEl.classList.toggle('d-none',!haveToBeVisible);for(const inputEl of fieldContainerEl.querySelectorAll('.s_website_form_input')){inputEl.disabled=!haveToBeVisible;}},_onFieldInput(){this._updateFieldsVisibility();},});});;

/* /website_blog/static/src/snippets/s_blog_posts/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_blog.s_blog_posts_frontend',function(require){'use strict';var publicWidget=require('web.public.widget');const DynamicSnippet=require('website.s_dynamic_snippet');const DynamicSnippetBlogPosts=DynamicSnippet.extend({selector:'.s_dynamic_snippet_blog_posts',disabledInEditableMode:false,_getSearchDomain:function(){const searchDomain=this._super.apply(this,arguments);const filterByBlogId=parseInt(this.$el.get(0).dataset.filterByBlogId);if(filterByBlogId>=0){searchDomain.push(['blog_id','=',filterByBlogId]);}
return searchDomain;},});publicWidget.registry.blog_posts=DynamicSnippetBlogPosts;return DynamicSnippetBlogPosts;});;

/* /website_sale/static/src/snippets/s_dynamic_snippet_products/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('website_sale.s_dynamic_snippet_products',function(require){'use strict';const config=require('web.config');const core=require('web.core');const publicWidget=require('web.public.widget');const DynamicSnippetCarousel=require('website.s_dynamic_snippet_carousel');var wSaleUtils=require('website_sale.utils');const DynamicSnippetProducts=DynamicSnippetCarousel.extend({selector:'.s_dynamic_snippet_products',read_events:{'click .js_add_cart':'_onAddToCart','click .js_remove':'_onRemoveFromRecentlyViewed',},_getSearchDomain:function(){const searchDomain=this._super.apply(this,arguments);let productCategoryId=this.$el.get(0).dataset.productCategoryId;if(productCategoryId&&productCategoryId!=='all'){if(productCategoryId==='current'){productCategoryId=undefined;const productCategoryField=$("#product_details").find(".product_category_id");if(productCategoryField&&productCategoryField.length){productCategoryId=parseInt(productCategoryField[0].value);}
if(!productCategoryId){this.trigger_up('main_object_request',{callback:function(value){if(value.model==="product.public.category"){productCategoryId=value.id;}},});}
if(!productCategoryId){const productTemplateId=$("#product_details").find(".product_template_id");if(productTemplateId&&productTemplateId.length){searchDomain.push(['public_categ_ids.product_tmpl_ids','=',parseInt(productTemplateId[0].value)]);}}}
if(productCategoryId){searchDomain.push(['public_categ_ids','child_of',parseInt(productCategoryId)]);}}
const productNames=this.$el.get(0).dataset.productNames;if(productNames){const nameDomain=[];for(const productName of productNames.split(',')){if(nameDomain.length){nameDomain.unshift('|');}
nameDomain.push(['name','ilike',productName]);}
searchDomain.push(...nameDomain);}
return searchDomain;},_getRpcParameters:function(){const productTemplateId=$("#product_details").find(".product_template_id");return Object.assign(this._super.apply(this,arguments),{productTemplateId:productTemplateId&&productTemplateId.length?productTemplateId[0].value:undefined,});},_onAddToCart:function(ev){var self=this;var $card=$(ev.currentTarget).closest('.card');this._rpc({route:"/shop/cart/update_json",params:{product_id:$card.find('input[data-product-id]').data('product-id'),add_qty:1},}).then(function(data){var $navButton=$('header .o_wsale_my_cart').first();var fetch=self._fetchData();var animation=wSaleUtils.animateClone($navButton,$(ev.currentTarget).parents('.card'),25,40);Promise.all([fetch,animation]).then(function(values){wSaleUtils.updateCartNavBar(data);if(self.add2cartRerender){self._render();}});});},_renderContent(){this._super(...arguments);this.add2cartRerender=!!this.el.querySelector('[data-add2cart-rerender="True"]');},_onRemoveFromRecentlyViewed:function(ev){var self=this;var $card=$(ev.currentTarget).closest('.card');this._rpc({route:"/shop/products/recently_viewed_delete",params:{product_id:$card.find('input[data-product-id]').data('product-id'),},}).then(function(data){self._fetchData().then(()=>self._render());});},});publicWidget.registry.dynamic_snippet_products=DynamicSnippetProducts;return DynamicSnippetProducts;});;

/* /website/static/src/snippets/s_searchbar/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website/snippets/s_searchbar/000',async function(require){'use strict';let __exports={};const concurrency=require('web.concurrency');const publicWidget=require('web.public.widget');const{qweb}=require('web.core');const{Markup}=require('web.utils');publicWidget.registry.searchBar=publicWidget.Widget.extend({selector:'.o_searchbar_form',xmlDependencies:['/website/static/src/snippets/s_searchbar/000.xml'],events:{'input .search-query':'_onInput','focusout':'_onFocusOut','keydown .search-query':'_onKeydown','search .search-query':'_onSearch',},autocompleteMinWidth:300,init:function(){this._super.apply(this,arguments);this._dp=new concurrency.DropPrevious();this._onInput=_.debounce(this._onInput,400);this._onFocusOut=_.debounce(this._onFocusOut,100);},start:function(){this.$input=this.$('.search-query');this.searchType=this.$input.data('searchType');this.order=this.$('.o_search_order_by').val();this.limit=parseInt(this.$input.data('limit'));this.displayDescription=this.$input.data('displayDescription');this.displayExtraLink=this.$input.data('displayExtraLink');this.displayDetail=this.$input.data('displayDetail');this.displayImage=this.$input.data('displayImage');this.wasEmpty=!this.$input.val();this.allowFuzzy=!this.$input.data('noFuzzy');if(this.limit){this.$input.attr('autocomplete','off');}
this.options={'displayImage':this.displayImage,'displayDescription':this.displayDescription,'displayExtraLink':this.displayExtraLink,'displayDetail':this.displayDetail,'allowFuzzy':this.allowFuzzy,};const form=this.$('.o_search_order_by').parents('form');for(const field of form.find("input[type='hidden']")){this.options[field.name]=field.value;}
const action=form.attr('action')||window.location.pathname+window.location.search;const[urlPath,urlParams]=action.split('?');if(urlParams){for(const keyValue of urlParams.split('&')){const[key,value]=keyValue.split('=');if(value&&key!=='search'){this.options[key]=value;}}}
const pathParts=urlPath.split('/');for(const index in pathParts){const value=pathParts[index];if(index>0&&/-[0-9]+$/.test(value)){this.options[pathParts[index-1]]=value;}}
if(this.$input.data('noFuzzy')){$("<input type='hidden' name='noFuzzy' value='true'/>").appendTo(this.$input);}
return this._super.apply(this,arguments);},async _fetch(){const res=await this._rpc({route:'/website/snippet/autocomplete',params:{'search_type':this.searchType,'term':this.$input.val(),'order':this.order,'limit':this.limit,'max_nb_chars':Math.round(Math.max(this.autocompleteMinWidth,parseInt(this.$el.width()))*0.22),'options':this.options,},});const fieldNames=['name','description','extra_link','detail','detail_strike','detail_extra',];res.results.forEach(record=>{for(const fieldName of fieldNames){if(record[fieldName]){if(typeof record[fieldName]==="object"){for(const fieldKey of Object.keys(record[fieldName])){record[fieldName][fieldKey]=Markup(record[fieldName][fieldKey]);}}else{record[fieldName]=Markup(record[fieldName]);}}}});return res;},_render:function(res){const $prevMenu=this.$menu;this.$el.toggleClass('dropdown show',!!res);if(res&&this.limit){const results=res['results'];let template='website.s_searchbar.autocomplete';const candidate=template+'.'+this.searchType;if(qweb.has_template(candidate)){template=candidate;}
this.$menu=$(qweb.render(template,{results:results,parts:res['parts'],hasMoreResults:results.length<res['results_count'],search:this.$input.val(),fuzzySearch:res['fuzzy_search'],widget:this,}));this.$menu.css('min-width',this.autocompleteMinWidth);this.$el.append(this.$menu);this.$el.find('button.extra_link').on('click',function(event){event.preventDefault();window.location.href=event.currentTarget.dataset['target'];});this.$el.find('.s_searchbar_fuzzy_submit').on('click',(event)=>{event.preventDefault();this.$input.val(res['fuzzy_search']);const form=this.$('.o_search_order_by').parents('form');form.submit();});}
if($prevMenu){$prevMenu.remove();}},_onInput:function(){if(!this.limit){return;}
if(this.searchType==='all'&&!this.$input.val().trim().length){this._render();}else{this._dp.add(this._fetch()).then(this._render.bind(this));}},_onFocusOut:function(){if(!this.$el.has(document.activeElement).length){this._render();}},_onKeydown:function(ev){switch(ev.which){case $.ui.keyCode.ESCAPE:this._render();break;case $.ui.keyCode.UP:case $.ui.keyCode.DOWN:ev.preventDefault();if(this.$menu){let $element=ev.which===$.ui.keyCode.UP?this.$menu.children().last():this.$menu.children().first();$element.focus();}
break;case $.ui.keyCode.ENTER:this.limit=0;break;}},_onSearch:function(ev){if(this.$input[0].value){this.limit=0;}else{this._render();ev.preventDefault();if(!this.wasEmpty){this.limit=0;const form=this.$('.o_search_order_by').parents('form');form.submit();}}},});__exports[Symbol.for("default")]={searchBar:publicWidget.registry.searchBar,};return __exports;});;

/* /website_mass_mailing/static/src/snippets/s_popup/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_mass_mailing/snippets/s_popup/000',async function(require){'use strict';let __exports={};const PopupWidget=require('website.s_popup');PopupWidget.include({_canShowPopup(){if(this.$el.is('.o_newsletter_popup')&&this.$el.find('input.js_subscribe_email').prop('disabled')){return false;}
return this._super(...arguments);},});__exports[Symbol.for("default")]=PopupWidget;return __exports;});;

/* /website_payment/static/src/snippets/s_donation/000.js defined in bundle 'web.assets_frontend_lazy' */
odoo.define('@website_payment/snippets/s_donation/000',async function(require){'use strict';let __exports={};const{_t}=require('web.core');const publicWidget=require('web.public.widget');publicWidget.registry.DonationSnippet=publicWidget.Widget.extend({selector:'.s_donation',disabledInEditableMode:false,events:{'click .s_donation_btn':'_onClickPrefilledButton','click .s_donation_donate_btn':'_onClickDonateNowButton','input #s_donation_range_slider':'_onInputRangeSlider',},async start(){await this._super(...arguments);this.$rangeSlider=this.$('#s_donation_range_slider');this.defaultAmount=this.$target[0].dataset.defaultAmount;if(this.$rangeSlider.length){this.$rangeSlider.val(this.defaultAmount);this._setBubble(this.$rangeSlider);}
await this._displayCurrencies();},destroy(){this.$target.find('.s_donation_currency').remove();this._deselectPrefilledButtons();this.$('.alert-danger').remove();this._super(...arguments);},_deselectPrefilledButtons(){this.$('.s_donation_btn').removeClass('active');},_setBubble($range){const $bubble=this.$('.s_range_bubble');const val=$range.val();const min=$range[0].min||0;const max=$range[0].max||100;const newVal=Number(((val-min)*100)/(max-min));const tipOffsetLow=8-(newVal*0.16);$bubble.contents().filter(function(){return this.nodeType===3;}).replaceWith(val);$bubble[0].style.left=`calc(${newVal}% + (${tipOffsetLow}px))`;},_displayCurrencies(){return this._rpc({route:'/website/get_current_currency',}).then((result)=>{this.currency=result;this.$('.s_donation_currency').remove();const $prefilledButtons=this.$('.s_donation_btn, .s_range_bubble');_.each($prefilledButtons,button=>{const before=result.position==="before";const $currencySymbol=document.createElement('span');$currencySymbol.innerText=result.symbol;$currencySymbol.classList.add('s_donation_currency',before?"pr-1":"pl-1");if(before){$(button).prepend($currencySymbol);}else{$(button).append($currencySymbol);}});});},_onClickPrefilledButton(ev){const $button=$(ev.currentTarget);this._deselectPrefilledButtons();$button.addClass('active');if(this.$rangeSlider.length){this.$rangeSlider.val($button[0].dataset.donationValue);this._setBubble(this.$rangeSlider);}},_onClickDonateNowButton(ev){if(this.editableMode){return;};this.$('.alert-danger').remove();const $buttons=this.$('.s_donation_btn');const $selectedButton=$buttons.filter('.active');let amount=$selectedButton.length?$selectedButton[0].dataset.donationValue:0;if(this.$target[0].dataset.displayOptions&&!amount){if(this.$rangeSlider.length){amount=this.$rangeSlider.val();}else if($buttons.length){amount=parseFloat(this.$('#s_donation_amount_input').val());let errorMessage='';const minAmount=this.$target[0].dataset.minimumAmount;if(!amount){errorMessage=_t("Please select or enter an amount");}else if(amount<parseFloat(minAmount)){const before=this.currency.position==="before"?this.currency.symbol:"";const after=this.currency.position==="after"?this.currency.symbol:"";errorMessage=_.str.sprintf(_t("The minimum donation amount is %s%s%s"),before,minAmount,after);}
if(errorMessage){$(ev.currentTarget).before($('<p>',{class:'alert alert-danger',text:errorMessage,}));return;}}}
if(!amount){amount=this.defaultAmount;}
const $form=this.$('.s_donation_form');$('<input>').attr({type:'hidden',name:'amount',value:amount}).appendTo($form);$('<input>').attr({type:'hidden',name:'currency_id',value:this.currency.id}).appendTo($form);$('<input>').attr({type:'hidden',name:'csrf_token',value:odoo.csrf_token}).appendTo($form);$('<input>').attr({type:'hidden',name:'donation_options',value:JSON.stringify(this.el.dataset)}).appendTo($form);$form.submit();},_onInputRangeSlider(ev){this._deselectPrefilledButtons();this._setBubble($(ev.currentTarget));},});__exports[Symbol.for("default")]={DonationSnippet:publicWidget.registry.DonationSnippet,};return __exports;});